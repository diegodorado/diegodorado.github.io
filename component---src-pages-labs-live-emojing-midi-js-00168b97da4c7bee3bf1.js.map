{"version":3,"sources":["webpack:///./src/components/live-emojing/playground-midi.js","webpack:///./src/pages/labs/live-emojing-midi.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/components/seo.js","webpack:///./src/components/i18n.js","webpack:///./src/components/link.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/header/brand.js","webpack:///./src/components/live-emojing/context.js","webpack:///./node_modules/core-js/modules/es6.array.from.js","webpack:///./node_modules/core-js/modules/_create-property.js","webpack:///./src/layouts/live-emojing.js","webpack:///./src/components/live-emojing/utils.js","webpack:///./src/components/live-emojing/store.js","webpack:///./src/components/live-emojing/nick.js","webpack:///./src/components/live-emojing/avatar.js","webpack:///./src/components/emoji.js","webpack:///./src/components/live-emojing/connection.js","webpack:///./node_modules/core-js/modules/es6.array.find-index.js"],"names":["emojis_all","Playground","_ref","pattern","context","useContext","LiveEmojingContext","_useState","useState","highlighted","setHighlighted","_useState2","emojis","setEmojis","randomize","e","emojiArray","es","map","el","Math","floor","random","length","useEffect","navigator","requestMIDIAccess","then","ma","_iterator","inputs","values","_isArray","Array","isArray","_i","Symbol","iterator","_ref2","next","done","value","onmidimessage","onMIDIMessage","console","log","msg","data","from","commit","firsts","i","findIndex","ii","setTimeout","p","join","sendPattern","react_default","a","createElement","className","Helmet_default","htmlAttributes","class","key","LiveEmojingWithContext","configuring","connection","playground_midi","LiveEmojingIndex","location","live_emojing","seo","title","store","live_emojing_midi_LiveEmojingWithContext","__webpack_require__","d","__webpack_exports__","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","StaticQueryContext","React","createContext","props","Consumer","staticQueryData","query","render","children","propTypes","PropTypes","object","string","isRequired","func","m","module","exports","require","default","SEO","description","lang","meta","keywords","react__WEBPACK_IMPORTED_MODULE_1___default","gatsby__WEBPACK_IMPORTED_MODULE_4__","detailsQuery","metaDescription","site","siteMetadata","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","titleTemplate","name","content","property","author","concat","_public_static_d_1025518380_json__WEBPACK_IMPORTED_MODULE_0__","defaultProps","array","arrayOf","i18next__WEBPACK_IMPORTED_MODULE_0__","react_i18next__WEBPACK_IMPORTED_MODULE_1__","i18next_browser_languagedetector__WEBPACK_IMPORTED_MODULE_2__","i18next_browser_languagedetector__WEBPACK_IMPORTED_MODULE_2___default","_translations_en_json__WEBPACK_IMPORTED_MODULE_3__","_translations_es_json__WEBPACK_IMPORTED_MODULE_4__","_data_quotes_json__WEBPACK_IMPORTED_MODULE_5__","i18n","use","LanguageDetector","initReactI18next","init","resources","en","fallbackLng","whitelist","debug","process","saveMissing","updateMissing","load","keySeparator","interpolation","escapeValue","quotes","Link","to","_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default","useTranslation","react__WEBPACK_IMPORTED_MODULE_2___default","gatsby__WEBPACK_IMPORTED_MODULE_3__","Object","assign","languages","ProdPageRenderer","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","json","shape","swaps","Brand","_this","_React$Component","call","this","state","getDiff","diff","timer","round","setState","replace","componentDidMount","intervalId","setInterval","bind","componentWillUnmount","clearInterval","Component","ctx","$export","toObject","isArrayIter","toLength","createProperty","getIterFn","S","F","iter","arrayLike","result","step","O","C","aLen","arguments","mapfn","undefined","mapping","index","iterFn","$defineProperty","createDesc","f","_components_header_brand__WEBPACK_IMPORTED_MODULE_1__","react_helmet__WEBPACK_IMPORTED_MODULE_3__","Layout","id","bodyAttributes","splitter","GraphemeSplitter","operators","recentEmojis","o","includes","toString","padStart","filter","customEmojis","short_names","imageUrl","includeEmojis","i18nEmojis","search","categories","recent","str","splitGraphemes","alphaEmoji","patterns","min","max","randomPattern","r","push","j","t","shuffle","_iterator2","entries","_isArray2","_i2","_ref3","v","split","_i3","_arr","sanitizeEmojiId","parseInt","opts","endpoint","SocketConstructor","ws","reconnectInterval","ddp","LiveEmojingStore","connected","setConnected","nick","setNick","_useState3","avatarUrl","setAvatarUrl","_useState4","servers","setServers","_useState5","channel","setChannel","_useState6","playingAlone","setPlayingAlone","_useState7","setConfiguring","connectAsync","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","sub","serversCollection","wrap","_context","prev","simpleDDP","on","connect","subscribe","ready","collection","reactive","s","onChange","t0","stop","apply","react__WEBPACK_IMPORTED_MODULE_3___default","_context_js__WEBPACK_IMPORTED_MODULE_4__","Provider","joinChannel","toggleConfiguring","ev","preventDefault","playAlone","Nick","valid","setValid","confirmed","setConfirmed","understandsNameClick","setUnderstandsNameClick","reactLocalStorage","get","understands","confirm","set","Fragment","href","onClick","type","target","validity","onBlur","autoFocus","required","onKeyPress","event","onFocus","select","size","maxLength","Avatar","loadingAvatar","setLoadingAvatar","understandsAvatarClick","setUnderstandsAvatarClick","url","changeAvatarUrl","randomId","img","Image","onload","src","alt","width","height","Emoji","label","emoji","role","aria-label","Connection","components_emoji","components_link","avatar","live_emojing_nick","count","channelName","fa","streamingUrl","rel","$find","KEY","forced","P","callbackfn"],"mappings":"kOAKMA,EAAa,mvBAgFJC,EA7EI,SAAAC,GAAcA,EAAZC,QAAY,IAEzBC,EAAUC,qBAAWC,KAFIC,EAGOC,oBAAS,GAAxCC,EAHwBF,EAAA,GAGXG,EAHWH,EAAA,GAAAI,EAIHH,mBAAS,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,KAApDI,EAJwBD,EAAA,GAIhBE,EAJgBF,EAAA,GAMzBG,EAAa,WACjB,IAAMC,EAAIC,YAAWhB,GACrBa,EAAU,SAAAI,GAAE,OAAIA,EAAGC,IAAI,SAAAC,GAAE,OAAIJ,EAAEK,KAAKC,MAAMD,KAAKE,SAASP,EAAEQ,cAG5DC,oBAAU,WACRV,IACAW,UAAUC,oBAAoBC,KAC5B,SAACC,GACC,IAAAC,EAAkBD,EAAGE,OAAOC,SAA5BC,EAAAC,MAAAC,QAAAL,GAAAM,EAAA,MAAAN,EAAAG,EAAAH,IAAAO,OAAAC,cAAqC,KAAAC,EAAA,GAAAN,EAAA,IAAAG,GAAAN,EAAAN,OAAA,MAAAe,EAAAT,EAAAM,SAAA,KAAAA,EAAAN,EAAAU,QAAAC,KAAA,MAAAF,EAAAH,EAAAM,MAAAH,EAC7BI,cAAgBC,IAExB,kBAAIC,QAAQC,IAAI,0CACpB,IAEF,IAAMF,EAAgB,SAACG,GACrB,IAAMC,EAAOd,MAAMe,KAAKF,EAAIC,MAE5B,GADaA,EAAK,GACH,MAAZA,EAAK,IAAeA,EAAK,GAAG,EAC7B,GAAa,MAAVA,EAAK,IAAsB,KAAVA,EAAK,GACvBjC,SACG,GAAa,MAAViC,EAAK,IAAsB,KAAVA,EAAK,GAC5BE,QACE,CACF,IAAMC,EAAS,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,KAC9BC,EAAID,EAAOE,UAAU,SAAArC,GAAC,OAAKA,EAAE,GAAMgC,EAAK,KACxCM,EAAKN,EAAK,GAAGG,EAAOC,GACpBpC,EAAIC,YAAWhB,GACrBa,EAAU,SAAAI,GAGR,OAFAA,EAAGoC,GAAU,IAAJF,EAAO,KAAQpC,EAAEoC,EAAE/B,KAAKC,MAAMN,EAAEQ,OAAO,GAAG8B,GAE5CpB,MAAMe,KAAK/B,KAKxB,GAAe,MAAZ8B,EAAK,IAAeA,EAAK,GAAG,EAAE,CAC/B,IAEMhC,EAAIC,YAFU,6hBAIpBH,EAAU,SAAAI,GAGR,OAFAA,EAAG8B,EAAK,IAAMhC,EAAEgC,EAAK,IAEdd,MAAMe,KAAK/B,OAKlBgC,EAAS,WACbvC,GAAe,GACf4C,WAAW,kBAAM5C,GAAe,IAAO,KACvCG,EAAU,SAAAI,GACR,IAAMsC,EAAItC,EAAGuC,KAAK,IAElB,OADApD,EAAQqD,YAAYF,GACbtC,KAIX,OACEyC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAACE,EAAAH,EAAD,CAAQI,eAAgB,CAACC,MAAO,iBAChCN,EAAAC,EAAAC,cAAA,OAAKC,UAAS,SACZH,EAAAC,EAAAC,cAAA,OAAKC,WAAcpD,EAAc,YAAc,IAAjC,YACXG,EAAOM,IAAI,SAACH,EAAEoC,GAAH,OAASO,EAAAC,EAAAC,cAAA,QAAMK,IAAKd,GAAIpC,2BCtExCmD,EAAyB,SAAAhE,GAAc,IAAZC,EAAYD,EAAZC,QAE/B,OADsBE,qBAAWC,KAA1B6D,YACaT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,MAAiBV,EAAAC,EAAAC,cAACS,EAAD,CAAYlE,QAASA,KAgB7CmE,UAbU,SAAAhC,GAAe,IAAbiC,EAAajC,EAAbiC,SAEzB,OACEb,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAQD,SAAUA,GAChBb,EAAAC,EAAAC,cAACa,EAAA,EAAD,CAAKC,MAAM,iBACXhB,EAAAC,EAAAC,cAACe,EAAA,EAAD,KACEjB,EAAAC,EAAAC,cAACgB,EAAD,CAAwBzE,QAAQ,0CCnBxC0E,EAAAC,EAAAC,EAAA,sBAAAC,IAAA,IAAAC,EAAAJ,EAAA,GAAAK,EAAAL,EAAAM,EAAAF,GAAAG,EAAAP,EAAA,GAAAQ,EAAAR,EAAAM,EAAAC,GAAAE,EAAAT,EAAA,IAAAU,EAAAV,EAAAM,EAAAG,GAAAT,EAAAC,EAAAC,EAAA,sBAAAQ,EAAA5B,IAAAkB,EAAAC,EAAAC,EAAA,sBAAAO,EAAA,WAAAT,EAAA,SAaMW,EAAqBC,IAAMC,cAAc,IAEzCV,EAAc,SAAAW,GAAK,OACvBT,EAAAvB,EAAAC,cAAC4B,EAAmBI,SAApB,KACG,SAAAC,GACC,OACEF,EAAM5C,MACL8C,EAAgBF,EAAMG,QAAUD,EAAgBF,EAAMG,OAAO/C,MAEtD4C,EAAMI,QAAUJ,EAAMK,UAC5BL,EAAM5C,KAAO4C,EAAM5C,KAAKA,KAAO8C,EAAgBF,EAAMG,OAAO/C,MAGvDmC,EAAAvB,EAAAC,cAAA,uCA4BfoB,EAAYiB,UAAY,CACtBlD,KAAMmD,IAAUC,OAChBL,MAAOI,IAAUE,OAAOC,WACxBN,OAAQG,IAAUI,KAClBN,SAAUE,IAAUI,2BC1DtB,IAAsBC,EAKpBC,EAAOC,SALaF,EAKWG,EAAQ,OALRH,EAAEI,SAAYJ,4GCK/C,SAASK,EAAT1G,GAA2D,IAA5C2G,EAA4C3G,EAA5C2G,YAAaC,EAA+B5G,EAA/B4G,KAAMC,EAAyB7G,EAAzB6G,KAAMC,EAAmB9G,EAAnB8G,SAAUtC,EAASxE,EAATwE,MAChD,OACEuC,EAAAtD,EAAAC,cAACsD,EAAA,EAAD,CACEpB,MAAOqB,EACPpB,OAAQ,SAAAhD,GACN,IAAMqE,EACJP,GAAe9D,EAAKsE,KAAKC,aAAaT,YACxC,OACEI,EAAAtD,EAAAC,cAAC2D,EAAA5D,EAAD,CACEI,eAAgB,CACd+C,QAEFpC,MAAOA,EACP8C,cAAa,QAAUzE,EAAKsE,KAAKC,aAAa5C,MAC9CqC,KAAM,CACJ,CACEU,KAAI,cACJC,QAASN,GAEX,CACEO,SAAQ,WACRD,QAAShD,GAEX,CACEiD,SAAQ,iBACRD,QAASN,GAEX,CACEO,SAAQ,UACRD,QAAO,WAET,CACED,KAAI,eACJC,QAAO,WAET,CACED,KAAI,kBACJC,QAAS3E,EAAKsE,KAAKC,aAAaM,QAElC,CACEH,KAAI,gBACJC,QAAShD,GAEX,CACE+C,KAAI,sBACJC,QAASN,IAGVS,OACCb,EAASzF,OAAS,EACd,CACEkG,KAAI,WACJC,QAASV,EAASxD,KAAT,OAEX,IAELqE,OAAOd,MAtDlBhE,KAAA+E,IA8DJlB,EAAImB,aAAe,CACjBjB,KAAI,KACJC,KAAM,GACNC,SAAU,IAGZJ,EAAIX,UAAY,CACdY,YAAaX,IAAUE,OACvBU,KAAMZ,IAAUE,OAChBW,KAAMb,IAAU8B,MAChBhB,SAAUd,IAAU+B,QAAQ/B,IAAUE,QACtC1B,MAAOwB,IAAUE,OAAOC,YAGXO,MAEf,IAAMO,EAAY,+CCrFlB,IAAAe,EAAArD,EAAA,KAAAsD,EAAAtD,EAAA,KAAAuD,EAAAvD,EAAA,KAAAwD,EAAAxD,EAAAM,EAAAiD,GAAAE,EAAAzD,EAAA,KAAA0D,EAAA1D,EAAA,KAAA2D,EAAA3D,EAAA,KASA4D,IACGC,IAAIC,KACJD,IAAIE,KACJC,KAAK,CACJC,UAAW,CAAEC,KAAI9H,MACjB+H,YAAa,KACbC,UAAW,CAAC,KAAK,MACjBC,OAAOC,EACPC,aAAaD,EACbE,eAAeF,EACfG,KAAM,eACNC,cAAc,EACdC,cAAe,CACbC,aAAa,KAKnBhB,IAAKiB,OAASA,EAGCjB,EAAf,4vQCrBekB,IALF,SAAAzJ,GAAsB,IAAnB0J,EAAmB1J,EAAnB0J,GAAOjE,EAAYkE,IAAA3J,EAAA,QACxBuI,EAAQqB,cADgB,GAEjC,OAAOC,EAAApG,EAAAC,cAACoG,EAAA,EAADC,OAAAC,OAAA,GAAgBvE,EAAhB,CAAuBiE,GAAE,IAAMnB,EAAK0B,UAAU,GAAKP,wGCAtDQ,EAAmB,SAAAlK,GAAkB,IAAfqE,EAAerE,EAAfqE,SACpB8F,EAAgBC,UAAOC,4BAA4BhG,EAASiG,UAClE,OAAKH,EAIE5E,IAAM7B,cAAc6G,IAApBR,OAAAC,OAAA,CACL3F,WACA8F,iBACGA,EAAcK,OANV,MAUXN,EAAiBnE,UAAY,CAC3B1B,SAAU2B,IAAUyE,MAAM,CACxBH,SAAUtE,IAAUE,OAAOC,aAC1BA,YAGU+D,iHCrBTQ,EAAQ,CAAC,CAAC,IAAI,KAAK,CAAC,IAAI,KAAK,CAAC,IAAI,KAAK,CAAC,IAAI,KAAK,CAAC,IAAI,MAEtDC,cAEJ,SAAAA,EAAYlF,GAAM,IAAAmF,EAAA,OAChBA,EAAAC,EAAAC,KAAAC,KAAMtF,IAANsF,MACKC,MAAQ,CAACxG,MAAOiB,EAAMjB,MAAOkG,MAAOjF,EAAMiF,OAASA,GAFxCE,sCAKlBK,QAAA,WAEE,IADA,IAAIC,EAAO,EACHjI,EAAE,EAAEA,EAAE8H,KAAKtF,MAAMjB,MAAMnD,OAAO4B,IACpCiI,GAASH,KAAKC,MAAMxG,MAAMvB,KAAK8H,KAAKtF,MAAMjB,MAAMvB,GAAM,EAAI,EAE5D,OAAOiI,KAGTC,MAAA,WACE,IAAMT,EAAQK,KAAKC,MAAMN,MACrBzH,EAAI/B,KAAKC,MAAMD,KAAKE,SAASsJ,EAAMrJ,QACnCyB,EAAO5B,KAAKkK,MAAMlK,KAAKE,UACxB2J,KAAKE,UAAU,IAAGnI,EAAO,GAC5B,IAAI4G,EAAK5G,EAAO,EAAI,EACjB5B,KAAKE,SAAS,IACf2J,KAAKM,SAAS,CACZ7G,MAAOuG,KAAKC,MAAMxG,MAAM8G,QAAQZ,EAAMzH,GAAGH,GAAM4H,EAAMzH,GAAGyG,SAK9D6B,kBAAA,WACER,KAAKS,WAAaC,YAAYV,KAAKI,MAAMO,KAAKX,MAAO,QAGvDY,qBAAA,WACEC,cAAcb,KAAKS,eAGrB3F,OAAA,WACE,OACIgE,EAAApG,EAAAC,cAAA,UACEmG,EAAApG,EAAAC,cAACoG,EAAA,EAAD,CAAMJ,GAAE,KAAQqB,KAAKC,MAAMxG,YAvCjBe,IAAMsG,WAgD1BlB,EAAM5E,UAAY,CAChBvB,MAAOwB,IAAUE,OAAOC,WACxBuE,MAAO1E,IAAU8B,OAIJ6C,mLC5Df,IAAA5F,EAAAJ,EAAA,GAEMvE,EAFNuE,EAAAM,EAAAF,GAE2BQ,EAAMC,gBAElBpF,wCCHf,IAAA0L,EAAUnH,EAAQ,IAClBoH,EAAcpH,EAAQ,IACtBqH,EAAerH,EAAQ,IACvBmG,EAAWnG,EAAQ,IACnBsH,EAAkBtH,EAAQ,IAC1BuH,EAAevH,EAAQ,IACvBwH,EAAqBxH,EAAQ,KAC7ByH,EAAgBzH,EAAQ,IAExBoH,IAAAM,EAAAN,EAAAO,GAAiC3H,EAAQ,GAARA,CAAwB,SAAA4H,GAAmBxK,MAAAe,KAAAyJ,KAAoB,SAEhGzJ,KAAA,SAAA0J,GACA,IAOAnL,EAAAoL,EAAAC,EAAAvK,EAPAwK,EAAAX,EAAAQ,GACAI,EAAA,mBAAA7B,UAAAhJ,MACA8K,EAAAC,UAAAzL,OACA0L,EAAAF,EAAA,EAAAC,UAAA,QAAAE,EACAC,OAAAD,IAAAD,EACAG,EAAA,EACAC,EAAAf,EAAAO,GAIA,GAFAM,IAAAF,EAAAjB,EAAAiB,EAAAF,EAAA,EAAAC,UAAA,QAAAE,EAAA,IAEAA,MAAAG,GAAAP,GAAA7K,OAAAkK,EAAAkB,GAMA,IAAAV,EAAA,IAAAG,EADAvL,EAAA6K,EAAAS,EAAAtL,SACkCA,EAAA6L,EAAgBA,IAClDf,EAAAM,EAAAS,EAAAD,EAAAF,EAAAJ,EAAAO,MAAAP,EAAAO,SANA,IAAA/K,EAAAgL,EAAArC,KAAA6B,GAAAF,EAAA,IAAAG,IAAuDF,EAAAvK,EAAAE,QAAAC,KAAgC4K,IACvFf,EAAAM,EAAAS,EAAAD,EAAAnC,EAAA3I,EAAA4K,EAAA,CAAAL,EAAAnK,MAAA2K,IAAA,GAAAR,EAAAnK,OASA,OADAkK,EAAApL,OAAA6L,EACAT,uCCjCA,IAAAW,EAAsBzI,EAAQ,IAC9B0I,EAAiB1I,EAAQ,IAEzB2B,EAAAC,QAAA,SAAAN,EAAAiH,EAAA3K,GACA2K,KAAAjH,EAAAmH,EAAAE,EAAArH,EAAAiH,EAAAG,EAAA,EAAA9K,IACA0D,EAAAiH,GAAA3K,qCCNA,IAAAwC,EAAAJ,EAAA,GAAAK,EAAAL,EAAAM,EAAAF,GAAAwI,EAAA5I,EAAA,KAAA6I,GAAA7I,EAAA,KAAAA,EAAA,MAAA0C,EAAA1C,EAAAM,EAAAuI,GAoBeC,IAbA,SAAAzN,GAAA,IAAG8F,EAAH9F,EAAG8F,SAAH9F,EAAcqE,SAAd,OACbW,EAAAvB,EAAAC,cAAA,OAAKgK,GAAG,OACN1I,EAAAvB,EAAAC,cAAA,cACEsB,EAAAvB,EAAAC,cAAC2D,EAAA5D,EAAD,CAAQkK,eAAgB,CAAC7J,MAAM,uBAC/BkB,EAAAvB,EAAAC,cAAC6J,EAAA,EAAD,CAAO/I,MAAM,kBAMfQ,EAAAvB,EAAAC,cAAA,YAAOoC,0XCfE8H,EAAW,WAAIC,GAEtBC,EAAY,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAM,IAAI,IAAK,KAG5IC,EAAeD,EACzB9M,IAAK,SAACgN,EAAE/K,GAAH,MAAS,CAAC,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAK,IAAK,KAAKgL,SAASD,GAAK,GAAG/K,EAAEiL,WAAWC,SAAS,EAAE,OAC9FC,OAAQ,SAACJ,GAAD,MAAY,KAALA,IAELK,EAAeP,EACzB9M,IAAK,SAACgN,EAAE/K,GAAO,MAAO,CAAEsE,KAAMyG,EAAGM,YAAa,CAACrL,EAAEiL,WAAWC,SAAS,EAAE,MAAOI,SAAQ,iBAAmBtL,EAAEiL,WAAWC,SAAS,EAAE,KAA3C,UACtFC,OAAQ,SAACJ,GAAD,OAAOD,EAAaE,SAASD,EAAEM,YAAY,MAGzCE,EAAgB,CAAC,SAAS,SAAS,SAAS,QAAQ,WAAW,SAAS,WAExEC,EAAa,CAAEC,OAAQ,SAAUC,WAAY,CAAEC,OAAQ,qBAEvD9N,EAAa,SAAC+N,GACzB,OAAOjB,EAASkB,eAAeD,IAI3BnO,EAAQ,wwBAGDqO,EAAanB,EAASkB,eAAepO,GAG5CsO,EAAW,CACf,MACA,UACA,kBACA,SACA,eACA,cACA,cACA,+BACA,mBACA,cACA,mBAcI5N,EAAS,SAAC6N,EAAIC,GAClB,OAAOhO,KAAKC,MAAMD,KAAKE,UAAU8N,EAAID,IAAMA,GAGhCE,EAAgB,WAC3B,IAAI9L,EAAI2L,EAAS5N,EAAO,EAAE4N,EAAS3N,SAC/B+N,EAAI,GACRzN,EAAajB,EAAboB,EAAAC,MAAAC,QAAAL,GAAAM,EAAA,MAAAN,EAAAG,EAAAH,IAAAO,OAAAC,cAAoB,KAAAnC,EAAA,GAAA8B,EAAA,IAAAG,GAAAN,EAAAN,OAAA,MAAArB,EAAA2B,EAAAM,SAAA,KAAAA,EAAAN,EAAAU,QAAAC,KAAA,MAAAtC,EAAAiC,EAAAM,MAAA,IAAZ1B,EAAYb,EACfa,EAAEQ,OAAO,GAAG+N,EAAEC,KAAKxO,IAjBV,SAAC4C,GACf,IAAK,IAAIR,EAAIQ,EAAEpC,OAAS,EAAG4B,EAAI,EAAGA,IAAK,CACrC,IAAMqM,EAAIpO,KAAKC,MAAMD,KAAKE,UAAY6B,EAAI,IACpCsM,EAAI9L,EAAER,GACZQ,EAAER,GAAKQ,EAAE6L,GACT7L,EAAE6L,GAAKC,GAcTC,CAAQJ,GACR,IAAAK,EAAqB,CAAC,IAAI,IAAI,IAAI,KAAKC,UAAvCC,EAAA5N,MAAAC,QAAAyN,GAAAG,EAAA,MAAAH,EAAAE,EAAAF,IAAAvN,OAAAC,cAAkD,KAAAC,EAAA,GAAAuN,EAAA,IAAAC,GAAAH,EAAApO,OAAA,MAAAe,EAAAqN,EAAAG,SAAA,KAAAA,EAAAH,EAAApN,QAAAC,KAAA,MAAAF,EAAAwN,EAAArN,MAAA,IAAAsN,EAAAzN,EAAtCa,EAAsC4M,EAAA,GAAnCC,EAAmCD,EAAA,GAChDxM,EAAIA,EAAE0M,MAAMD,GAAGxM,KAAK8L,EAAEnM,IAExB,QAAA+M,EAAA,EAAAC,EAAgB,CAAC,IAAI,KAArBD,EAAAC,EAAA5O,OAAA2O,IAA2B,CAAhB/M,EAACgN,EAAAD,GACV3M,EAAIA,EAAE0M,MAAM9M,GAAGK,KAAKlC,EAAO,EAAE,IAE/B,OAAOiC,GAGI6M,EAAkB,SAAC3I,GAI9B,OAHAA,EAAOA,EAAK+D,QAAQ,IAAI,KAAKA,QAAQ,IAAI,QACtC6E,SAAS5I,GAAM2G,aAAa3G,IAC7BA,EAAO,MAAMA,GACRA,0IC3EH6I,EAAO,CACTC,SAAU,qCAEVC,yBAAmBC,EACnBC,kBAAmB,KAGnBC,EAAM,KAkEKC,IA/DU,SAAA1Q,GAAgB,IAAd8F,EAAc9F,EAAd8F,SAAczF,EAELC,oBAAS,GAApCqQ,EAFgCtQ,EAAA,GAErBuQ,EAFqBvQ,EAAA,GAAAI,EAGfH,mBAAS,IAA1BuQ,EAHgCpQ,EAAA,GAG1BqQ,EAH0BrQ,EAAA,GAAAsQ,EAILzQ,mBAAS,IAApC0Q,EAJgCD,EAAA,GAIrBE,EAJqBF,EAAA,GAAAG,EAKT5Q,mBAAS,IAAhC6Q,EALgCD,EAAA,GAKvBE,EALuBF,EAAA,GAAAG,EAMT/Q,mBAAS,IAAhCgR,EANgCD,EAAA,GAMvBE,EANuBF,EAAA,GAAAG,EAOClR,oBAAS,GAA1CmR,EAPgCD,EAAA,GAOlBE,EAPkBF,EAAA,GAAAG,EAQDrR,oBAAS,GAAxC2D,EARgC0N,EAAA,GAQnBC,EARmBD,EAAA,GAWjCE,GAAYzP,EAAA0P,IAAAC,EAAAtO,EAAAuO,KAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAJ,EAAAtO,EAAA2O,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAhQ,MAAA,cAAAgQ,EAAAC,KAAA,EAEjB1B,GAAa,IACbH,EAAM,IAAI8B,IAAUnC,IAChBoC,GAAG,eAAgB,kBAAM5B,GAAa,KAJzByB,EAAAhQ,KAAA,EAKXoO,EAAIgC,UALO,cAMjB7B,GAAa,GACPsB,EAAMzB,EAAIiC,UAAU,kBAPTL,EAAAhQ,KAAA,GAQX6P,EAAIS,QARO,QASXR,EAAoB1B,EAAImC,WAAW,WAAWC,WACpDzB,EAAW,SAAA0B,GAAC,OAAGA,EAAE1E,OAAO,SAAAnL,GAAC,OAAI,IAAO0E,OAAQwK,EAAkBtP,UAC9DsP,EAAkBY,SAAS,SAAClQ,GAC1BuO,EAAW,SAAA0B,GAAC,OAAGA,EAAE1E,OAAO,SAAAnL,GAAC,OAAI,IAAO0E,OAAO9E,OAZ5BwP,EAAAhQ,KAAA,iBAAAgQ,EAAAC,KAAA,GAAAD,EAAAW,GAAAX,EAAA,SAejB3P,QAAQC,IAAI,SAAZ0P,EAAAW,IACApC,GAAa,GAhBI,yBAAAyB,EAAAY,SAAAhB,EAAA,kBAAH,kBAAA7P,EAAA8Q,MAAAnI,KAAA+B,aAAA,IAAA1K,EAoBlBd,oBAAU,WACRuQ,KACC,IAsBH,OACEsB,EAAA1P,EAAAC,cAAC0P,EAAA,EAAmBC,SAApB,CAA6B9Q,MAAO,CAACoO,YAAUE,OAAKM,UAAQG,UAASgC,YAXnD,SAAChC,GACnBI,GAAgB,GAChBE,GAAe,GACfL,EAAWD,IAQsER,UAAQvN,YALvE,SAACtD,GACnBwQ,EAAI3F,KAAK,cAAcwG,EAAS,CAACT,OAAMG,YAAW/Q,aAIoD+Q,YAAWC,eAAasC,kBArBtG,SAACC,GACzBA,EAAGC,iBACH7B,GAAgB3N,IAmBgIA,cAAYyP,UAhB5I,WAChBhC,GAAgB,GAChBE,GAAe,IAcuJH,iBACnK3L,4ECVQ6N,EA1DF,WAEX,IAAMzT,EAAUC,qBAAWC,KAFXC,EAGUC,oBAAS,GAA5BsT,EAHSvT,EAAA,GAGFwT,EAHExT,EAAA,GAAAI,EAIkBH,oBAAS,GAApCwT,EAJSrT,EAAA,GAIEsT,EAJFtT,EAAA,GAAAsQ,EAKwCzQ,oBAAS,GAA1D0T,EALSjD,EAAA,GAKakD,EALblD,EAAA,GAOhBzP,oBAAU,WACR,IAAMuP,EAAOqD,oBAAkBC,IAAI,OAAQ,cACjC,KAAPtD,IACD3Q,EAAQ4Q,QAAQD,GAChBgD,GAAS,GACTE,GAAa,IAGf,IAAMK,EAAwE,SAAzDF,oBAAkBC,IAAI,uBAAwB,SACnEF,EAAwBG,IACxB,IAEF,IAeMC,EAAU,WACXT,IACDM,oBAAkBI,IAAI,OAAQpU,EAAQ2Q,MACtCkD,GAAa,KAUjB,OACEvQ,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8Q,SAAA,KACGT,EACEtQ,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,iBAAH,IAAgBF,EAAAC,EAAAC,cAAA,KAAG8Q,KAAK,IAAIC,QAxBb,SAAC5T,GACrBA,EAAE4S,iBACFM,GAAa,GAEbG,oBAAkBI,IAAI,wBAAwB,GAC9CL,GAAwB,KAmBkC/T,EAAQ2Q,MAA7D,MAA4EmD,EAA2E,KAArDxQ,EAAAC,EAAAC,cAAA,gBAAQ,QAAR,kCAClGF,EAAAC,EAAAC,cAAA,SAAOgR,KAAK,OAAOnS,MAAOrC,EAAQ2Q,KAAMkC,SAhC9B,SAAClS,GAChBX,EAAQ4Q,QAAQjQ,EAAE8T,OAAOpS,OACzBsR,EAAShT,EAAE8T,OAAOC,SAAShB,QA8BsCiB,OAAQR,EAASS,WAAS,EAACC,UAAQ,EAAC9U,QAAQ,wBAAwB+U,WAVpH,SAACC,GACD,UAAdA,EAAMlR,KACPsQ,KAQ2Ja,QA3B3I,SAACD,GAAD,OAAWA,EAAMN,OAAOQ,UA2ByIC,KAAM,GAAIC,UAAW,OCE7LC,EApDA,WAEb,IAAMpV,EAAUC,qBAAWC,KAFTC,EAGwBC,oBAAS,GAA5CiV,EAHWlV,EAAA,GAGImV,EAHJnV,EAAA,GAAAI,EAI0CH,oBAAS,GAA9DmV,EAJWhV,EAAA,GAIaiV,EAJbjV,EAAA,GAMlBa,oBAAU,WACR,IAAMqU,EAAMzB,oBAAkBC,IAAI,YAAa,IAC/CyB,EAAgBD,GAChB,IAAMvB,EAA0E,SAA3DF,oBAAkBC,IAAI,yBAA0B,SACrEuB,EAA0BtB,IAC1B,IAEF,IAAMwB,EAAkB,SAACD,GAEvB,IAAIA,EAAI,CACN,IAAME,EAAW3U,KAAKC,MAAoB,IAAdD,KAAKE,UACjCuU,EAAG,uCAAyCE,EAG9CL,GAAiB,GACjB,IAAMM,EAAM,IAAIC,MAChBD,EAAIE,OAAS,WACX9B,oBAAkBI,IAAI,YAAaqB,GACnCzV,EAAQ+Q,aAAa0E,GACrBH,GAAiB,IAEnBM,EAAIG,IAAMN,GAeZ,OACEnS,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8Q,SAAA,KACE/Q,EAAAC,EAAAC,cAAA,OAAKwS,IAAI,GAAGC,MAAO,IAAKC,OAAQ,IAAKH,IAAK/V,EAAQ8Q,UAAWyD,QAb1C,SAAC5T,GACnB0U,IAGHK,IAEA1B,oBAAkBI,IAAI,0BAA0B,GAChDoB,GAA0B,KAM8D/R,WAAe4R,EAAgB,UAAY,IAAlC,aAC5FE,EAAsE,KAA9CjS,EAAAC,EAAAC,cAAA,SAAI,QAAJ,mCC3ClB2S,EALD,SAAArW,GAAA,IAAEsW,EAAFtW,EAAEsW,MAAOC,EAATvW,EAASuW,MAAT,OACV/S,EAAAC,EAAAC,cAAA,QAAM8S,KAAK,MAAMC,aAAYH,GAAQC,+BC6C1BG,IAvCI,WAEjB,IAAMxW,EAAUC,qBAAWC,KACpBmP,EAAO3F,cAHQ,GAMtB,OACEpG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,gDAAuCF,EAAAC,EAAAC,cAACiT,EAAD,CAAOJ,MAAM,OAApD,IAA4D/S,EAAAC,EAAAC,cAAA,cAAKF,EAAAC,EAAAC,cAACkT,EAAA,EAAD,CAAMlN,GAAI,uBAAV,oBAAL,MAC5DlG,EAAAC,EAAAC,cAAA,gEAAuDF,EAAAC,EAAAC,cAAA,0BAAvD,OAAoFF,EAAAC,EAAAC,cAAA,yBAApF,wDAAiKF,EAAAC,EAAAC,cAAA,4BAAjK,KACAF,EAAAC,EAAAC,cAACmT,EAAD,MACArT,EAAAC,EAAAC,cAACoT,EAAD,MACC5W,EAAQyQ,UACmB,IAAzBzQ,EAAQiR,QAAQ9P,OACfmC,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAACiT,EAAD,CAAOJ,MAAM,OAAhB,+CAAmE/S,EAAAC,EAAAC,cAAA,4CACjEF,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8Q,SAAA,KACChF,EAAE,qBAAsB,CAACwH,MAAM7W,EAAQiR,QAAQ9P,SAChDmC,EAAAC,EAAAC,cAAA,qLACCxD,EAAQiR,QAAQnQ,IAAI,SAAA8R,GAAC,OACpBtP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UAAUI,IAAK+O,EAAEpF,IAC9BlK,EAAAC,EAAAC,cAAA,cAAMoP,EAAEkE,YAAR,aACAxT,EAAAC,EAAAC,cAAA,UAAQC,UAAU,MAAM8Q,QAAS,SAACjB,GAAD,OAAMtT,EAAQoT,YAAYR,EAAEkE,eAA7D,QAAgFxT,EAAAC,EAAAC,cAACuT,EAAA,EAAD,OAC/EnE,EAAEoE,aACD1T,EAAAC,EAAAC,cAAA,KAAGC,UAAU,MAAM6Q,KAAM1B,EAAEoE,aAAcvC,OAAO,SAASwC,IAAI,uBAA7D,SAAyF3T,EAAAC,EAAAC,cAACuT,EAAA,EAAD,OACzFzT,EAAAC,EAAAC,cAAA,YAAMF,EAAAC,EAAAC,cAACiT,EAAD,CAAOJ,MAAM,OAAnB,6BAIV/S,EAAAC,EAAAC,cAAA,aAAIF,EAAAC,EAAAC,cAACiT,EAAD,CAAOJ,MAAM,OAAjB,8BACF/S,EAAAC,EAAAC,cAAA,6DACAF,EAAAC,EAAAC,cAAA,UAAQC,UAAU,MAAM8Q,QAAS,SAACjB,GAAD,OAAMtT,EAAQwT,cAA/C,cAAuElQ,EAAAC,EAAAC,cAACuT,EAAA,EAAD,4CCrC7E,IAAAlL,EAAcpH,EAAQ,IACtByS,EAAYzS,EAAQ,GAARA,CAA0B,GACtC0S,EAAA,YACAC,GAAA,EAEAD,IAAA,IAAAtV,MAAA,GAAAsV,GAAA,WAA0CC,GAAA,IAC1CvL,IAAAwL,EAAAxL,EAAAO,EAAAgL,EAAA,SACApU,UAAA,SAAAsU,GACA,OAAAJ,EAAArM,KAAAyM,EAAA1K,UAAAzL,OAAA,EAAAyL,UAAA,QAAAE,MAGArI,EAAQ,GAARA,CAA+B0S","file":"component---src-pages-labs-live-emojing-midi-js-00168b97da4c7bee3bf1.js","sourcesContent":["import React, {useState, useEffect, useContext} from \"react\"\nimport Helmet from \"react-helmet\"\nimport LiveEmojingContext from './context.js'\nimport {emojiArray} from './utils'\n\nconst emojis_all = \"ğŸ˜€ğŸ˜ğŸ˜‚ğŸ¤£ğŸ˜ƒğŸ˜„ğŸ˜…ğŸ˜†ğŸ˜‰ğŸ˜ŠğŸ˜‹ğŸ˜ğŸ˜ğŸ˜˜ğŸ˜—ğŸ˜™ğŸ˜šğŸ™‚ğŸ¤—ğŸ¤©ğŸ¤”ğŸ¤¨ğŸ˜ğŸ˜‘ğŸ˜¶ğŸ™„ğŸ˜ğŸ˜£ğŸ˜¥ğŸ˜®ğŸ¤ğŸ˜¯ğŸ˜ªğŸ˜«ğŸ˜´ğŸ˜ŒğŸ˜›ğŸ˜œğŸ˜ğŸ¤¤ğŸ˜’ğŸ˜“ğŸ˜”ğŸ˜•ğŸ™ƒğŸ¤‘ğŸ˜²ğŸ™ğŸ˜–ğŸ˜ğŸ˜ŸğŸ˜¤ğŸ˜¢ğŸ˜­ğŸ˜¦ğŸ˜§ğŸ˜¨ğŸ˜©ğŸ¤¯ğŸ˜¬ğŸ˜°ğŸ˜±ğŸ˜³ğŸ¤ªğŸ˜µğŸ˜¡ğŸ˜ ğŸ¤¬ğŸ˜·ğŸ¤’ğŸ¤•ğŸ¤¢ğŸ¤®ğŸ¤§ğŸ˜‡ğŸ¤ ğŸ¤¡ğŸ¤¥ğŸ¤«ğŸ¤­ğŸ§ğŸ¤“ğŸ˜ˆğŸ‘¿ğŸ‘¹ğŸ‘ºğŸ‘½ğŸ‘¾ğŸ¤–ğŸ’©ğŸ˜ºğŸ˜¸ğŸ˜¹ğŸ˜»ğŸ˜¼ğŸ˜½ğŸ™€ğŸ˜¿ğŸ˜¾ğŸ™ˆğŸ™‰ğŸ™ŠğŸ¤¦ğŸ’ªğŸ‘ˆğŸ‘‰ğŸ‘†ğŸ–•ğŸ‘‡ğŸ¤ğŸ––ğŸ¤˜ğŸ¤™ğŸ–ï¸âœ‹ğŸ‘ŒğŸ‘ğŸ‘âœŠğŸ‘ŠğŸ‘‹ğŸ¤ŸğŸ‘ğŸ‘ğŸ™ŒğŸ¤²ğŸ™ğŸ¤ğŸ’…ğŸ’“ğŸ’”ğŸ’•ğŸ’–ğŸ’—ğŸ’™ğŸ’šğŸ’›ğŸ§¡ğŸ’œğŸ–¤ğŸ’£ğŸ’¥ğŸ’¦ğŸ’¨ğŸ’«ğŸ‘‘ğŸ’„ğŸ’ğŸ’ğŸµğŸ’ğŸ¦ğŸ¶ğŸºğŸ¦ŠğŸ±ğŸˆğŸ¦ğŸ¯ğŸ´ğŸ¦„ğŸ¦“ğŸ¦ŒğŸ®ğŸ·ğŸ—ğŸ¦’ğŸ˜ğŸ¦ğŸ­ğŸğŸ€ğŸ¹ğŸ°ğŸ‡ğŸ¿ï¸ğŸ¦”ğŸ¦‡ğŸ»ğŸ¨ğŸ¼ğŸ¾ğŸ¦ƒğŸ”ğŸ“ğŸ£ğŸ¤ğŸ¥ğŸ¦ğŸ§ğŸ•Šï¸ğŸ¦…ğŸ¦†ğŸ¦‰ğŸ¸ğŸŠğŸ¢ğŸ¦ğŸğŸ²ğŸ‰ğŸ¦•ğŸ¦–ğŸ³ğŸ‹ğŸ¬ğŸŸğŸ ğŸ¡ğŸ¦ˆğŸ™ğŸšğŸ¦€ğŸ¦ğŸ¦‘ğŸŒğŸ¦‹ğŸ›ğŸœğŸğŸğŸ¦—ğŸ•·ï¸ğŸ•¸ï¸ğŸ¦‚ğŸ’ğŸŒ¸ğŸ’®ğŸµï¸ğŸŒ¹ğŸ¥€ğŸŒºğŸŒ»ğŸŒ¼ğŸŒ·ğŸŒ±ğŸŒ²ğŸŒ³ğŸŒ´ğŸŒµğŸŒ¾ğŸŒ¿â˜˜ï¸ğŸ€ğŸğŸ‚ğŸƒğŸ‡ğŸˆğŸ‰ğŸğŸğŸğŸğŸ‘ğŸ’ğŸ“ğŸ¥ğŸ…ğŸ¥¥ğŸ¥‘ğŸ†ğŸ¥”ğŸ¥•ğŸŒ½ğŸŒ¶ï¸ğŸ¥’ğŸ¥¦ğŸ„ğŸ¥œğŸŒ°ğŸğŸ¥ğŸ¥–ğŸ¥¨ğŸ¥ğŸ§€ğŸ–ğŸ—ğŸ¥©ğŸ¥“ğŸ”ğŸŸğŸ•ğŸŒ­ğŸ¥ªğŸŒ®ğŸŒ¯ğŸ¥™ğŸ¥šğŸ³ğŸ¥˜ğŸ²ğŸ¥£ğŸ¥—ğŸ¿ğŸ¥«ğŸ±ğŸ˜ğŸ™ğŸšğŸ›ğŸœğŸğŸ ğŸ¢ğŸ£ğŸ¤ğŸ¥ğŸ¡ğŸ¥ŸğŸ¥ ğŸ¥¡ğŸ¦ğŸ§ğŸ¨ğŸ©ğŸªğŸ‚ğŸ°ğŸ¥§ğŸ«ğŸ¬ğŸ­ğŸ®ğŸ¯ğŸ¼ğŸ¥›â˜•ğŸµğŸ¶ğŸ¾ğŸ·ğŸ¸ğŸ¹ğŸºğŸ»ğŸ¥‚ğŸ¥ƒğŸ¥¤ğŸ”ªğŸºğŸƒğŸ„ğŸ†ğŸ‡âœ¨ğŸˆğŸ‰ğŸŠğŸ‹ğŸğŸğŸğŸğŸš€ğŸ›¸â°ğŸ•˜ğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”ğŸŒ•ğŸŒ–ğŸŒ—ğŸŒ˜ğŸŒ™ğŸŒšğŸŒ›ğŸŒœğŸŒğŸŒˆğŸ”¥ğŸ’§\"\n\n\nconst Playground = ({pattern}) =>{\n\n  const context = useContext(LiveEmojingContext)\n  const [highlighted, setHighlighted] = useState(false)\n  const [emojis, setEmojis] = useState(['','','','','','','','',])\n\n  const randomize =  ()  =>{\n    const e = emojiArray(emojis_all)\n    setEmojis(es => es.map(el => e[Math.floor(Math.random()*e.length)]) )\n  }\n\n  useEffect(()=>{\n    randomize()\n    navigator.requestMIDIAccess().then(\n      (ma)=>{\n        for (let input of ma.inputs.values()){\n          input.onmidimessage = onMIDIMessage\n        }\n      },()=>console.log('Could not access your MIDI devices.'))\n  },[])\n\n  const onMIDIMessage = (msg) => {\n    const data = Array.from(msg.data)\n    const type = data[0] & 0xf0\n    if(data[0] === 0x90 && data[2]>0){\n      if(data[1]===104 || data[1]===32)\n        randomize()\n      else if(data[1]===120 || data[1]===31)\n        commit()\n      else{\n        const firsts = [0,16,32,48,64,80,96,112]\n        const i = firsts.findIndex(e => (e+8) >= data[1])\n        const ii = data[1]-firsts[i]\n        const e = emojiArray(emojis_all)\n        setEmojis(es => {\n          es[ii] = i===0? 'ğŸ¤«' :  e[i*Math.floor(e.length/8)+ii]\n          //return a new array to let react update\n          return Array.from(es)\n        })\n      }\n    }\n\n    if(data[0] === 0xB0 && data[1]<8){\n      const emojis_less = \"ğŸ¤«ğŸ˜‚ğŸ¤£ğŸ˜ğŸ˜ğŸ˜˜ğŸ¤©ğŸ˜´ğŸ˜–ğŸ˜¢ğŸ˜­ğŸ¤¯ğŸ˜±ğŸ˜¡ğŸ¤¡ğŸ‘¿ğŸ‘¹ğŸ‘ºğŸ‘½ğŸ‘¾ğŸ¤–ğŸ’©ğŸ˜ºğŸ˜»ğŸ™ŠğŸ’ªğŸ–•ğŸ‘ŒğŸ‘ğŸ™ğŸ’“ğŸ’”ğŸ’šğŸ’›ğŸ§¡ğŸ’œğŸ’£ğŸ’¥ğŸ’¦ğŸ’ğŸ’ğŸµğŸ’ğŸ¦ğŸ¶ğŸºğŸ¦ŠğŸ±ğŸˆğŸ¦ğŸ¯ğŸ´ğŸ¦„ğŸ¦“ğŸ¦ŒğŸ®ğŸ·ğŸ—ğŸ¦’ğŸ˜ğŸ¦ğŸ­ğŸğŸ€ğŸ¹ğŸ°ğŸ‡ğŸ¿ï¸ğŸ¦”ğŸ¦‡ğŸ»ğŸ¨ğŸ¼ğŸ¾ğŸ¦ƒğŸ”ğŸ“ğŸ£ğŸ¤ğŸ¥ğŸ¦ğŸ§ğŸ•Šï¸ğŸ¦…ğŸ¦†ğŸ¦‰ğŸ¸ğŸŠğŸ¢ğŸ¦ğŸğŸ²ğŸ‰ğŸ¦•ğŸ¦–ğŸ³ğŸ‹ğŸ¬ğŸŸğŸ ğŸ¡ğŸ¦ˆğŸ™ğŸšğŸ¦€ğŸ¦ğŸ¦‘ğŸŒğŸ¦‹ğŸ›ğŸœğŸğŸğŸ¦—ğŸ•·ï¸ğŸ•¸ï¸ğŸ¦‚ğŸ’ğŸŒ¸ğŸ’®ğŸµï¸ğŸŒ¹ğŸ¥€ğŸŒºğŸŒ»ğŸŒ¼ğŸŒ·ğŸŒ±ğŸŒ²ğŸŒ³ğŸŒ´ğŸŒµğŸŒ¾ğŸŒ¿â˜˜ï¸ğŸ€ğŸğŸ‚ğŸƒğŸ‡ğŸˆğŸ‰ğŸğŸğŸğŸğŸ‘ğŸ’ğŸ“ğŸ¥ğŸ…ğŸ¥¥ğŸ¥‘ğŸ†ğŸ¥”ğŸ¥•ğŸŒ½ğŸŒ¶ï¸ğŸ¥’ğŸ¥¦ğŸ„ğŸ¥œğŸŒ°ğŸğŸ¥ğŸ¥–ğŸ¥¨ğŸ¥ğŸ§€ğŸ–ğŸ—ğŸ¥©ğŸ¥“ğŸ”ğŸŸğŸ•ğŸŒ­ğŸ¥ªğŸŒ®ğŸŒ¯ğŸ¥™ğŸ¥šğŸ³ğŸ¥˜ğŸ²ğŸ¥£ğŸ¥—ğŸ¿ğŸ¥«ğŸ±ğŸ˜ğŸ™ğŸšğŸ›ğŸœğŸğŸ ğŸ¢ğŸ£ğŸ¤ğŸ¥ğŸ¡ğŸ¥ŸğŸ¥ ğŸ¥¡ğŸ¦ğŸ§ğŸ¨ğŸ©ğŸªğŸ‚ğŸ°ğŸ¥§ğŸ«ğŸ¬ğŸ­ğŸ®ğŸ¯ğŸ¼ğŸ¥›â˜•ğŸµğŸ¶ğŸ¾ğŸ·ğŸ¸ğŸ¹ğŸºğŸ»ğŸ¥‚ğŸ¥ƒğŸ¥¤ğŸ”ªğŸºğŸƒğŸ„ğŸ†ğŸ‡âœ¨ğŸˆğŸ‰ğŸŠğŸ‹ğŸğŸğŸğŸğŸš€ğŸ›¸â°ğŸ•˜ğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”ğŸŒ•ğŸŒ–ğŸŒ—ğŸŒ˜ğŸŒ™ğŸŒšğŸŒ›ğŸŒœğŸŒğŸŒˆğŸ”¥ğŸ’§\"\n\n      const e = emojiArray(emojis_less)\n\n      setEmojis(es => {\n        es[data[1]] = e[data[2]]\n        //return a new array to let react update\n        return Array.from(es)\n      })\n    }\n  }\n\n  const commit = () => {\n    setHighlighted(true)\n    setTimeout(() => setHighlighted(false),300)\n    setEmojis(es => {\n      const p = es.join('')\n      context.sendPattern(p)\n      return es\n    })\n  }\n\n  return (\n    <div className=\"play play-midi\">\n      <Helmet htmlAttributes={{class: 'full-screen' }} />\n      <div className={`input`}>\n        <pre className={`${highlighted ? 'highlight' : '' } preview`}>\n          {emojis.map((e,i) => <span key={i}>{e}</span>)}\n        </pre>\n      </div>\n    </div>\n  )\n}\n\nexport default Playground\n","import React, {useContext} from \"react\"\nimport Layout from \"../../layouts/live-emojing\"\nimport SEO from \"../../components/seo\"\nimport Playground from '../../components/live-emojing/playground-midi'\nimport Connection from '../../components/live-emojing/connection'\nimport LiveEmojingStore from '../../components/live-emojing/store'\nimport LiveEmojingContext from '../../components/live-emojing/context.js'\n\nconst LiveEmojingWithContext = ({pattern}) =>{\n  const {configuring} = useContext(LiveEmojingContext)\n  return configuring? <Connection /> : <Playground pattern={pattern} />\n}\n\nconst LiveEmojingIndex = ({location}) =>{\n\n  return (\n    <Layout location={location} >\n      <SEO title=\"live emojing\" />\n      <LiveEmojingStore>\n        <LiveEmojingWithContext pattern=\"\" />\n      </LiveEmojingStore>\n    </Layout>\n  )\n\n}\n\nexport default LiveEmojingIndex\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Helmet from \"react-helmet\"\nimport { StaticQuery, graphql } from \"gatsby\"\n\nfunction SEO({ description, lang, meta, keywords, title }) {\n  return (\n    <StaticQuery\n      query={detailsQuery}\n      render={data => {\n        const metaDescription =\n          description || data.site.siteMetadata.description\n        return (\n          <Helmet\n            htmlAttributes={{\n              lang,\n            }}\n            title={title}\n            titleTemplate={`%s | ${data.site.siteMetadata.title}`}\n            meta={[\n              {\n                name: `description`,\n                content: metaDescription,\n              },\n              {\n                property: `og:title`,\n                content: title,\n              },\n              {\n                property: `og:description`,\n                content: metaDescription,\n              },\n              {\n                property: `og:type`,\n                content: `website`,\n              },\n              {\n                name: `twitter:card`,\n                content: `summary`,\n              },\n              {\n                name: `twitter:creator`,\n                content: data.site.siteMetadata.author,\n              },\n              {\n                name: `twitter:title`,\n                content: title,\n              },\n              {\n                name: `twitter:description`,\n                content: metaDescription,\n              },\n            ]\n              .concat(\n                keywords.length > 0\n                  ? {\n                      name: `keywords`,\n                      content: keywords.join(`, `),\n                    }\n                  : []\n              )\n              .concat(meta)}\n          />\n        )\n      }}\n    />\n  )\n}\n\nSEO.defaultProps = {\n  lang: `en`,\n  meta: [],\n  keywords: [],\n}\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  lang: PropTypes.string,\n  meta: PropTypes.array,\n  keywords: PropTypes.arrayOf(PropTypes.string),\n  title: PropTypes.string.isRequired,\n}\n\nexport default SEO\n\nconst detailsQuery = graphql`\n  query DefaultSEOQuery {\n    site {\n      siteMetadata {\n        title\n        description\n        author\n      }\n    }\n  }\n`\n","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\"\n\nimport en from \"../translations/en.json\"\nimport es from \"../translations/es.json\"\nimport quotes from \"../data/quotes.json\"\n\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    resources: { en, es },\n    fallbackLng: 'en',\n    whitelist: ['en','es'],\n    debug: process.env.NODE_ENV === \"development\",\n    saveMissing: process.env.NODE_ENV === \"development\",\n    updateMissing: process.env.NODE_ENV === \"development\",\n    load: 'languageOnly',\n    keySeparator: false, // we do not use keys in form messages.welcome\n    interpolation: {\n      escapeValue: false // react already safes from xss\n    }\n  })\n\n//todo: is this the right places for this??\ni18n.quotes = quotes\n\n\nexport default i18n\n","import React from \"react\"\nimport { Link as GatsbyLink} from \"gatsby\"\nimport { useTranslation } from 'react-i18next'\n\nconst Link = ({ to, ...props }) => {\n  const [, i18n] = useTranslation();\n  return <GatsbyLink {...props} to={`/${i18n.languages[0]}${to}`} />\n}\n\nexport default Link\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  if (!pageResources) {\n    return null\n  }\n\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React from \"react\"\nimport { Link } from \"gatsby\"\nimport PropTypes from 'prop-types'\n\nconst swaps = [['i','1'],['e','3'],['o','0'],['g','6'],['a','4']]\n//todo: improve performance\nclass Brand extends React.Component {\n\n  constructor(props){\n    super(props)\n    this.state = {title: props.title, swaps: props.swaps || swaps}\n  }\n\n  getDiff(){\n    let diff = 0\n    for(let i=0;i<this.props.title.length;i++){\n      diff += (this.state.title[i]===this.props.title[i]) ? 0 : 1\n    }\n    return diff\n  }\n\n  timer() {\n    const swaps = this.state.swaps\n    let i = Math.floor(Math.random()*swaps.length)\n    let from = Math.round(Math.random())\n    if(this.getDiff()>3) from = 1\n    let to = from ? 0 : 1\n    if(Math.random()<0.5){\n      this.setState({\n        title: this.state.title.replace(swaps[i][from],swaps[i][to])\n      })\n    }\n  }\n\n  componentDidMount(){\n    this.intervalId = setInterval(this.timer.bind(this), 100);\n  }\n\n  componentWillUnmount(){\n    clearInterval(this.intervalId);\n  }\n\n  render() {\n    return (\n        <h1>\n          <Link to={`/`}>{this.state.title}</Link>\n        </h1>\n    )\n  }\n\n}\n\n\n\nBrand.propTypes = {\n  title: PropTypes.string.isRequired,\n  swaps: PropTypes.array,\n};\n\n\nexport default Brand\n","import React from 'react'\n\nconst LiveEmojingContext = React.createContext()\n\nexport default LiveEmojingContext\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","import React from \"react\"\nimport Brand from \"../components/header/brand\"\nimport \"../components/i18n\"\n\n//import LanguagesLinks from \"../components/header/languages-links\"\nimport Helmet from \"react-helmet\"\n\nconst Layout = ({ children , location})  =>\n  <div id=\"app\">\n    <header>\n      <Helmet bodyAttributes={{class:'dark live-emojing'}} />\n      <Brand title=\"live emojing\"/>\n      {//<nav>\n        //<LanguagesLinks location={location}/>\n      //</nav>\n    }\n    </header>\n    <main>{children}</main>\n  </div>\n\nexport default Layout\n","import GraphemeSplitter from 'grapheme-splitter'\n\nexport const splitter = new GraphemeSplitter()\n\nconst operators = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '*', '/', '', '[', ']', '(', ')', '<', '>', '{' ,'}' ,'?' ,'@', '~', '!' , '%',' ', ',' ]\n\n//filtering operators that arent supported yet.\nexport const recentEmojis = operators\n  .map( (o,i) => ['','{','}','@','!','%','(', ')', ','].includes(o) ? '':i.toString().padStart(3,'0'))\n  .filter( (o) => o !=='' )\n\nexport const customEmojis = operators\n  .map( (o,i) => {return { name: o, short_names: [i.toString().padStart(3,'0')], imageUrl: `/images/icons/${i.toString().padStart(3,'0')}.svg`}} )\n  .filter( (o) => recentEmojis.includes(o.short_names[0]))\n\n\nexport const includeEmojis = ['recent','people','nature','foods','activity','places','objects']\n\nexport const i18nEmojis = { search: 'Filter', categories: { recent: 'Nums & Operators' } }\n\nexport const emojiArray = (str) => {\n  return splitter.splitGraphemes(str)\n}\n\n\nconst emojis ='ğŸ˜ğŸ‘½ğŸ’…ğŸ¤¡ğŸ¤ªğŸ˜µğŸ˜¡ğŸ˜ ğŸ¤¬ğŸ˜·ğŸ¤’ğŸ¤•ğŸ¤¢ğŸ¤®ğŸ¤§ğŸ˜‡ğŸ¤ ğŸ¤¥ğŸ¤«ğŸ¤­ğŸ§ğŸ¤“ğŸ˜ˆğŸ‘¿ğŸ‘¹ğŸ‘ºğŸ‘¾ğŸ¤–ğŸ’©ğŸ˜ºğŸ˜¸ğŸ˜¹ğŸ˜»ğŸ˜¼ğŸ˜½ğŸ™€ğŸ˜¿ğŸ˜¾ğŸ™ˆğŸ™‰ğŸ™ŠğŸ’ªğŸ‘ˆğŸ‘‰ğŸ‘†ğŸ–•ğŸ‘‡ğŸ¤ğŸ––ğŸ¤˜ğŸ¤™ğŸ–ï¸âœ‹ğŸ‘ŒğŸ‘ğŸ‘âœŠğŸ‘ŠğŸ‘‹ğŸ¤ŸğŸ‘ğŸ‘ğŸ™ŒğŸ¤²ğŸ™ğŸ¤ğŸ˜€ğŸ˜ğŸ˜‚ğŸ¤£ğŸ˜ƒğŸ˜„ğŸ˜…ğŸ˜†ğŸ˜‰ğŸ˜ŠğŸ˜‹ğŸ˜ğŸ˜˜ğŸ˜—ğŸ˜™ğŸ˜šğŸ™‚ğŸ¤—ğŸ¤©ğŸ¤”ğŸ¤¨ğŸ˜ğŸ˜‘ğŸ˜¶ğŸ™„ğŸ˜ğŸ˜£ğŸ˜¥ğŸ˜®ğŸ¤ğŸ˜¯ğŸ˜ªğŸ˜«ğŸ˜´ğŸ˜ŒğŸ˜›ğŸ˜œğŸ˜ğŸ¤¤ğŸ˜’ğŸ˜“ğŸ˜”ğŸ˜•ğŸ™ƒğŸ¤‘ğŸ˜²ğŸ™ğŸ˜–ğŸ˜ğŸ˜ŸğŸ˜¤ğŸ˜¢ğŸ˜­ğŸ˜¦ğŸ˜§ğŸ˜¨ğŸ˜©ğŸ¤¯ğŸ˜¬ğŸ˜°ğŸ˜±ğŸ˜³âœŠğŸ‘ğŸ‘†ğŸ’ªğŸ–•ğŸ™ğŸ’“ğŸ’”ğŸ’•ğŸ’–ğŸ’—ğŸ’™ğŸ’šğŸ’›ğŸ§¡ğŸ’œğŸ–¤ğŸ¤¦ğŸ’£ğŸ’¥ğŸ’¦ğŸ’¨ğŸ’«ğŸ‘‘ğŸ’„ğŸ’ğŸ’ğŸµğŸ’ğŸ¦ğŸ¶ğŸºğŸ¦ŠğŸ±ğŸˆğŸ¦ğŸ¯ğŸ´ğŸ¦„ğŸ¦“ğŸ¦ŒğŸ®ğŸ”¥ğŸ’§ğŸ””ï¸ğŸ–ğŸ·ğŸ—ğŸ¦’ğŸ˜ğŸ¦ğŸ­ğŸğŸ€ğŸ¹ğŸ°ğŸ‡ğŸ¿ï¸ğŸ¦”ğŸ¦‡ğŸ»ğŸ¨ğŸ¼ğŸ¾ğŸ¦ƒğŸ”ğŸ“ğŸ£ğŸ¤ğŸ¥ğŸ¦ğŸ§ğŸ•Šï¸ğŸ¦…ğŸ¦†ğŸ¦‰ğŸ¸ğŸŠğŸ¢ğŸ¦ğŸğŸ²ğŸ‰ğŸ¦•ğŸ¦–ğŸ³ğŸ‹ğŸ¬ğŸŸğŸ ğŸ¡ğŸ¦ˆğŸ™ğŸšğŸ¦€ğŸ¦ğŸ¦‘ğŸŒğŸ¦‹ğŸ›ğŸœğŸğŸğŸ¦—ğŸ•·ï¸ğŸ•¸ï¸ğŸ¦‚ğŸ’ğŸŒ¸ğŸ’®ğŸµï¸ğŸŒ¹ğŸ¥€ğŸŒºğŸŒ»ğŸŒ¼ğŸŒ·ğŸŒ±ğŸŒ²ğŸŒ³ğŸŒ´ğŸŒµğŸŒ¾ğŸŒ¿â˜˜ï¸ğŸ€ğŸğŸ‚ğŸƒğŸ‡ğŸˆğŸ‰ğŸğŸğŸğŸğŸ‘ğŸ’ğŸ“ğŸ¥ğŸ…ğŸ¥¥ğŸ¥‘ğŸ†ğŸ¥”ğŸ¥•ğŸŒ½ğŸŒ¶ï¸ğŸ¥’ğŸ¥¦ğŸ„ğŸ¥œğŸŒ°ğŸğŸ¥ğŸ¥–ğŸ¥¨ğŸ¥ğŸ§€ğŸ–ğŸ—ğŸ¥©ğŸ¥“ğŸ”ğŸŸğŸ•ğŸŒ­ğŸ¥ªğŸŒ®ğŸŒ¯ğŸ¥™ğŸ¥šğŸ³ğŸ¥˜ğŸ²ğŸ¥£ğŸ¥—ğŸ¿ğŸ¥«ğŸ±ğŸ˜ğŸ™ğŸšğŸ›ğŸœğŸğŸ ğŸ¢ğŸ£ğŸ¤ğŸ¥ğŸ¡ğŸ¥ŸğŸ¥ ğŸ¥¡ğŸ¦ğŸ§ğŸ¨ğŸ©ğŸªğŸ‚ğŸ°ğŸ¥§ğŸ«ğŸ¬ğŸ­ğŸ®ğŸ¯ğŸ¼ğŸ¥›â˜•ğŸµğŸ¶ğŸ¾ğŸ·ğŸ¸ğŸ¹ğŸºğŸ»ğŸ¥‚ğŸ¥ƒğŸ¥¤ğŸ”ªğŸºğŸƒğŸ„ğŸ†ğŸ‡âœ¨ğŸˆğŸ‰ğŸŠğŸ‹ğŸğŸğŸğŸğŸ‘ï¸ğŸš€ğŸ›¸ğŸ›â°ğŸ•˜ğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”ğŸŒ•ğŸŒ–ğŸŒ—ğŸŒ˜ğŸŒ™ğŸŒšğŸŒ›ğŸŒœğŸŒğŸŒˆ'\n\n\nexport const alphaEmoji = splitter.splitGraphemes(emojis)\n\n//avoiding that arent supported yet.\nconst patterns = [\n  'a b',\n  'a b ~ c',\n  'a b a c a b a d',\n  'a*x? c',\n  '[a*2 a*2?] b',\n  'a b*2 c d*4',\n  '[a b a c/2]',\n  '[ a [a b c d] b [c*2 d*4 ] ]',\n  '[ a*4 <b/2 c*2>]',\n  '<a b*2 c*4>',\n  '<a b*x a*4 c*y>',\n//  'a(x,8)',\n//  'a(<x y>, 8)',\n]\n\nconst shuffle = (a) => {\n  for (var i = a.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1))\n    const t = a[i]\n    a[i] = a[j]\n    a[j] = t\n  }\n}\n\nconst random = (min,max) => {\n  return Math.floor(Math.random()*(max-min))+min\n}\n\nexport const randomPattern = ()=>{\n  let p = patterns[random(0,patterns.length)]\n  let r = []\n  for(let e of emojis){\n    if(e.length>1) r.push(e)\n  }\n  shuffle(r)\n  for (const [i, v] of ['a','b','c','d'].entries()) {\n    p = p.split(v).join(r[i])\n  }\n  for (const i of ['x','y']) {\n    p = p.split(i).join(random(2,7))\n  }\n  return p\n}\n\nexport const sanitizeEmojiId = (name) =>{\n  name = name.replace('-','_').replace('+','plus')\n  if(parseInt(name).toString()===name)\n    name = 'num'+name\n  return name\n}\n","import React, { useState, useEffect } from 'react';\nimport LiveEmojingContext from './context.js'\nimport simpleDDP from 'simpleddp'\nimport ws from 'isomorphic-ws'\n\nconst opts = {\n    endpoint: \"wss://av.thundernize.com/websocket\",\n    // endpoint: \"ws://localhost:3000/websocket\",\n    SocketConstructor: ws,\n    reconnectInterval: 5000\n}\n\nlet ddp = null\n\n\nconst LiveEmojingStore = ({children}) => {\n\n  const [connected, setConnected] = useState(false)\n  const [nick, setNick] = useState('')\n  const [avatarUrl, setAvatarUrl] = useState('')\n  const [servers, setServers] = useState([])\n  const [channel, setChannel] = useState('')\n  const [playingAlone, setPlayingAlone] = useState(false)\n  const [configuring, setConfiguring] = useState(true)\n\n  //this will observe for active servers\n  const connectAsync = async  () =>{\n    try {\n      setConnected(false)\n      ddp = new simpleDDP(opts)\n      ddp.on('disconnected', () => setConnected(false))\n      await ddp.connect()\n      setConnected(true)\n      const sub = ddp.subscribe('emojis.servers')\n      await sub.ready()\n      const serversCollection = ddp.collection('servers').reactive()\n      setServers(s=> s.filter(i => false).concat( serversCollection.data()))\n      serversCollection.onChange((data)=>{\n        setServers(s=> s.filter(i => false).concat(data))\n      })\n    } catch (error) {\n      console.log('error!', error)\n      setConnected(false)\n    }\n  }\n\n  useEffect(() => {\n    connectAsync()\n  }, [])\n\n  const toggleConfiguring = (ev)=>{\n    ev.preventDefault()\n    setConfiguring(!configuring)\n  }\n\n  const playAlone = ()=>{\n    setPlayingAlone(true)\n    setConfiguring(false)\n  }\n\n  const joinChannel = (channel)=>{\n    setPlayingAlone(false)\n    setConfiguring(false)\n    setChannel(channel)\n  }\n\n  const sendPattern = (pattern)=>{\n    ddp.call('emojis.send',channel, {nick, avatarUrl, pattern})\n  }\n\n  return (\n    <LiveEmojingContext.Provider value={{connected,nick,servers,channel, joinChannel,setNick,sendPattern, avatarUrl, setAvatarUrl,toggleConfiguring,configuring,playAlone,playingAlone}}>\n      {children}\n    </LiveEmojingContext.Provider>\n  )\n\n}\n\nexport default LiveEmojingStore\n","import React, {useState, useEffect, useContext} from \"react\"\nimport {reactLocalStorage} from 'reactjs-localstorage'\nimport LiveEmojingContext from './context.js'\n\nconst Nick = () =>{\n\n  const context = useContext(LiveEmojingContext)\n  const [valid, setValid] = useState(false)\n  const [confirmed, setConfirmed] = useState(false)\n  const [understandsNameClick, setUnderstandsNameClick] = useState(false)\n\n  useEffect(()=>{\n    const nick = reactLocalStorage.get('nick', 'funky-duck')\n    if(nick!==''){\n      context.setNick(nick)\n      setValid(true)\n      setConfirmed(true)\n    }\n\n    const understands = (reactLocalStorage.get('understandsNameClick', 'false')==='true')\n    setUnderstandsNameClick(understands)\n  },[])\n\n  const onChange = (e) => {\n    context.setNick(e.target.value)\n    setValid(e.target.validity.valid)\n  }\n\n  const handleFocus = (event) => event.target.select()\n\n  const onChangeClick = (e) => {\n    e.preventDefault()\n    setConfirmed(false)\n    //hides help and save setting\n    reactLocalStorage.set('understandsNameClick', true)\n    setUnderstandsNameClick(true)\n  }\n\n  const confirm = () => {\n    if(valid){\n      reactLocalStorage.set('nick', context.nick)\n      setConfirmed(true)\n    }\n  }\n\n  const onKeyPress = (event) => {\n    if(event.key === 'Enter'){\n      confirm()\n    }\n  }\n\n  return (\n    <>\n      {confirmed?\n        (<p><em>Hey</em> <a href=\"/\" onClick={onChangeClick}>{context.nick}</a> ! {(!understandsNameClick)?<span> {'<--- '} Click the name to change it </span>:null}</p>):\n        (<input type=\"text\" value={context.nick} onChange={onChange} onBlur={confirm} autoFocus required pattern=\"^[A-Za-z0-9_-]{3,15}$\" onKeyPress={onKeyPress} onFocus={handleFocus} size={15} maxLength={15}/>)\n      }\n    </>\n  )\n\n}\n\nexport default Nick\n","import React, {useState, useEffect, useContext} from \"react\"\nimport {reactLocalStorage} from 'reactjs-localstorage'\nimport LiveEmojingContext from './context.js'\n\n\nconst Avatar = () =>{\n\n  const context = useContext(LiveEmojingContext)\n  const [loadingAvatar, setLoadingAvatar] = useState(false)\n  const [understandsAvatarClick, setUnderstandsAvatarClick] = useState(false)\n\n  useEffect(()=>{\n    const url = reactLocalStorage.get('avatarUrl', '')\n    changeAvatarUrl(url)\n    const understands = (reactLocalStorage.get('understandsAvatarClick', 'false')==='true')\n    setUnderstandsAvatarClick(understands)\n  },[])\n\n  const changeAvatarUrl = (url) => {\n    // get a random url if none provided\n    if(!url){\n      const randomId = Math.floor(Math.random()*100)\n      url =`https://api.adorable.io/avatars/200/${randomId}`\n    }\n\n    setLoadingAvatar(true)\n    const img = new Image()\n    img.onload = () => {\n      reactLocalStorage.set('avatarUrl', url)\n      context.setAvatarUrl(url)\n      setLoadingAvatar(false)\n    }\n    img.src = url\n  }\n\n\n  const onChangeAvatar = (e) => {\n    if(loadingAvatar)\n      return\n\n    changeAvatarUrl()\n    //hides help and save setting\n    reactLocalStorage.set('understandsAvatarClick', true)\n    setUnderstandsAvatarClick(true)\n  }\n\n\n  return (\n    <>\n      <img alt=\"\" width={150} height={150} src={context.avatarUrl} onClick={onChangeAvatar} className={`${ loadingAvatar ? 'loading' : '' }  avatar`}/>\n      {(!understandsAvatarClick)?<p>{'<--- '}Click the avatar to change it</p>:null}\n    </>\n  )\n\n}\n\n\nexport default Avatar\n","import React from \"react\"\n\nconst Emoji = ({label, emoji}) =>\n    <span role=\"img\" aria-label={label}>{emoji}</span>\n\n\n\nexport default Emoji\n","import React, {useContext} from \"react\"\nimport LiveEmojingContext from './context.js'\nimport Nick from './nick.js'\nimport Avatar from './avatar.js'\nimport Emoji from '../emoji.js'\nimport {FaEye,FaSignInAlt,FaPlay} from 'react-icons/fa'\nimport {useTranslation } from 'react-i18next'\nimport Link from \"../link\"\n\nconst Connection = () =>{\n\n  const context = useContext(LiveEmojingContext)\n  const [t, ] = useTranslation();\n\n\n  return (\n    <div className=\"connection\">\n      <p>Welcome to live coding with emojis! <Emoji emoji=\"ğŸ˜†\" /> <em>(<Link to={'/works/live-emojing'}> + info about it</Link>)</em></p>\n      <p>If there is an active live emojing channel, you can <strong>watch it</strong> or <strong>join it</strong> and be part of the session. Otherwise, you can just <strong>play alone</strong>.</p>\n      <Avatar/>\n      <Nick/>\n      {context.connected ?\n        (context.servers.length===0 ?\n          <p><Emoji emoji=\"ğŸ˜¢\" /> Sadly, no live emojing channel was found...<em>You dont even need a nickname</em></p>\n          :(<>\n            {t('liveCodingSessions', {count:context.servers.length})}\n            <p>When joining a channel, be sure to be also watching it on another window or device. {`Doesn't`} make much sense to send your emojis and without seeing them in action.</p>\n            {context.servers.map(s =>\n              <div className=\"channel\" key={s.id}>\n                <h3>\"{s.channelName}\" channel</h3>\n                <button className=\"btn\" onClick={(ev)=>context.joinChannel(s.channelName)}>join <FaSignInAlt/></button>\n                {s.streamingUrl?\n                  <a className=\"btn\" href={s.streamingUrl} target=\"_blank\" rel=\"noopener noreferrer\">watch <FaEye/></a>:\n                  <span><Emoji emoji=\"ğŸ˜\" /> no streaming url ...</span>\n                }\n              </div>)}\n          </>))\n      : <p> <Emoji emoji=\"ğŸ˜­\" /> Cannot get channels list.</p>}\n      <p>Want to play on your own? You can always do that:\n      <button className=\"btn\" onClick={(ev)=>context.playAlone()}>play alone <FaPlay/></button>\n      </p>\n    </div>\n  )\n\n\n}\n\n\nexport default Connection\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n"],"sourceRoot":""}