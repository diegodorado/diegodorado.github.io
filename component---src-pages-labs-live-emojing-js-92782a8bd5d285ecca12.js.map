{"version":3,"sources":["webpack:///./src/layouts/live-emojing.js","webpack:///./src/components/live-emojing/utils.js","webpack:///./src/components/live-emojing/context.js","webpack:///./src/components/live-emojing/playground.js","webpack:///./src/components/live-emojing/nick.js","webpack:///./src/components/live-emojing/avatar.js","webpack:///./src/components/emoji.js","webpack:///./src/components/live-emojing/connection.js","webpack:///./src/components/live-emojing/store.js","webpack:///./src/pages/labs/live-emojing.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/components/seo.js","webpack:///./src/components/i18n.js","webpack:///./src/components/link.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/header/brand.js","webpack:///./src/components/live-emojing/tidal.js","webpack:///./src/components/live-emojing/pattern.js"],"names":["Layout","_ref","children","location","react_default","a","createElement","id","Helmet_default","bodyAttributes","class","brand","title","splitter","GraphemeSplitter","operators","recentEmojis","map","o","i","includes","toString","padStart","filter","customEmojis","name","short_names","imageUrl","includeEmojis","i18nEmojis","search","categories","recent","emojiArray","str","splitGraphemes","emojis","alphaEmoji","patterns","random","min","max","Math","floor","randomPattern","p","length","r","_iterator","_isArray","Array","isArray","_i","Symbol","iterator","next","done","value","e","push","j","t","shuffle","_iterator2","entries","_isArray2","_i2","_ref2","_ref3","v","split","join","_i3","_arr","sanitizeEmojiId","replace","parseInt","LiveEmojingContext","React","createContext","Object","values","emojiIndex","native","emoji_ids","reduce","_Object$assign","assign","git_raw","samples","players","schedules","glyphs","listingData","canvasCtx","stopAnimation","backspaceOn","parsedGrammar","Playground","pattern","canvasRef","createRef","context","useContext","_useState","useState","expanded","setExpanded","_useState2","tapped","setTapped","_useState3","tapping","_useState4","showInstructions","setShowInstructions","_useState5","isDesktop","setIsDesktop","_useState6","highlighted","setHighlighted","_useState7","error","setError","_useState8","samplesLoaded","setSamplesLoaded","_useState9","soundOn","setSoundOn","_useState10","tempo","_useState11","left","setLeft","_useState12","right","setRight","_useState13","canvasWidth","setCanvasWidth","_useState14","canvasHeight","setCanvasHeight","useEffect","playingAlone","Tone","state","initAudio","fetch","then","json","data","setListingData","catch","err","console","log","current","getContext","lineWidth","fillStyle","font","requestAnimationFrame","tick","window","orientation","reactLocalStorage","get","document","addEventListener","onFullScreenChange","onWindowResize","removeEventListener","suspend","onKeyPress","ensureEmojiSamples","parser","parse","sounds","c","codePointAt","Pattern","isFullScreen","undefined","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","onExpandClick","el","documentElement","rfs","requestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","cfs","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","preventDefault","stopPropagation","call","innerWidth","innerHeight","drawEmojis","width","canvas","height","clearRect","fillRect","g","life","fillText","emoji","offset","splice","comp","Compressor","toMaster","urls","n","_Object$assign2","Players","connect","latencyHint","Transport","start","onCommitClick","commit","ctrlKey","key","toLowerCase","charCodeAt","l","onLeftClick","onRightClick","onBackspaceClick","shift","onRandomClick","pop","onBackspaceDown","Date","now","onBackspaceUp","moveCarret","isLeft","index","all","concat","slice","onSoundToggle","clearTransportSchedules","stop","resume","cancel","_schedules","eventId","clear","set","setTimeout","schedule","sendPattern","_loop","ensureEmojiSample","path","has","add","encodeURI","root","process_group","params","steps","keys","node","k","stepDur","duration","div","ss","s","transverse","clone","cycle","chance","process_onestep","Fraction","_iterator3","_isArray3","_i4","_ref4","mul","process_repeat","operator","dur","repeatValue","process_degrade","type","eid","indexOf","sample","scheduleRepeat","time","Draw","valueOf","process_emoji","onPreviewClick","className","htmlAttributes","ref","onClick","alt","src","avatarUrl","nick","channel","href","toggleConfiguring","role","aria-label","Fragment","fa","onTouchStart","onTouchEnd","onMouseDown","onMouseUp","dist_es","style","borderRadius","border","showPreview","emojiSize","custom","i18n","color","include","emojisToShowFilter","Nick","valid","setValid","confirmed","setConfirmed","understandsNameClick","setUnderstandsNameClick","setNick","understands","confirm","onChange","target","validity","onBlur","autoFocus","required","event","onFocus","select","size","maxLength","Avatar","loadingAvatar","setLoadingAvatar","understandsAvatarClick","setUnderstandsAvatarClick","url","changeAvatarUrl","randomId","img","Image","onload","setAvatarUrl","Emoji","label","Connection","useTranslation","components_emoji","components_link","to","avatar","live_emojing_nick","connected","servers","count","channelName","ev","joinChannel","streamingUrl","rel","playAlone","opts","endpoint","SocketConstructor","ws","reconnectInterval","ddp","LiveEmojingStore","setConnected","setServers","setChannel","setPlayingAlone","configuring","setConfiguring","connectAsync","asyncToGenerator_default","regenerator_default","mark","_callee","sub","serversCollection","wrap","_context","prev","simpleDDP","on","subscribe","ready","collection","reactive","t0","apply","this","arguments","live_emojing_context","Provider","LiveEmojingWithContext","connection","playground","LiveEmojingIndex","parts","hash","decodeURIComponent","live_emojing","seo","store","live_emojing_LiveEmojingWithContext","__webpack_require__","d","__webpack_exports__","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","StaticQueryContext","props","Consumer","staticQueryData","query","render","propTypes","PropTypes","object","string","isRequired","func","m","module","exports","require","default","SEO","description","lang","meta","keywords","react__WEBPACK_IMPORTED_MODULE_1___default","gatsby__WEBPACK_IMPORTED_MODULE_4__","detailsQuery","metaDescription","site","siteMetadata","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","titleTemplate","content","property","author","_public_static_d_1025518380_json__WEBPACK_IMPORTED_MODULE_0__","defaultProps","array","arrayOf","i18next__WEBPACK_IMPORTED_MODULE_0__","react_i18next__WEBPACK_IMPORTED_MODULE_1__","i18next_browser_languagedetector__WEBPACK_IMPORTED_MODULE_2__","i18next_browser_languagedetector__WEBPACK_IMPORTED_MODULE_2___default","_translations_en_json__WEBPACK_IMPORTED_MODULE_3__","_translations_es_json__WEBPACK_IMPORTED_MODULE_4__","_data_quotes_json__WEBPACK_IMPORTED_MODULE_5__","use","LanguageDetector","initReactI18next","init","resources","en","es","fallbackLng","whitelist","debug","process","saveMissing","updateMissing","load","keySeparator","interpolation","escapeValue","quotes","Link","_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default","react__WEBPACK_IMPORTED_MODULE_2___default","gatsby__WEBPACK_IMPORTED_MODULE_3__","languages","ProdPageRenderer","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","shape","swaps","Brand","_this","_React$Component","getDiff","diff","timer","from","round","setState","componentDidMount","intervalId","setInterval","bind","componentWillUnmount","clearInterval","Component","peg$SyntaxError","message","expected","found","Error","captureStackTrace","child","parent","ctor","constructor","prototype","peg$subclass","buildMessage","DESCRIBE_EXPECTATION_FNS","literal","expectation","literalEscape","text","escapedParts","classEscape","inverted","any","end","other","hex","ch","toUpperCase","descriptions","sort","describeExpected","describeFound","SyntaxError","input","options","peg$result","peg$FAILED","peg$startRuleFunctions","peg$parsepattern","peg$startRuleFunction","peg$c0","peg$otherExpectation","peg$c1","body","peg$c2","cycleBody","cycleSection","frac","toFraction","parseToObject","peg$c3","peg$c4","peg$c5","peg$literalExpectation","peg$c6","peg$c7","peg$c8","peg$c9","peg$c10","peg$c11","peg$classExpectation","peg$c12","peg$c13","peg$c14","peg$c15","peg$c16","peg$c17","peg$c18","peg$c19","peg$c20","peg$c21","peg$c22","peg$c23","peg$c24","peg$c25","peg$c26","peg$c27","peg$c28","peg$c29","peg$c30","peg$c31","peg$c32","peg$c33","peg$c34","peg$c35","peg$c36","peg$c37","peg$c38","peg$c39","peg$c40","peg$c41","peg$c42","peg$c43","peg$c44","peg$c45","peg$c46","peg$c47","peg$c48","peg$c49","peg$c50","peg$c51","peg$c52","peg$c53","peg$c54","peg$c55","peg$c56","peg$c57","peg$c58","peg$c59","peg$c60","peg$c61","peg$c62","peg$c63","peg$c64","peg$c65","peg$c66","peg$c67","peg$c68","peg$c69","peg$c70","peg$c71","peg$c72","peg$c73","peg$c74","peg$c75","peg$c76","peg$c77","peg$c78","peg$c79","peg$c80","peg$c81","peg$c82","peg$c83","peg$c84","peg$c85","peg$c86","peg$c87","peg$c88","peg$c89","peg$c90","peg$c91","peg$c92","peg$c93","peg$c94","peg$c95","peg$c96","peg$c97","peg$c98","peg$c99","peg$c100","peg$c101","peg$c102","peg$c103","peg$c104","peg$c105","peg$c106","peg$c107","peg$c108","peg$c109","peg$c110","peg$c111","peg$c112","peg$c113","peg$c114","peg$c115","peg$c116","peg$c117","peg$c118","peg$c119","peg$c120","peg$c121","peg$c122","peg$c123","peg$c124","peg$c125","peg$c126","peg$c127","peg$c128","peg$c129","peg$c130","peg$c131","peg$c132","peg$c133","peg$c134","peg$c135","peg$c136","peg$c137","peg$c138","peg$c139","peg$c140","peg$c141","peg$c142","peg$c143","peg$c144","peg$c145","peg$c146","peg$c147","peg$c148","peg$c149","peg$c150","peg$c151","peg$c152","peg$c153","peg$c154","peg$c155","peg$c156","peg$c157","peg$c158","peg$c159","peg$c160","peg$c161","peg$c162","peg$c163","peg$c164","peg$c165","peg$c166","peg$c167","peg$c168","peg$c169","peg$c170","peg$c171","peg$c172","peg$c173","peg$c174","peg$c175","peg$c176","peg$c177","peg$c178","peg$c179","peg$c180","peg$c185","peg$c186","peg$c187","peg$c188","peg$c189","peg$c190","peg$c191","peg$c192","peg$c193","peg$c194","peg$c195","peg$c196","peg$c197","peg$c198","peg$c199","peg$c200","peg$c201","peg$c202","peg$c203","peg$c204","peg$c205","peg$c206","peg$c207","peg$c208","peg$c209","peg$c210","peg$c211","peg$c212","peg$c213","peg$c214","peg$c215","peg$c216","peg$c217","peg$c218","peg$c219","peg$c220","peg$c221","peg$c222","peg$c223","peg$c224","peg$c225","peg$c226","peg$c227","peg$c228","peg$c229","peg$c230","peg$c231","peg$c232","peg$c233","peg$c234","peg$c235","peg$c236","peg$c237","peg$c238","peg$c239","peg$c242","peg$c243","peg$c244","peg$c245","peg$c246","peg$c247","peg$c248","peg$c249","peg$c250","peg$c251","peg$c252","peg$c253","peg$c254","peg$c255","peg$c256","peg$c257","peg$c258","peg$c259","peg$c260","peg$c261","peg$currPos","peg$savedPos","peg$posDetailsCache","line","column","peg$maxFailPos","peg$maxFailExpected","peg$silentFails","startRule","substring","ignoreCase","peg$computePosDetails","pos","details","peg$computeLocation","startPos","endPos","startPosDetails","endPosDetails","peg$fail","peg$buildStructuredError","s0","peg$parselist","peg$parsegroup","peg$parsedegrade","peg$parserepeat","peg$parseonestep","peg$parseterm","s1","peg$parseemoji","peg$parserest","peg$parse_","s2","s3","s4","s5","s6","peg$parsenotdegrade","peg$parsequestion","peg$parsenotrepeat","test","charAt","peg$parsenumber","s7","peg$parseManOrWoman","peg$parsezero","peg$parseHeart","peg$parseKiss","peg$parseKiss_Sequence","peg$parseCouple_With_Heart_Sequence","peg$parseBoyOrGirl","peg$parseFamily_Sequence","peg$parseLeft_Eye_Speech_Bubble_Sequence","peg$parseMiscellaneous_Symbols_and_Pictographs_Sequences","peg$parseMiscellaneous_Symbols_and_Pictographs_Diversity","peg$parseFitzpatrick_Modifier","peg$parseMiscellaneous_Symbols_and_Pictographs","peg$parseSupplemental_Symbols_and_Pictographs_Diversity","peg$parseSupplemental_Symbols_and_Pictographs","peg$parseEmoticons_Diversity","peg$parseEmoticons","peg$parseTransport_and_Map_Symbols_Diversity","peg$parseTransport_and_Map_Symbols","peg$parseMiscellaneous_Symbols_Diversity","peg$parseMiscellaneous_Symbols","peg$parseDingbats_Diversity","peg$parseDingbats","peg$parseArrows","peg$parseCJK_Symbols_and_Punctuation","peg$parseRegional_Indicator_Symbol","peg$parseEnclosed_Alphanumeric_Supplement","peg$parseEnclosed_Alphanumerics","peg$parseEnclosed_Ideographic_Supplement","peg$parseGeneral_Punctuation","peg$parseGeometric_Shapes","peg$parseLetterlike_Symbols","peg$parseMahjong_Tiles","peg$parseMiscellaneous_Symbols_and_Arrows","peg$parseMiscellaneous_Technical","peg$parsePlaying_cards","peg$parseSupplemental_ArrowsB","peg$parseEmoji_Raw","peg$parseEmoji_Variant","f","u","code","1","_valuesstart","_valuesend","unshift","out","addLoc","pulses","slots","rotation","result","rate","addLocations","grp","onestep","trim","peg$parsefoot","peg$parsenotfoot","peg$parsefeet","peg$parselayer","peg$parseeuclid","peg$parsepolymeter","peg$parseletters","peg$parseword","peg$parseletter","s8","s10","s11","s13","s14","s15","peg$parsenoteuclid","peg$parseop","s9","peg$parsedot","peg$parsenotlayer","peg$parsenotonestep","uid","addUID","2","bjorklund","remainder","divisor","level","build_pattern","lv","x","reverse","3","MAX_CYCLE_LEN","P","createError","errorConstructor","temp","IntermediateInheritor","DivisionByZero","InvalidParameter","isNaN","throwInvalidParam","p1","p2","M","w","y","z","A","B","C","D","N","pow","LN10","NaN","match","abs","gcd","b","neg","mod","lcm","ceil","places","inverse","equals","compare","simplify","eps","cont","rec","tmp","divisible","excludeWhole","whole","toLatex","toContinued","res","dec","cycLen","rem","cycleLen","cycOff","len","rem1","rem2","modpow","cycleStart","defineProperty","4","create","superCtor","super_","enumerable","writable","configurable","TempCtor","5","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","nextTick","args","browser","env","argv","version","versions","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","6","arg","copy","fill","readUInt8","7","global","formatRegExp","format","isString","objects","inspect","String","Number","JSON","stringify","_","isNull","isObject","deprecate","fn","msg","isUndefined","noDeprecation","warned","throwDeprecation","traceDeprecation","trace","debugEnviron","debugs","obj","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","styles","recurseTimes","isFunction","ret","primitive","simple","isNumber","formatPrimitive","visibleKeys","forEach","val","idx","arrayToHash","getOwnPropertyNames","isError","formatError","isRegExp","RegExp","isDate","output","base","braces","toUTCString","hasOwnProperty","formatProperty","formatArray","cur","reduceToSingleString","desc","getOwnPropertyDescriptor","substr","ar","re","objectToString","pad","debuglog","NODE_DEBUG","pid","bold","italic","underline","white","grey","black","blue","cyan","green","magenta","red","yellow","special","number","boolean","null","date","regexp","isNullOrUndefined","isSymbol","isPrimitive","isBuffer","months","prop","getHours","getMinutes","getSeconds","getDate","getMonth","inherits","origin","self","./support/isBuffer","_process","8","queryArc","patternString","__data","ptrn","__rawString","events","__sort","arc","print","../dist/tidal.js","./queryArc.js","fraction.js","9","util","bjork","phase","eventList","adjustedPhase","adjustPhase","getPhaseIncr","processPattern","evt","phaseIncr","override","shouldRemapArcs","handlers","shouldReset","getMappedArc","Arc","shouldResetPhase","reset","incr","rest","group","overrideIncr","member","getIndex","calculateDuration","advancePhase","onesAndZeros","slotDuration","valueIsValue","shouldInclude","arr","startPhase","subpattern","degrade","polymeter","layers","repeat","speed"],"mappings":"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","file":"component---src-pages-labs-live-emojing-js-92782a8bd5d285ecca12.js","sourcesContent":["import React from \"react\"\nimport Brand from \"../components/header/brand\"\nimport \"../components/i18n\"\n\n//import LanguagesLinks from \"../components/header/languages-links\"\nimport Helmet from \"react-helmet\"\n\nconst Layout = ({ children , location})  =>\n  <div id=\"app\">\n    <header>\n      <Helmet bodyAttributes={{class:'dark live-emojing'}} />\n      <Brand title=\"live emojing\"/>\n      {//<nav>\n        //<LanguagesLinks location={location}/>\n      //</nav>\n    }\n    </header>\n    <main>{children}</main>\n  </div>\n\nexport default Layout\n","import GraphemeSplitter from 'grapheme-splitter'\n\nexport const splitter = new GraphemeSplitter()\n\nconst operators = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '*', '/', '', '[', ']', '(', ')', '<', '>', '{' ,'}' ,'?' ,'@', '~', '!' , '%',' ', ',' ]\n\n//filtering operators that arent supported yet.\nexport const recentEmojis = operators\n  .map( (o,i) => ['','{','}','@','!','%','(', ')', ','].includes(o) ? '':i.toString().padStart(3,'0'))\n  .filter( (o) => o !=='' )\n\nexport const customEmojis = operators\n  .map( (o,i) => {return { name: o, short_names: [i.toString().padStart(3,'0')], imageUrl: `/images/icons/${i.toString().padStart(3,'0')}.svg`}} )\n  .filter( (o) => recentEmojis.includes(o.short_names[0]))\n\n\nexport const includeEmojis = ['recent','people','nature','foods','activity','places','objects']\n\nexport const i18nEmojis = { search: 'Filter', categories: { recent: 'Nums & Operators' } }\n\nexport const emojiArray = (str) => {\n  return splitter.splitGraphemes(str)\n}\n\n\nconst emojis =''\n\n\nexport const alphaEmoji = splitter.splitGraphemes(emojis)\n\n//avoiding that arent supported yet.\nconst patterns = [\n  'a b',\n  'a b ~ c',\n  'a b a c a b a d',\n  'a*x? c',\n  '[a*2 a*2?] b',\n  'a b*2 c d*4',\n  '[a b a c/2]',\n  '[ a [a b c d] b [c*2 d*4 ] ]',\n  '[ a*4 <b/2 c*2>]',\n  '<a b*2 c*4>',\n  '<a b*x a*4 c*y>',\n//  'a(x,8)',\n//  'a(<x y>, 8)',\n]\n\nconst shuffle = (a) => {\n  for (var i = a.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1))\n    const t = a[i]\n    a[i] = a[j]\n    a[j] = t\n  }\n}\n\nconst random = (min,max) => {\n  return Math.floor(Math.random()*(max-min))+min\n}\n\nexport const randomPattern = ()=>{\n  let p = patterns[random(0,patterns.length)]\n  let r = []\n  for(let e of emojis){\n    if(e.length>1) r.push(e)\n  }\n  shuffle(r)\n  for (const [i, v] of ['a','b','c','d'].entries()) {\n    p = p.split(v).join(r[i])\n  }\n  for (const i of ['x','y']) {\n    p = p.split(i).join(random(2,7))\n  }\n  return p\n}\n\nexport const sanitizeEmojiId = (name) =>{\n  name = name.replace('-','_').replace('+','plus')\n  if(parseInt(name).toString()===name)\n    name = 'num'+name\n  return name\n}\n","import React from 'react'\n\nconst LiveEmojingContext = React.createContext()\n\nexport default LiveEmojingContext\n","import React, {useState, useEffect, useContext} from \"react\"\nimport Helmet from \"react-helmet\"\nimport Fraction from 'fraction.js'\nimport {reactLocalStorage} from 'reactjs-localstorage'\nimport { Picker,emojiIndex } from 'mr-emoji'\nimport '../../../node_modules/mr-emoji/css/emoji-mart.css'\nimport { FaBackspace,\n         FaCaretLeft,\n         FaCaretRight,\n         FaPlay,\n         FaDice,\n         FaExpand,\n         FaCompress,\n         FaVolume,\n         FaVolumeSlash,\n         FaQuestionCircle\n        } from 'react-icons/fa'\nimport {alphaEmoji,\n        randomPattern,\n        emojiArray,\n        customEmojis,\n        recentEmojis,\n        includeEmojis,\n        sanitizeEmojiId,\n        i18nEmojis } from './utils'\n\nimport parser from \"./tidal\"\nimport Pattern from \"./pattern\"\nimport Tone from \"tone\"\nimport LiveEmojingContext from './context.js'\n\n//todo: split this file in smaller modules! please!!\nconst emojis = Object.values(emojiIndex.emojis).map((e)=>e.native)\nconst emoji_ids = Object.values(emojiIndex.emojis)\n  .reduce((o,e)=>Object.assign(o,{[e.native]:sanitizeEmojiId(e.id)}),{})\n\n\nconst git_raw = 'https://raw.githubusercontent.com/diegodorado/emoji-samples/master/'\nconst samples = '0123456789abcdefghijklmnopqrstuvwxyzABC'.split('')\n\nlet players = []\nlet schedules = []\nlet glyphs = []\nlet tapCount = 0\nlet listingData = null\nlet canvasCtx = null\nlet stopAnimation = false\nlet backspaceOn = null\nlet parsedGrammar = null\n\n\n\n\nconst Playground = ({pattern}) =>{\n\n\n  let canvasRef = React.createRef()\n  const context = useContext(LiveEmojingContext)\n  const [expanded, setExpanded] = useState(false)\n  const [tapped, setTapped] = useState(false)\n  const [tapping, setTapping] = useState(false)\n  const [showInstructions, setShowInstructions] = useState(true)\n  const [isDesktop, setIsDesktop] = useState(false)\n  const [highlighted, setHighlighted] = useState(false)\n  const [error, setError] = useState(false)\n  const [samplesLoaded, setSamplesLoaded] = useState(false)\n  const [soundOn, setSoundOn] = useState(false)\n  const [tempo, setTempo] = useState('')\n  const [left, setLeft] = useState('')\n  const [right, setRight] = useState('')\n  const [canvasWidth, setCanvasWidth] = useState(1)\n  const [canvasHeight, setCanvasHeight] = useState(1)\n\n\n  useEffect(()=>{\n\n    if(context.playingAlone){\n      if(Tone.context.state==='running')\n         initAudio()\n\n      //todo: use async/await\n      fetch(`${git_raw}listing.json`)\n        .then( r => r.json())\n        .then((data) => setListingData(data))\n        .catch((err) => {console.log(err)})\n\n      canvasCtx = canvasRef.current.getContext(\"2d\")\n      canvasCtx.lineWidth = 2\n      canvasCtx.fillStyle = 'blue'\n      canvasCtx.font = 'bold 100px Arial'\n\n      requestAnimationFrame(tick)\n    }\n\n    setIsDesktop(typeof window.orientation === \"undefined\")\n\n    //todo: open play alone when pattern is on url\n    //got pattern from url?\n    //setLeft( pattern ? pattern : reactLocalStorage.get('pattern', randomPattern()))\n    setLeft(left=> pattern ? pattern : reactLocalStorage.get('pattern', randomPattern()))\n\n    setShowInstructions(reactLocalStorage.get('showInstructions', 'true')=== 'true')\n\n    document.addEventListener('fullscreenchange', onFullScreenChange)\n    window.addEventListener('resize', onWindowResize)\n\n    onWindowResize()\n\n\n    // Specify how to clean up after this effect:\n    return () => {\n      document.removeEventListener(\"fullscreenchange\", onFullScreenChange)\n      window.removeEventListener('resize', onWindowResize)\n\n      if(context.playingAlone){\n        Tone.context.suspend()\n        stopAnimation = true\n      }\n    }\n\n  },[])\n\n\n\n  useEffect(()=>{\n    //re-attach listener if left, right or error have changed\n    window.addEventListener('keydown', onKeyPress)\n    // Specify how to clean up after this effect:\n    return () => {\n      window.removeEventListener(\"keydown\", onKeyPress)\n    }\n  },[left, right, error, soundOn])\n\n\n\n  useEffect(()=>{\n\n    if(context.playingAlone)\n      ensureEmojiSamples()\n\n    try {\n\n      if(context.playingAlone){\n        parsedGrammar = parser.parse(left+right)\n\n      }else{\n        //use charlie's parser\n        const sounds = emojiArray(left+right)\n          .map(c => (c.codePointAt(0) < 128) ? c : `[${emoji_ids[c]}]`)\n          .join('')\n\n        const pattern1 = Pattern(sounds)\n        //pattern1.query( 1,2 )\n        //pattern1.print()\n      }\n\n      setError(false)\n    }\n    catch(error) {\n      setError(true)\n    }\n\n  },[left, right])\n\n\n\n  const setListingData = (data) =>{\n    listingData = data\n    if(soundOn)\n      ensureEmojiSamples()\n  }\n\n\n  const onFullScreenChange = () =>{\n    setExpanded(isFullScreen())\n  }\n\n  const isFullScreen = () =>{\n    const fse= document.fullscreenElement\n        || document.mozFullScreenElement\n        || document.webkitFullscreenElement\n        || document.msFullscreenElement\n    return (fse !== undefined)\n  }\n\n  const onExpandClick = (e) => {\n    const el = document.documentElement\n    const rfs = el.requestFullscreen\n        || el.webkitRequestFullScreen\n        || el.mozRequestFullScreen\n        || el.msRequestFullscreen\n    const cfs = document.exitFullscreen\n        || document.mozCancelFullScreen\n        || document.webkitExitFullscreen\n        || document.msExitFullscreen\n\n    e.preventDefault()\n    e.stopPropagation()\n    if(isFullScreen())\n      cfs.call(document)\n    else\n      rfs.call(el)\n  }\n\n\n  const onWindowResize = () =>{\n\n    setCanvasWidth(window.innerWidth)\n    setCanvasHeight(window.innerHeight/2)\n  }\n\n  const tick = () => {\n    if (stopAnimation)\n       return\n    drawEmojis()\n    requestAnimationFrame(tick)\n  }\n\n  const drawEmojis = () =>{\n\n    //const off = (Tone.Transport.seconds- Math.floor(Tone.Transport.seconds))\n    const width = canvasCtx.canvas.width\n    const height = canvasCtx.canvas.height\n    canvasCtx.clearRect(0, 0, width, height)\n    canvasCtx.font = `${width/10}px Arial`\n\n\n    if(tapped>0){\n      //warning!\n      setTapped( t => t - 0.3)\n      canvasCtx.fillStyle = 'green'\n      canvasCtx.fillRect(20, 10, 150, 100)\n    }\n\n\n    for(let i = glyphs.length-1; i >= 0 ; i--){\n      const g = glyphs[i]\n      g.life = g.life*1.2\n      canvasCtx.fillText(g.emoji, width*g.offset, (height / 2)-g.life)\n      if(g.life>10){\n        glyphs.splice(i, 1)\n      }\n    }\n\n\n  }\n\n  const initAudio = () =>{\n    //chain a compressor\n    const comp = new Tone.Compressor(-30, 3).toMaster()\n    const urls = samples.reduce((o,n)=> Object.assign(o,{[n]:`/live-emojing/samples/${n}.wav`}),{})\n    players = new Tone.Players (urls, () => setSamplesLoaded(true)).connect(comp)\n    Tone.context.latencyHint = 'playback'\n    Tone.Transport.start()\n    setSoundOn(true)\n  }\n\n\n  const addEmoji= (e) => {\n    setLeft( l => l + (!e.custom ? e.native : e.name))\n  }\n\n  const onCommitClick = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    commit()\n  }\n\n\n  const onKeyPress = (e) => {\n    //todo: implement copy/paste\n    if( e.ctrlKey /* || e.altKey || e.metaKey || e.shiftKey   || e.repeat*/ )\n      return\n\n    const c = e.key.toLowerCase()\n\n    if( c.length===1 &&  c >='a' && c <='z'){\n      const i = c.charCodeAt(0) - 'a'.charCodeAt(0)\n      setLeft( l => l + alphaEmoji[i])\n    }\n    else if(customEmojis.map((e)=>e.name).includes(e.key)){\n      e.preventDefault()\n      setLeft( l => l + e.key)\n    }\n    else if(c === 'arrowleft'){\n      onLeftClick(e)\n    }\n    else if(c === 'arrowright'){\n      onRightClick(e)\n    }\n    else if(c === 'backspace'){\n      onBackspaceClick(e)\n    }\n    else if(c === 'delete'){\n      e.preventDefault()\n      if(right.length>0){\n        const r = emojiArray(right)\n        r.shift()\n        setRight(r.join(''))\n      }\n    }\n    else if(c === 'enter'){\n      onCommitClick(e)\n    }\n    else if(c === 'home'){\n      e.preventDefault()\n      setLeft('')\n      setRight(left + right)\n    }\n    else if(c === 'end'){\n      e.preventDefault()\n      setLeft(left + right)\n      setRight('')\n    }\n    else if(c === 'tab'){\n      onRandomClick(e)\n    }\n  }\n\n  const onRandomClick = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setLeft(randomPattern())\n    setRight('')\n  }\n\n  const onBackspaceClick = (e) => {\n    e.preventDefault()\n    if(left.length>0){\n      let l = emojiArray(left)\n      l.pop()\n      setLeft(l.join(''))\n    }\n  }\n\n  //todo: make this work on mobile\n  const onBackspaceDown = (e) => {\n    backspaceOn = Date.now()\n  }\n\n  const onBackspaceUp = (e) => {\n    const delta =  Date.now() - backspaceOn\n    if(delta>700){\n      setLeft('')\n      setRight('')\n    }\n  }\n\n  const onLeftClick = (e) => {\n    e.preventDefault()\n    if(left.length>0){\n      let l = emojiArray(left)\n      const c = l.pop()\n      setLeft(l.join(''))\n      setRight(c + right )\n    }\n  }\n\n  const onRightClick = (e) => {\n    e.preventDefault()\n    if(right.length>0){\n      let r = emojiArray(right)\n      const c = r.shift()\n      setLeft(left + c)\n      setRight(r.join(''))\n    }\n  }\n\n\n  const moveCarret = (isLeft,index) => {\n    const l = emojiArray(left)\n    const r = emojiArray(right)\n    const all = l.concat(r)\n\n    if(!isLeft)\n      index += l.length\n\n    setLeft(all.slice(0,index).join(''))\n    setRight(all.slice(index).join(''))\n  }\n\n\n  const onHideInstructionsClick = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    reactLocalStorage.set('showInstructions', false)\n    setShowInstructions(false)\n  }\n\n\n  const onToggleHelpClick = (e) => {\n    e.preventDefault()\n    reactLocalStorage.set('showInstructions', !showInstructions)\n    setShowInstructions(!showInstructions)\n  }\n\n\n  const onSoundToggle = (e) => {\n    e.preventDefault()\n    if(!context.playingAlone)\n      return\n\n    if(Tone.context.state==='running') {\n      clearTransportSchedules()\n      Tone.Transport.stop()\n      Tone.context.suspend().then(() => {\n        setSoundOn(false)\n      })\n    } else if(Tone.context.state === 'suspended') {\n      Tone.context.resume().then(()=> {\n        Tone.Transport.start()\n        setSoundOn(true)\n      })\n    }\n  }\n\n\n\n  const clearTransportSchedules = ()=>{\n    Tone.Transport.cancel()\n    for(let eventId of schedules)\n      // this is not working properoly\n      Tone.Transport.clear(eventId)\n\n    schedules = []\n  }\n\n\n\n  const commit = () => {\n    if(error)\n      return\n\n    const p = left+right\n    reactLocalStorage.set('pattern', p)\n\n    setHighlighted(true)\n    setTimeout(() => setHighlighted(false),300)\n\n    if(soundOn){\n      clearTransportSchedules()\n      schedule(parsedGrammar)\n    }\n    if(!context.playingAlone){\n      context.sendPattern(p)\n    }\n\n\n  }\n\n  const ensureEmojiSamples = ()=>{\n    const p = left+right\n    const emojis = Object.values(emojiIndex.emojis)\n\n    //todo: decide if this is going to be used or not\n    /*\n    let f ='['\n    for (let c of emojiArray(p)){\n      const e = emojis.filter((e)=>e.native===c)\n      if(e.length===0)\n        f += c\n      else{\n        f += ' '+e[0].id\n        this.ensureEmojiSample(e[0])\n      }\n    }\n    f+=']'\n    */\n\n    for (let c of emojiArray(p)){\n      const e = emojis.filter((e)=>e.native===c)\n      if(e.length>0)\n        ensureEmojiSample(e[0])\n    }\n\n\n  }\n\n  // this function ensures each emoji has a unique sound\n  // it tries to get a short asset for listing.json\n  const ensureEmojiSample = (e) =>{\n    const id = sanitizeEmojiId(e.id)\n    if(listingData!==null){\n      const path = listingData[id]\n      if(path && !players.has(id))\n        players.add(id,encodeURI(`${git_raw}${path}`),()=> console.log(`loaded ${id}!`))\n    }\n  }\n\n  const schedule = (root)=>{\n\n    const process_emoji = (params) =>{\n      if(!samplesLoaded)\n        return\n\n      const eid = emoji_ids[params.node.value]\n      const index = emojis.indexOf(params.node.value) % samples.length\n      //choose a remote or local sample\n      const sample = players.has(eid) ? eid : samples[index]\n\n      const id = Tone.Transport.scheduleRepeat( (time)=>{\n        if(Math.random()>params.chance)\n          return\n        const p = players.get(sample)\n        p.start(time)\n        Tone.Draw.schedule(() =>{\n          glyphs.push({life: 1,offset:(params.offset.valueOf()%1), emoji: params.node.value})\n\t      }, time)\n      }, params.cycle.valueOf(),params.offset.valueOf())\n      schedules.push(id)\n    }\n\n    const process_group = (params) =>{\n      const steps = Object.keys(params.node).filter((k)=> k!=='type')\n      const stepDur = params.duration.div(steps.length)\n      let ss = params.offset\n      for (let s of steps){\n         transverse({\n           node: params.node[s],\n           offset: ss.clone(),\n           duration: stepDur.clone(),\n           cycle: params.cycle.clone(),\n           chance: params.chance})\n        ss = ss.add(stepDur)\n      }\n    }\n\n    const process_onestep = (params) =>{\n       const steps = Object.keys(params.node).filter((k)=> k!=='type')\n       const stepDur = new Fraction( 1, 1)\n       let ss = params.offset\n       for (let s of steps){\n         transverse({\n           node: params.node[s],\n           offset: ss.clone(),\n           duration: params.duration.clone(),\n           cycle: params.cycle.mul(steps.length),\n           chance: params.chance})\n          ss = ss.add(stepDur)\n       }\n    }\n\n    const process_repeat = (params) =>{\n      let ss = params.offset\n\n      if( params.node.operator === '*' ){\n        const dur = params.duration.div(params.node.repeatValue.value)\n        for (let i = 0; i<params.node.repeatValue.value; i++){\n         transverse({\n           node: params.node.value,\n           offset: ss.clone(),\n           duration: dur,\n           cycle: params.cycle.clone(),\n           chance: params.chance})\n          ss = ss.add(dur)\n        }\n      }\n      else if( params.node.operator === '/' ){\n        for (let i = 0; i<params.node.repeatValue.value; i++){\n         transverse({\n           node: params.node.value,\n           offset: ss.clone(),\n           duration: params.duration.clone(),\n           cycle: params.cycle.mul(params.node.repeatValue.value),\n           chance: params.chance})\n        }\n      }\n\n    }\n\n    const process_degrade = (params) =>{\n       transverse({\n         node: params.node.value,\n         offset: params.offset,\n         duration: params.duration,\n         cycle: params.cycle,\n         chance: params.chance*0.5})\n    }\n\n    const transverse = (params) =>{\n      if (params.node.type === 'group')\n        process_group(params)\n      else if (params.node.type === 'onestep')\n        process_onestep(params)\n      else if (params.node.type === 'repeat')\n        process_repeat(params)\n      else if( params.node.type === 'degrade' )\n        process_degrade(params)\n      else if( params.node.type === 'emoji' )\n        process_emoji(params)\n    }\n\n    transverse({\n      node: root,\n      offset: new Fraction(0),\n      duration: new Fraction(1),\n      cycle: new Fraction(1),\n      chance: 1})\n  }\n\n  //todo: decide which emojis to show\n  const emojisToShowFilter = (e)=>{\n    const emoji = emojiIndex.emojis[e.short_names[0]]\n    return (emoji && alphaEmoji.includes(emoji.native))\n  }\n\n  //mimick behaviour\n  const onInstructionsClick = (e)=>{\n    onPreviewClick(e)\n  }\n\n  const onPreviewClick = (e)=>{\n    //todo: review this tap behaviour\n    // eslint-disable-next-line\n    return\n\n\n    if(!context.playingAlone)\n      return\n\n    setTapped(true)\n    setTapping(true)\n    setTimeout(()=> setTapped(false),40)\n\n    setTimeout(()=> {\n      if((Tone.Transport.seconds)>3.5){\n        tapCount = 0\n        setTapping(false)\n      }\n    },4000)\n\n\n    const bpm = Math.round(60/Tone.Transport.seconds)\n    Tone.Transport.stop().start()\n\n    //is bpm in a razonable range?\n    if(bpm < 20)\n      setTempo((tapCount===0) ? 'tap again' :  'too slow!')\n    else if(bpm > 240)\n      setTempo((tapCount===0) ? 'tap again' :  'too fast!')\n    else{\n      setTempo((tapCount===0) ? 'tap again' :  bpm)\n      Tone.Transport.bpm.value = bpm\n    }\n\n    tapCount++\n\n  }\n\n  return (\n    <div className=\"play\">\n      <Helmet htmlAttributes={{class:(expanded ? 'full-screen':'normal') }} />\n      <canvas ref={canvasRef} width={canvasWidth} height={canvasHeight} />\n      {showInstructions &&\n        <div className=\"instructions\" onClick={onInstructionsClick}>\n          {context.playingAlone ? null :\n            <div className=\"welcome\">\n              <img alt=\"\" src={context.avatarUrl} width={90} />\n              <p>\n                Hi {context.nick}.<br/>\n                You joined {context.channel}.<br/>\n                <em>(<a href=\"/\" onClick={context.toggleConfiguring}>change</a>)</em>\n              </p>\n            </div>}\n          <h4>Instructions:</h4>\n          <ul>\n            <li>Throw a <a className=\"dice-btn\" href=\"/\" onClick={onRandomClick}><span role=\"img\" aria-label=\"dice\"></span></a> {isDesktop && (<>[TAB] </>)}.</li>\n            <li>Play <a className=\"play-btn\" href=\"/\" onClick={onCommitClick}><FaPlay /></a> {isDesktop && (<>[ENTER] </>)}.</li>\n            <li>Go full screen <FaExpand className=\"fullscreen-btn\" onClick={onExpandClick}/></li>\n            {(false && context.playingAlone) ? <li>Tap screen to set tempo</li>: null}\n            {isDesktop && (<li>Magical keyboard! ( A={alphaEmoji[0]}, B={alphaEmoji[1]}, so on)</li>)}\n            <li>Got it? Then <a href=\"/\" onClick={onHideInstructionsClick}>hide this</a></li>\n          </ul>\n        </div>}\n      <a className=\"expand\" href=\"/\" onClick={onExpandClick}>\n        <FaExpand/>\n        <FaCompress/>\n      </a>\n      <FaQuestionCircle className=\"help\" onClick={onToggleHelpClick}/>\n      <div className={`${ tapping ? 'tapping' : '' }  ${ error ? 'error' : '' } input`}>\n        <span className=\"clipper\" role=\"img\" aria-label=\"doubt\"></span>\n        <span className=\"tempo\">{(parseInt(tempo)===tempo)? <><i>{tempo}</i> bpm</> : tempo}</span>\n        <pre onClick={onPreviewClick} className={`${ tapped ? 'tapped' : '' } ${highlighted ? 'highlight' : '' } preview`}>\n          {emojiArray(left).map((e,i) => <span key={i} onClick={()=>moveCarret(true,i)}>{e}</span>)}\n          <span className=\"carret\"></span>\n          {emojiArray(right).map((e,i) => <span key={i} onClick={()=>moveCarret(false,i)}>{e}</span>)}\n        </pre>\n        <nav>\n          <FaCaretLeft onClick={onLeftClick}/>\n          <FaCaretRight onClick={onRightClick}/>\n          <FaBackspace  onClick={onBackspaceClick} onTouchStart={onBackspaceDown} onTouchEnd={onBackspaceUp} onMouseDown={onBackspaceDown} onMouseUp={onBackspaceUp} />\n          {context.playingAlone ? (soundOn ? <FaVolume onClick={onSoundToggle}/> : <FaVolumeSlash onClick={onSoundToggle}/>): null}\n          <FaDice onClick={onRandomClick}/>\n          <FaPlay className=\"commit-btn\" onClick={onCommitClick}/>\n        </nav>\n      </div>\n      <Picker style={{width:'100%',borderRadius:'0',border:0}} showPreview={false} emojiSize={36} native={true} onClick={addEmoji} i18n={i18nEmojis} recent={recentEmojis} custom={customEmojis} color=\"#222\" include={includeEmojis} emojisToShowFilter={emojisToShowFilter}/>\n    </div>\n  )\n}\n\n\nexport default Playground\n","import React, {useState, useEffect, useContext} from \"react\"\nimport {reactLocalStorage} from 'reactjs-localstorage'\nimport LiveEmojingContext from './context.js'\n\nconst Nick = () =>{\n\n  const context = useContext(LiveEmojingContext)\n  const [valid, setValid] = useState(false)\n  const [confirmed, setConfirmed] = useState(false)\n  const [understandsNameClick, setUnderstandsNameClick] = useState(false)\n\n  useEffect(()=>{\n    const nick = reactLocalStorage.get('nick', 'funky-duck')\n    if(nick!==''){\n      context.setNick(nick)\n      setValid(true)\n      setConfirmed(true)\n    }\n\n    const understands = (reactLocalStorage.get('understandsNameClick', 'false')==='true')\n    setUnderstandsNameClick(understands)\n  },[])\n\n  const onChange = (e) => {\n    context.setNick(e.target.value)\n    setValid(e.target.validity.valid)\n  }\n\n  const handleFocus = (event) => event.target.select()\n\n  const onChangeClick = (e) => {\n    e.preventDefault()\n    setConfirmed(false)\n    //hides help and save setting\n    reactLocalStorage.set('understandsNameClick', true)\n    setUnderstandsNameClick(true)\n  }\n\n  const confirm = () => {\n    if(valid){\n      reactLocalStorage.set('nick', context.nick)\n      setConfirmed(true)\n    }\n  }\n\n  const onKeyPress = (event) => {\n    if(event.key === 'Enter'){\n      confirm()\n    }\n  }\n\n  return (\n    <>\n      {confirmed?\n        (<p><em>Hey</em> <a href=\"/\" onClick={onChangeClick}>{context.nick}</a> ! {(!understandsNameClick)?<span> {'<--- '} Click the name to change it </span>:null}</p>):\n        (<input type=\"text\" value={context.nick} onChange={onChange} onBlur={confirm} autoFocus required pattern=\"^[A-Za-z0-9_-]{3,15}$\" onKeyPress={onKeyPress} onFocus={handleFocus} size={15} maxLength={15}/>)\n      }\n    </>\n  )\n\n}\n\nexport default Nick\n","import React, {useState, useEffect, useContext} from \"react\"\nimport {reactLocalStorage} from 'reactjs-localstorage'\nimport LiveEmojingContext from './context.js'\n\n\nconst Avatar = () =>{\n\n  const context = useContext(LiveEmojingContext)\n  const [loadingAvatar, setLoadingAvatar] = useState(false)\n  const [understandsAvatarClick, setUnderstandsAvatarClick] = useState(false)\n\n  useEffect(()=>{\n    const url = reactLocalStorage.get('avatarUrl', '')\n    changeAvatarUrl(url)\n    const understands = (reactLocalStorage.get('understandsAvatarClick', 'false')==='true')\n    setUnderstandsAvatarClick(understands)\n  },[])\n\n  const changeAvatarUrl = (url) => {\n    // get a random url if none provided\n    if(!url){\n      const randomId = Math.floor(Math.random()*100)\n      url =`https://api.adorable.io/avatars/200/${randomId}`\n    }\n\n    setLoadingAvatar(true)\n    const img = new Image()\n    img.onload = () => {\n      reactLocalStorage.set('avatarUrl', url)\n      context.setAvatarUrl(url)\n      setLoadingAvatar(false)\n    }\n    img.src = url\n  }\n\n\n  const onChangeAvatar = (e) => {\n    if(loadingAvatar)\n      return\n\n    changeAvatarUrl()\n    //hides help and save setting\n    reactLocalStorage.set('understandsAvatarClick', true)\n    setUnderstandsAvatarClick(true)\n  }\n\n\n  return (\n    <>\n      <img alt=\"\" width={150} height={150} src={context.avatarUrl} onClick={onChangeAvatar} className={`${ loadingAvatar ? 'loading' : '' }  avatar`}/>\n      {(!understandsAvatarClick)?<p>{'<--- '}Click the avatar to change it</p>:null}\n    </>\n  )\n\n}\n\n\nexport default Avatar\n","import React from \"react\"\n\nconst Emoji = ({label, emoji}) =>\n    <span role=\"img\" aria-label={label}>{emoji}</span>\n\n\n\nexport default Emoji\n","import React, {useContext} from \"react\"\nimport LiveEmojingContext from './context.js'\nimport Nick from './nick.js'\nimport Avatar from './avatar.js'\nimport Emoji from '../emoji.js'\nimport {FaEye,FaSignInAlt,FaPlay} from 'react-icons/fa'\nimport {useTranslation } from 'react-i18next'\nimport Link from \"../link\"\n\nconst Connection = () =>{\n\n  const context = useContext(LiveEmojingContext)\n  const [t, ] = useTranslation();\n\n\n  return (\n    <div className=\"connection\">\n      <p>Welcome to live coding with emojis! <Emoji emoji=\"\" /> <em>(<Link to={'/works/live-emojing'}> + info about it</Link>)</em></p>\n      <p>If there is an active live emojing channel, you can <strong>watch it</strong> or <strong>join it</strong> and be part of the session. Otherwise, you can just <strong>play alone</strong>.</p>\n      <Avatar/>\n      <Nick/>\n      {context.connected ?\n        (context.servers.length===0 ?\n          <p><Emoji emoji=\"\" /> Sadly, no live emojing channel was found...<em>You dont even need a nickname</em></p>\n          :(<>\n            {t('liveCodingSessions', {count:context.servers.length})}\n            <p>When joining a channel, be sure to be also watching it on another window or device. {`Doesn't`} make much sense to send your emojis and without seeing them in action.</p>\n            {context.servers.map(s =>\n              <div className=\"channel\" key={s.id}>\n                <h3>\"{s.channelName}\" channel</h3>\n                <button className=\"btn\" onClick={(ev)=>context.joinChannel(s.channelName)}>join <FaSignInAlt/></button>\n                {s.streamingUrl?\n                  <a className=\"btn\" href={s.streamingUrl} target=\"_blank\" rel=\"noopener noreferrer\">watch <FaEye/></a>:\n                  <span><Emoji emoji=\"\" /> no streaming url ...</span>\n                }\n              </div>)}\n          </>))\n      : <p> <Emoji emoji=\"\" /> Cannot get channels list.</p>}\n      <p>Want to play on your own? You can always do that:\n      <button className=\"btn\" onClick={(ev)=>context.playAlone()}>play alone <FaPlay/></button>\n      </p>\n    </div>\n  )\n\n\n}\n\n\nexport default Connection\n","import React, { useState, useEffect } from 'react';\nimport LiveEmojingContext from './context.js'\nimport simpleDDP from 'simpleddp'\nimport ws from 'isomorphic-ws'\n\nconst opts = {\n    endpoint: \"wss://av.thundernize.com/websocket\",\n    // endpoint: \"ws://localhost:3000/websocket\",\n    SocketConstructor: ws,\n    reconnectInterval: 5000\n}\n\nlet ddp = null\n\n\nconst LiveEmojingStore = ({children}) => {\n\n  const [connected, setConnected] = useState(false)\n  const [nick, setNick] = useState('')\n  const [avatarUrl, setAvatarUrl] = useState('')\n  const [servers, setServers] = useState([])\n  const [channel, setChannel] = useState('')\n  const [playingAlone, setPlayingAlone] = useState(false)\n  const [configuring, setConfiguring] = useState(true)\n\n  //this will observe for active servers\n  const connectAsync = async  () =>{\n    try {\n      setConnected(false)\n      ddp = new simpleDDP(opts)\n      ddp.on('disconnected', () => setConnected(false))\n      await ddp.connect()\n      setConnected(true)\n      const sub = ddp.subscribe('emojis.servers')\n      await sub.ready()\n      const serversCollection = ddp.collection('servers').reactive()\n      setServers(s=> s.filter(i => false).concat( serversCollection.data()))\n      serversCollection.onChange((data)=>{\n        setServers(s=> s.filter(i => false).concat(data))\n      })\n    } catch (error) {\n      console.log('error!', error)\n      setConnected(false)\n    }\n  }\n\n  useEffect(() => {\n    connectAsync()\n  }, [])\n\n  const toggleConfiguring = (ev)=>{\n    ev.preventDefault()\n    setConfiguring(!configuring)\n  }\n\n  const playAlone = ()=>{\n    setPlayingAlone(true)\n    setConfiguring(false)\n  }\n\n  const joinChannel = (channel)=>{\n    setPlayingAlone(false)\n    setConfiguring(false)\n    setChannel(channel)\n  }\n\n  const sendPattern = (pattern)=>{\n    ddp.call('emojis.send',channel, {nick, avatarUrl, pattern})\n  }\n\n  return (\n    <LiveEmojingContext.Provider value={{connected,nick,servers,channel, joinChannel,setNick,sendPattern, avatarUrl, setAvatarUrl,toggleConfiguring,configuring,playAlone,playingAlone}}>\n      {children}\n    </LiveEmojingContext.Provider>\n  )\n\n}\n\nexport default LiveEmojingStore\n","import React, {useContext} from \"react\"\nimport Layout from \"../../layouts/live-emojing\"\nimport SEO from \"../../components/seo\"\nimport Playground from '../../components/live-emojing/playground'\nimport Connection from '../../components/live-emojing/connection'\nimport LiveEmojingStore from '../../components/live-emojing/store'\nimport LiveEmojingContext from '../../components/live-emojing/context.js'\n\nconst LiveEmojingWithContext = ({pattern}) =>{\n  const {configuring} = useContext(LiveEmojingContext)\n  return configuring? <Connection /> : <Playground pattern={pattern} />\n}\n\nconst LiveEmojingIndex = ({location}) =>{\n  const parts = location.hash.split('#')\n  const pattern = (parts.length >1) ? decodeURIComponent(parts[1]) : ''\n\n  return (\n    <Layout location={location} >\n      <SEO title=\"live emojing\" />\n      <LiveEmojingStore>\n        <LiveEmojingWithContext pattern={pattern} />\n      </LiveEmojingStore>\n    </Layout>\n  )\n\n}\n\nexport default LiveEmojingIndex\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Helmet from \"react-helmet\"\nimport { StaticQuery, graphql } from \"gatsby\"\n\nfunction SEO({ description, lang, meta, keywords, title }) {\n  return (\n    <StaticQuery\n      query={detailsQuery}\n      render={data => {\n        const metaDescription =\n          description || data.site.siteMetadata.description\n        return (\n          <Helmet\n            htmlAttributes={{\n              lang,\n            }}\n            title={title}\n            titleTemplate={`%s | ${data.site.siteMetadata.title}`}\n            meta={[\n              {\n                name: `description`,\n                content: metaDescription,\n              },\n              {\n                property: `og:title`,\n                content: title,\n              },\n              {\n                property: `og:description`,\n                content: metaDescription,\n              },\n              {\n                property: `og:type`,\n                content: `website`,\n              },\n              {\n                name: `twitter:card`,\n                content: `summary`,\n              },\n              {\n                name: `twitter:creator`,\n                content: data.site.siteMetadata.author,\n              },\n              {\n                name: `twitter:title`,\n                content: title,\n              },\n              {\n                name: `twitter:description`,\n                content: metaDescription,\n              },\n            ]\n              .concat(\n                keywords.length > 0\n                  ? {\n                      name: `keywords`,\n                      content: keywords.join(`, `),\n                    }\n                  : []\n              )\n              .concat(meta)}\n          />\n        )\n      }}\n    />\n  )\n}\n\nSEO.defaultProps = {\n  lang: `en`,\n  meta: [],\n  keywords: [],\n}\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  lang: PropTypes.string,\n  meta: PropTypes.array,\n  keywords: PropTypes.arrayOf(PropTypes.string),\n  title: PropTypes.string.isRequired,\n}\n\nexport default SEO\n\nconst detailsQuery = graphql`\n  query DefaultSEOQuery {\n    site {\n      siteMetadata {\n        title\n        description\n        author\n      }\n    }\n  }\n`\n","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\"\n\nimport en from \"../translations/en.json\"\nimport es from \"../translations/es.json\"\nimport quotes from \"../data/quotes.json\"\n\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    resources: { en, es },\n    fallbackLng: 'en',\n    whitelist: ['en','es'],\n    debug: process.env.NODE_ENV === \"development\",\n    saveMissing: process.env.NODE_ENV === \"development\",\n    updateMissing: process.env.NODE_ENV === \"development\",\n    load: 'languageOnly',\n    keySeparator: false, // we do not use keys in form messages.welcome\n    interpolation: {\n      escapeValue: false // react already safes from xss\n    }\n  })\n\n//todo: is this the right places for this??\ni18n.quotes = quotes\n\n\nexport default i18n\n","import React from \"react\"\nimport { Link as GatsbyLink} from \"gatsby\"\nimport { useTranslation } from 'react-i18next'\n\nconst Link = ({ to, ...props }) => {\n  const [, i18n] = useTranslation();\n  return <GatsbyLink {...props} to={`/${i18n.languages[0]}${to}`} />\n}\n\nexport default Link\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  if (!pageResources) {\n    return null\n  }\n\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React from \"react\"\nimport { Link } from \"gatsby\"\nimport PropTypes from 'prop-types'\n\nconst swaps = [['i','1'],['e','3'],['o','0'],['g','6'],['a','4']]\n//todo: improve performance\nclass Brand extends React.Component {\n\n  constructor(props){\n    super(props)\n    this.state = {title: props.title, swaps: props.swaps || swaps}\n  }\n\n  getDiff(){\n    let diff = 0\n    for(let i=0;i<this.props.title.length;i++){\n      diff += (this.state.title[i]===this.props.title[i]) ? 0 : 1\n    }\n    return diff\n  }\n\n  timer() {\n    const swaps = this.state.swaps\n    let i = Math.floor(Math.random()*swaps.length)\n    let from = Math.round(Math.random())\n    if(this.getDiff()>3) from = 1\n    let to = from ? 0 : 1\n    if(Math.random()<0.5){\n      this.setState({\n        title: this.state.title.replace(swaps[i][from],swaps[i][to])\n      })\n    }\n  }\n\n  componentDidMount(){\n    this.intervalId = setInterval(this.timer.bind(this), 100);\n  }\n\n  componentWillUnmount(){\n    clearInterval(this.intervalId);\n  }\n\n  render() {\n    return (\n        <h1>\n          <Link to={`/`}>{this.state.title}</Link>\n        </h1>\n    )\n  }\n\n}\n\n\n\nBrand.propTypes = {\n  title: PropTypes.string.isRequired,\n  swaps: PropTypes.array,\n};\n\n\nexport default Brand\n","/* eslint-disable */\n/*\n * Generated by PEG.js 0.10.0.\n *\n * http://pegjs.org/\n */\n\n\"use strict\";\n\nfunction peg$subclass(child, parent) {\n  function ctor() { this.constructor = child; }\n  ctor.prototype = parent.prototype;\n  child.prototype = new ctor();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  this.message  = message;\n  this.expected = expected;\n  this.found    = found;\n  this.location = location;\n  this.name     = \"SyntaxError\";\n\n  if (typeof Error.captureStackTrace === \"function\") {\n    Error.captureStackTrace(this, peg$SyntaxError);\n  }\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n        literal: function(expectation) {\n          return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n        },\n\n        \"class\": function(expectation) {\n          var escapedParts = \"\",\n              i;\n\n          for (i = 0; i < expectation.parts.length; i++) {\n            escapedParts += expectation.parts[i] instanceof Array\n              ? classEscape(expectation.parts[i][0]) + \"-\" + classEscape(expectation.parts[i][1])\n              : classEscape(expectation.parts[i]);\n          }\n\n          return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts + \"]\";\n        },\n\n        any: function(expectation) {\n          return \"any character\";\n        },\n\n        end: function(expectation) {\n          return \"end of input\";\n        },\n\n        other: function(expectation) {\n          return expectation.description;\n        }\n      };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\"/g,  '\\\\\"')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\\]/g, '\\\\]')\n      .replace(/\\^/g, '\\\\^')\n      .replace(/-/g,  '\\\\-')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = new Array(expected.length),\n        i, j;\n\n    for (i = 0; i < expected.length; i++) {\n      descriptions[i] = describeExpectation(expected[i]);\n    }\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== void 0 ? options : {};\n\n  var peg$FAILED = {},\n\n      peg$startRuleFunctions = { pattern: peg$parsepattern },\n      peg$startRuleFunction  = peg$parsepattern,\n\n      peg$c0 = peg$otherExpectation(\"term\"),\n      peg$c1 = function(body) {return body},\n      peg$c2 = function(body) {\n        body = parseToObject(body)\n        body.type = 'group'\n        return body\n      },\n      peg$c3 = peg$otherExpectation(\"group\"),\n      peg$c4 = \"[\",\n      peg$c5 = peg$literalExpectation(\"[\", false),\n      peg$c6 = \"]\",\n      peg$c7 = peg$literalExpectation(\"]\", false),\n      peg$c8 = function(value) {\n        return { type:'degrade', value}\n      },\n      peg$c9 = function(body) { return body },\n      peg$c10 = /^[0-9]/,\n      peg$c11 = peg$classExpectation([[\"0\", \"9\"]], false, false),\n      peg$c12 = function() { return { type:'number', value:+text() }},\n      peg$c13 = \"*\",\n      peg$c14 = peg$literalExpectation(\"*\", false),\n      peg$c15 = \"/\",\n      peg$c16 = peg$literalExpectation(\"/\", false),\n      peg$c17 = function(value, operator, repeatValue) {\n        return { type:'repeat', operator, repeatValue, value }\n      },\n      peg$c18 = \"~\",\n      peg$c19 = peg$literalExpectation(\"~\", false),\n      peg$c20 = function() {\n       return { type:'rest' }\n      },\n      peg$c21 = \"<\",\n      peg$c22 = peg$literalExpectation(\"<\", false),\n      peg$c23 = \">\",\n      peg$c24 = peg$literalExpectation(\">\", false),\n      peg$c25 = function(value) {\n        value.type = 'onestep'\n        return value\n      },\n      peg$c26 = peg$otherExpectation(\"whitespace\"),\n      peg$c27 = /^[ \\t\\n\\r ]/,\n      peg$c28 = peg$classExpectation([\" \", \"\\t\", \"\\n\", \"\\r\", \" \"], false, false),\n      peg$c29 = function() { return { type:'emoji', value:text() } },\n      peg$c30 = peg$otherExpectation(\"emoji\"),\n      peg$c31 = \"\\uD83C\",\n      peg$c32 = peg$literalExpectation(\"\\uD83C\", false),\n      peg$c33 = /^[\\uDF00-\\uDFFA]/,\n      peg$c34 = peg$classExpectation([[\"\\uDF00\", \"\\uDFFA\"]], false, false),\n      peg$c35 = \"\\uD83D\",\n      peg$c36 = peg$literalExpectation(\"\\uD83D\", false),\n      peg$c37 = /^[\\uDC00-\\uDDFF]/,\n      peg$c38 = peg$classExpectation([[\"\\uDC00\", \"\\uDDFF\"]], false, false),\n      peg$c39 = \"\\uDF85\",\n      peg$c40 = peg$literalExpectation(\"\\uDF85\", false),\n      peg$c41 = \"\\uDFC3\",\n      peg$c42 = peg$literalExpectation(\"\\uDFC3\", false),\n      peg$c43 = \"\\uDFC4\",\n      peg$c44 = peg$literalExpectation(\"\\uDFC4\", false),\n      peg$c45 = \"\\uDFCA\",\n      peg$c46 = peg$literalExpectation(\"\\uDFCA\", false),\n      peg$c47 = \"\\uDFCB\",\n      peg$c48 = peg$literalExpectation(\"\\uDFCB\", false),\n      peg$c49 = \"\\uDC42\",\n      peg$c50 = peg$literalExpectation(\"\\uDC42\", false),\n      peg$c51 = \"\\uDC43\",\n      peg$c52 = peg$literalExpectation(\"\\uDC43\", false),\n      peg$c53 = /^[\\uDC46-\\uDC50]/,\n      peg$c54 = peg$classExpectation([[\"\\uDC46\", \"\\uDC50\"]], false, false),\n      peg$c55 = /^[\\uDC66-\\uDC69]/,\n      peg$c56 = peg$classExpectation([[\"\\uDC66\", \"\\uDC69\"]], false, false),\n      peg$c57 = \"\\uDC6E\",\n      peg$c58 = peg$literalExpectation(\"\\uDC6E\", false),\n      peg$c59 = /^[\\uDC70-\\uDC78]/,\n      peg$c60 = peg$classExpectation([[\"\\uDC70\", \"\\uDC78\"]], false, false),\n      peg$c61 = \"\\uDC7C\",\n      peg$c62 = peg$literalExpectation(\"\\uDC7C\", false),\n      peg$c63 = /^[\\uDC81-\\uDC83]/,\n      peg$c64 = peg$classExpectation([[\"\\uDC81\", \"\\uDC83\"]], false, false),\n      peg$c65 = /^[\\uDC85-\\uDC87]/,\n      peg$c66 = peg$classExpectation([[\"\\uDC85\", \"\\uDC87\"]], false, false),\n      peg$c67 = \"\\uDCAA\",\n      peg$c68 = peg$literalExpectation(\"\\uDCAA\", false),\n      peg$c69 = \"\\uDD75\",\n      peg$c70 = peg$literalExpectation(\"\\uDD75\", false),\n      peg$c71 = \"\\uDD90\",\n      peg$c72 = peg$literalExpectation(\"\\uDD90\", false),\n      peg$c73 = \"\\uDD95\",\n      peg$c74 = peg$literalExpectation(\"\\uDD95\", false),\n      peg$c75 = \"\\uDD96\",\n      peg$c76 = peg$literalExpectation(\"\\uDD96\", false),\n      peg$c77 = \"\\uD83E\",\n      peg$c78 = peg$literalExpectation(\"\\uD83E\", false),\n      peg$c79 = /^[\\uDD00-\\uDDFF]/,\n      peg$c80 = peg$classExpectation([[\"\\uDD00\", \"\\uDDFF\"]], false, false),\n      peg$c81 = \"\\uDD18\",\n      peg$c82 = peg$literalExpectation(\"\\uDD18\", false),\n      peg$c83 = /^[\\uDE00-\\uDE4F]/,\n      peg$c84 = peg$classExpectation([[\"\\uDE00\", \"\\uDE4F\"]], false, false),\n      peg$c85 = /^[\\uDE45-\\uDE47]/,\n      peg$c86 = peg$classExpectation([[\"\\uDE45\", \"\\uDE47\"]], false, false),\n      peg$c87 = /^[\\uDE4B-\\uDE4F]/,\n      peg$c88 = peg$classExpectation([[\"\\uDE4B\", \"\\uDE4F\"]], false, false),\n      peg$c89 = /^[\\uDE80-\\uDEC5]/,\n      peg$c90 = peg$classExpectation([[\"\\uDE80\", \"\\uDEC5\"]], false, false),\n      peg$c91 = /^[\\uDECB-\\uDED0]/,\n      peg$c92 = peg$classExpectation([[\"\\uDECB\", \"\\uDED0\"]], false, false),\n      peg$c93 = /^[\\uDEE0-\\uDEE5]/,\n      peg$c94 = peg$classExpectation([[\"\\uDEE0\", \"\\uDEE5\"]], false, false),\n      peg$c95 = \"\\uDEE9\",\n      peg$c96 = peg$literalExpectation(\"\\uDEE9\", false),\n      peg$c97 = /^[\\uDEEB-\\uDEEC]/,\n      peg$c98 = peg$classExpectation([[\"\\uDEEB\", \"\\uDEEC\"]], false, false),\n      peg$c99 = \"\\uDEF0\",\n      peg$c100 = peg$literalExpectation(\"\\uDEF0\", false),\n      peg$c101 = \"\\uDEF3\",\n      peg$c102 = peg$literalExpectation(\"\\uDEF3\", false),\n      peg$c103 = \"\\uDEA3\",\n      peg$c104 = peg$literalExpectation(\"\\uDEA3\", false),\n      peg$c105 = /^[\\uDEB4-\\uDEB6]/,\n      peg$c106 = peg$classExpectation([[\"\\uDEB4\", \"\\uDEB6\"]], false, false),\n      peg$c107 = \"\\uDEC0\",\n      peg$c108 = peg$literalExpectation(\"\\uDEC0\", false),\n      peg$c109 = /^[\\u2600-\\u26FF]/,\n      peg$c110 = peg$classExpectation([[\"\\u2600\", \"\\u26FF\"]], false, false),\n      peg$c111 = \"\\u261D\",\n      peg$c112 = peg$literalExpectation(\"\\u261D\", false),\n      peg$c113 = \"\\u26F9\",\n      peg$c114 = peg$literalExpectation(\"\\u26F9\", false),\n      peg$c115 = \"\\u2712\",\n      peg$c116 = peg$literalExpectation(\"\\u2712\", false),\n      peg$c117 = \"\\u2714\",\n      peg$c118 = peg$literalExpectation(\"\\u2714\", false),\n      peg$c119 = \"\\u2716\",\n      peg$c120 = peg$literalExpectation(\"\\u2716\", false),\n      peg$c121 = \"\\u271D\",\n      peg$c122 = peg$literalExpectation(\"\\u271D\", false),\n      peg$c123 = \"\\u2721\",\n      peg$c124 = peg$literalExpectation(\"\\u2721\", false),\n      peg$c125 = \"\\u2728\",\n      peg$c126 = peg$literalExpectation(\"\\u2728\", false),\n      peg$c127 = /^[\\u2733-\\u2734]/,\n      peg$c128 = peg$classExpectation([[\"\\u2733\", \"\\u2734\"]], false, false),\n      peg$c129 = \"\\u2744\",\n      peg$c130 = peg$literalExpectation(\"\\u2744\", false),\n      peg$c131 = \"\\u2747\",\n      peg$c132 = peg$literalExpectation(\"\\u2747\", false),\n      peg$c133 = \"\\u274C\",\n      peg$c134 = peg$literalExpectation(\"\\u274C\", false),\n      peg$c135 = \"\\u274E\",\n      peg$c136 = peg$literalExpectation(\"\\u274E\", false),\n      peg$c137 = /^[\\u2753-\\u2755]/,\n      peg$c138 = peg$classExpectation([[\"\\u2753\", \"\\u2755\"]], false, false),\n      peg$c139 = \"\\u2757\",\n      peg$c140 = peg$literalExpectation(\"\\u2757\", false),\n      peg$c141 = /^[\\u2763-\\u2764]/,\n      peg$c142 = peg$classExpectation([[\"\\u2763\", \"\\u2764\"]], false, false),\n      peg$c143 = /^[\\u2795-\\u2797]/,\n      peg$c144 = peg$classExpectation([[\"\\u2795\", \"\\u2797\"]], false, false),\n      peg$c145 = \"\\u27A1\",\n      peg$c146 = peg$literalExpectation(\"\\u27A1\", false),\n      peg$c147 = \"\\u27B0\",\n      peg$c148 = peg$literalExpectation(\"\\u27B0\", false),\n      peg$c149 = \"\\u27BF\",\n      peg$c150 = peg$literalExpectation(\"\\u27BF\", false),\n      peg$c151 = \"\\u2702\",\n      peg$c152 = peg$literalExpectation(\"\\u2702\", false),\n      peg$c153 = \"\\u2705\",\n      peg$c154 = peg$literalExpectation(\"\\u2705\", false),\n      peg$c155 = /^[\\u2708-\\u270D]/,\n      peg$c156 = peg$classExpectation([[\"\\u2708\", \"\\u270D\"]], false, false),\n      peg$c157 = \"\\u270F\",\n      peg$c158 = peg$literalExpectation(\"\\u270F\", false),\n      peg$c159 = /^[\\u270A-\\u270D]/,\n      peg$c160 = peg$classExpectation([[\"\\u270A\", \"\\u270D\"]], false, false),\n      peg$c161 = /^[\\u2194-\\u2199]/,\n      peg$c162 = peg$classExpectation([[\"\\u2194\", \"\\u2199\"]], false, false),\n      peg$c163 = /^[\\u21A9-\\u21AA]/,\n      peg$c164 = peg$classExpectation([[\"\\u21A9\", \"\\u21AA\"]], false, false),\n      peg$c165 = \"\\u3030\",\n      peg$c166 = peg$literalExpectation(\"\\u3030\", false),\n      peg$c167 = \"\\u303D\",\n      peg$c168 = peg$literalExpectation(\"\\u303D\", false),\n      peg$c169 = /^[\\uDD70-\\uDD71]/,\n      peg$c170 = peg$classExpectation([[\"\\uDD70\", \"\\uDD71\"]], false, false),\n      peg$c171 = /^[\\uDD7E-\\uDD7F]/,\n      peg$c172 = peg$classExpectation([[\"\\uDD7E\", \"\\uDD7F\"]], false, false),\n      peg$c173 = \"\\uDD8E\",\n      peg$c174 = peg$literalExpectation(\"\\uDD8E\", false),\n      peg$c175 = /^[\\uDD91-\\uDD9A]/,\n      peg$c176 = peg$classExpectation([[\"\\uDD91\", \"\\uDD9A\"]], false, false),\n      peg$c177 = /^[\\uDDE6-\\uDDFF]/,\n      peg$c178 = peg$classExpectation([[\"\\uDDE6\", \"\\uDDFF\"]], false, false),\n      peg$c179 = \"\\u24C2\",\n      peg$c180 = peg$literalExpectation(\"\\u24C2\", false),\n      peg$c181 = \"\\u3297\",\n      peg$c182 = peg$literalExpectation(\"\\u3297\", false),\n      peg$c183 = \"\\u3299\",\n      peg$c184 = peg$literalExpectation(\"\\u3299\", false),\n      peg$c185 = /^[\\uDE01-\\uDE02]/,\n      peg$c186 = peg$classExpectation([[\"\\uDE01\", \"\\uDE02\"]], false, false),\n      peg$c187 = \"\\uDE1A\",\n      peg$c188 = peg$literalExpectation(\"\\uDE1A\", false),\n      peg$c189 = \"\\uDE2F\",\n      peg$c190 = peg$literalExpectation(\"\\uDE2F\", false),\n      peg$c191 = /^[\\uDE32-\\uDE3A]/,\n      peg$c192 = peg$classExpectation([[\"\\uDE32\", \"\\uDE3A\"]], false, false),\n      peg$c193 = /^[\\uDE50-\\uDE51]/,\n      peg$c194 = peg$classExpectation([[\"\\uDE50\", \"\\uDE51\"]], false, false),\n      peg$c195 = \"\\u203C\",\n      peg$c196 = peg$literalExpectation(\"\\u203C\", false),\n      peg$c197 = \"\\u2049\",\n      peg$c198 = peg$literalExpectation(\"\\u2049\", false),\n      peg$c199 = /^[\\u25AA-\\u25AB]/,\n      peg$c200 = peg$classExpectation([[\"\\u25AA\", \"\\u25AB\"]], false, false),\n      peg$c201 = \"\\u25B6\",\n      peg$c202 = peg$literalExpectation(\"\\u25B6\", false),\n      peg$c203 = \"\\u25C0\",\n      peg$c204 = peg$literalExpectation(\"\\u25C0\", false),\n      peg$c205 = /^[\\u25FB-\\u25FE]/,\n      peg$c206 = peg$classExpectation([[\"\\u25FB\", \"\\u25FE\"]], false, false),\n      peg$c207 = \"\\u2122\",\n      peg$c208 = peg$literalExpectation(\"\\u2122\", false),\n      peg$c209 = \"\\u2139\",\n      peg$c210 = peg$literalExpectation(\"\\u2139\", false),\n      peg$c211 = \"\\uDC04\",\n      peg$c212 = peg$literalExpectation(\"\\uDC04\", false),\n      peg$c213 = /^[\\u2B05-\\u2B07]/,\n      peg$c214 = peg$classExpectation([[\"\\u2B05\", \"\\u2B07\"]], false, false),\n      peg$c215 = /^[\\u2B1B-\\u2B1C]/,\n      peg$c216 = peg$classExpectation([[\"\\u2B1B\", \"\\u2B1C\"]], false, false),\n      peg$c217 = \"\\u2B50\",\n      peg$c218 = peg$literalExpectation(\"\\u2B50\", false),\n      peg$c219 = \"\\u2B55\",\n      peg$c220 = peg$literalExpectation(\"\\u2B55\", false),\n      peg$c221 = /^[\\u231A-\\u231B]/,\n      peg$c222 = peg$classExpectation([[\"\\u231A\", \"\\u231B\"]], false, false),\n      peg$c223 = \"\\u2328\",\n      peg$c224 = peg$literalExpectation(\"\\u2328\", false),\n      peg$c225 = \"\\u23CF\",\n      peg$c226 = peg$literalExpectation(\"\\u23CF\", false),\n      peg$c227 = /^[\\u23E9-\\u23F3]/,\n      peg$c228 = peg$classExpectation([[\"\\u23E9\", \"\\u23F3\"]], false, false),\n      peg$c229 = /^[\\u23F8-\\u23FA]/,\n      peg$c230 = peg$classExpectation([[\"\\u23F8\", \"\\u23FA\"]], false, false),\n      peg$c231 = \"\\uDCCF\",\n      peg$c232 = peg$literalExpectation(\"\\uDCCF\", false),\n      peg$c233 = /^[\\u2934-\\u2935]/,\n      peg$c234 = peg$classExpectation([[\"\\u2934\", \"\\u2935\"]], false, false),\n      peg$c235 = /^[\\uDFFB-\\uDFFF]/,\n      peg$c236 = peg$classExpectation([[\"\\uDFFB\", \"\\uDFFF\"]], false, false),\n      peg$c237 = peg$otherExpectation(\"Zero width joiner\"),\n      peg$c238 = \"\\u200D\",\n      peg$c239 = peg$literalExpectation(\"\\u200D\", false),\n      peg$c240 = \"\\uFE0E\",\n      peg$c241 = peg$literalExpectation(\"\\uFE0E\", false),\n      peg$c242 = \"\\uFE0F\",\n      peg$c243 = peg$literalExpectation(\"\\uFE0F\", false),\n      peg$c244 = \"\\uDC68\",\n      peg$c245 = peg$literalExpectation(\"\\uDC68\", false),\n      peg$c246 = \"\\uDC69\",\n      peg$c247 = peg$literalExpectation(\"\\uDC69\", false),\n      peg$c248 = \"\\uDC66\",\n      peg$c249 = peg$literalExpectation(\"\\uDC66\", false),\n      peg$c250 = \"\\uDC67\",\n      peg$c251 = peg$literalExpectation(\"\\uDC67\", false),\n      peg$c252 = \"\\u2764\",\n      peg$c253 = peg$literalExpectation(\"\\u2764\", false),\n      peg$c254 = \"\\uDC8B\",\n      peg$c255 = peg$literalExpectation(\"\\uDC8B\", false),\n      peg$c256 = \"\\uDC41\",\n      peg$c257 = peg$literalExpectation(\"\\uDC41\", false),\n      peg$c258 = \"\\uDDE8\",\n      peg$c259 = peg$literalExpectation(\"\\uDDE8\", false),\n      peg$c260 = \"?\",\n      peg$c261 = peg$literalExpectation(\"?\", false),\n\n      peg$currPos          = 0,\n      peg$savedPos         = 0,\n      peg$posDetailsCache  = [{ line: 1, column: 1 }],\n      peg$maxFailPos       = 0,\n      peg$maxFailExpected  = [],\n      peg$silentFails      = 0,\n\n      peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos], p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line:   details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n      return details;\n    }\n  }\n\n  function peg$computeLocation(startPos, endPos) {\n    var startPosDetails = peg$computePosDetails(startPos),\n        endPosDetails   = peg$computePosDetails(endPos);\n\n    return {\n      start: {\n        offset: startPos,\n        line:   startPosDetails.line,\n        column: startPosDetails.column\n      },\n      end: {\n        offset: endPos,\n        line:   endPosDetails.line,\n        column: endPosDetails.column\n      }\n    };\n  }\n\n  function peg$fail(expected) {\n    if (peg$currPos < peg$maxFailPos) { return; }\n\n    if (peg$currPos > peg$maxFailPos) {\n      peg$maxFailPos = peg$currPos;\n      peg$maxFailExpected = [];\n    }\n\n    peg$maxFailExpected.push(expected);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$parsepattern() {\n    var s0;\n\n    s0 = peg$parselist();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsegroup();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsedegrade();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parserepeat();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseonestep();\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseterm() {\n    var s0, s1, s2;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parsegroup();\n    if (s1 === peg$FAILED) {\n      s1 = peg$parsedegrade();\n      if (s1 === peg$FAILED) {\n        s1 = peg$parserepeat();\n        if (s1 === peg$FAILED) {\n          s1 = peg$parseemoji();\n          if (s1 === peg$FAILED) {\n            s1 = peg$parserest();\n            if (s1 === peg$FAILED) {\n              s1 = peg$parseonestep();\n            }\n          }\n        }\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c0); }\n    }\n\n    return s0;\n  }\n\n  function peg$parselist() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parseterm();\n      if (s3 !== peg$FAILED) {\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parseterm();\n        }\n      } else {\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c2(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsegroup() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 91) {\n        s2 = peg$c4;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c5); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          s5 = peg$parseterm();\n          if (s5 !== peg$FAILED) {\n            while (s5 !== peg$FAILED) {\n              s4.push(s5);\n              s5 = peg$parseterm();\n            }\n          } else {\n            s4 = peg$FAILED;\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parse_();\n            if (s5 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 93) {\n                s6 = peg$c6;\n                peg$currPos++;\n              } else {\n                s6 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c7); }\n              }\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parse_();\n                if (s7 !== peg$FAILED) {\n                  peg$savedPos = s0;\n                  s1 = peg$c2(s4);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c3); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsedegrade() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parsenotdegrade();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsequestion();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c8(s1);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenotdegrade() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parsegroup();\n    if (s1 === peg$FAILED) {\n      s1 = peg$parserepeat();\n      if (s1 === peg$FAILED) {\n        s1 = peg$parseemoji();\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c9(s1);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenumber() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parse_();\n    if (s2 !== peg$FAILED) {\n      s3 = [];\n      if (peg$c10.test(input.charAt(peg$currPos))) {\n        s4 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s4 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c11); }\n      }\n      if (s4 !== peg$FAILED) {\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          if (peg$c10.test(input.charAt(peg$currPos))) {\n            s4 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c11); }\n          }\n        }\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = peg$parse_();\n        if (s4 !== peg$FAILED) {\n          s2 = [s2, s3, s4];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c12();\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parserepeat() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parsenotrepeat();\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 42) {\n        s2 = peg$c13;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c14); }\n      }\n      if (s2 === peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 47) {\n          s2 = peg$c15;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c16); }\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsenumber();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c17(s1, s2, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenotrepeat() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parsegroup();\n    if (s1 === peg$FAILED) {\n      s1 = peg$parseemoji();\n      if (s1 === peg$FAILED) {\n        s1 = peg$parserest();\n        if (s1 === peg$FAILED) {\n          s1 = peg$parseonestep();\n        }\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c9(s1);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parserest() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 126) {\n        s2 = peg$c18;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c19); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c20();\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseonestep() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 60) {\n        s2 = peg$c21;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c22); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parselist();\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parse_();\n            if (s5 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 62) {\n                s6 = peg$c23;\n                peg$currPos++;\n              } else {\n                s6 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c24); }\n              }\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parse_();\n                if (s7 !== peg$FAILED) {\n                  peg$savedPos = s0;\n                  s1 = peg$c25(s4);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parse_() {\n    var s0, s1;\n\n    peg$silentFails++;\n    s0 = [];\n    if (peg$c27.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c28); }\n    }\n    while (s1 !== peg$FAILED) {\n      s0.push(s1);\n      if (peg$c27.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c28); }\n      }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c26); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseemoji() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parseEmoji_Raw();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseEmoji_Variant();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c29();\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseEmoji_Raw() {\n    var s0, s1;\n\n    peg$silentFails++;\n    s0 = peg$parseMiscellaneous_Symbols_and_Pictographs();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parseSupplemental_Symbols_and_Pictographs();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseEmoticons();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseTransport_and_Map_Symbols();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseMiscellaneous_Symbols();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parseDingbats();\n              if (s0 === peg$FAILED) {\n                s0 = peg$parseArrows();\n                if (s0 === peg$FAILED) {\n                  s0 = peg$parseCJK_Symbols_and_Punctuation();\n                  if (s0 === peg$FAILED) {\n                    s0 = peg$parseEnclosed_Alphanumeric_Supplement();\n                    if (s0 === peg$FAILED) {\n                      s0 = peg$parseEnclosed_Alphanumerics();\n                      if (s0 === peg$FAILED) {\n                        s0 = peg$parseEnclosed_Ideographic_Supplement();\n                        if (s0 === peg$FAILED) {\n                          s0 = peg$parseGeneral_Punctuation();\n                          if (s0 === peg$FAILED) {\n                            s0 = peg$parseGeometric_Shapes();\n                            if (s0 === peg$FAILED) {\n                              s0 = peg$parseLetterlike_Symbols();\n                              if (s0 === peg$FAILED) {\n                                s0 = peg$parseMahjong_Tiles();\n                                if (s0 === peg$FAILED) {\n                                  s0 = peg$parseMiscellaneous_Symbols_and_Arrows();\n                                  if (s0 === peg$FAILED) {\n                                    s0 = peg$parseMiscellaneous_Technical();\n                                    if (s0 === peg$FAILED) {\n                                      s0 = peg$parsePlaying_cards();\n                                      if (s0 === peg$FAILED) {\n                                        s0 = peg$parseSupplemental_ArrowsB();\n                                      }\n                                    }\n                                  }\n                                }\n                              }\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c30); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseMiscellaneous_Symbols_and_Pictographs() {\n    var s0, s1, s2;\n\n    s0 = peg$parseMiscellaneous_Symbols_and_Pictographs_Sequences();\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parseMiscellaneous_Symbols_and_Pictographs_Diversity();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseFitzpatrick_Modifier();\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 55356) {\n          s1 = peg$c31;\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c32); }\n        }\n        if (s1 !== peg$FAILED) {\n          if (peg$c33.test(input.charAt(peg$currPos))) {\n            s2 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c34); }\n          }\n          if (s2 !== peg$FAILED) {\n            s1 = [s1, s2];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          if (input.charCodeAt(peg$currPos) === 55357) {\n            s1 = peg$c35;\n            peg$currPos++;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c36); }\n          }\n          if (s1 !== peg$FAILED) {\n            if (peg$c37.test(input.charAt(peg$currPos))) {\n              s2 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s2 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c38); }\n            }\n            if (s2 !== peg$FAILED) {\n              s1 = [s1, s2];\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseMiscellaneous_Symbols_and_Pictographs_Sequences() {\n    var s0;\n\n    s0 = peg$parseKiss_Sequence();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parseCouple_With_Heart_Sequence();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseFamily_Sequence();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseLeft_Eye_Speech_Bubble_Sequence();\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseMiscellaneous_Symbols_and_Pictographs_Diversity() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 55356) {\n      s1 = peg$c31;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c32); }\n    }\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 57221) {\n        s2 = peg$c39;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c40); }\n      }\n      if (s2 !== peg$FAILED) {\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 55356) {\n        s1 = peg$c31;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c32); }\n      }\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 57283) {\n          s2 = peg$c41;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c42); }\n        }\n        if (s2 === peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 57284) {\n            s2 = peg$c43;\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c44); }\n          }\n        }\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 55356) {\n          s1 = peg$c31;\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c32); }\n        }\n        if (s1 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 57290) {\n            s2 = peg$c45;\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c46); }\n          }\n          if (s2 === peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 57291) {\n              s2 = peg$c47;\n              peg$currPos++;\n            } else {\n              s2 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c48); }\n            }\n          }\n          if (s2 !== peg$FAILED) {\n            s1 = [s1, s2];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          if (input.charCodeAt(peg$currPos) === 55357) {\n            s1 = peg$c35;\n            peg$currPos++;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c36); }\n          }\n          if (s1 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 56386) {\n              s2 = peg$c49;\n              peg$currPos++;\n            } else {\n              s2 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c50); }\n            }\n            if (s2 === peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 56387) {\n                s2 = peg$c51;\n                peg$currPos++;\n              } else {\n                s2 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c52); }\n              }\n            }\n            if (s2 !== peg$FAILED) {\n              s1 = [s1, s2];\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            if (input.charCodeAt(peg$currPos) === 55357) {\n              s1 = peg$c35;\n              peg$currPos++;\n            } else {\n              s1 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c36); }\n            }\n            if (s1 !== peg$FAILED) {\n              if (peg$c53.test(input.charAt(peg$currPos))) {\n                s2 = input.charAt(peg$currPos);\n                peg$currPos++;\n              } else {\n                s2 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c54); }\n              }\n              if (s2 !== peg$FAILED) {\n                s1 = [s1, s2];\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n            if (s0 === peg$FAILED) {\n              s0 = peg$currPos;\n              if (input.charCodeAt(peg$currPos) === 55357) {\n                s1 = peg$c35;\n                peg$currPos++;\n              } else {\n                s1 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c36); }\n              }\n              if (s1 !== peg$FAILED) {\n                if (peg$c55.test(input.charAt(peg$currPos))) {\n                  s2 = input.charAt(peg$currPos);\n                  peg$currPos++;\n                } else {\n                  s2 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c56); }\n                }\n                if (s2 !== peg$FAILED) {\n                  s1 = [s1, s2];\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n              if (s0 === peg$FAILED) {\n                s0 = peg$currPos;\n                if (input.charCodeAt(peg$currPos) === 55357) {\n                  s1 = peg$c35;\n                  peg$currPos++;\n                } else {\n                  s1 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c36); }\n                }\n                if (s1 !== peg$FAILED) {\n                  if (input.charCodeAt(peg$currPos) === 56430) {\n                    s2 = peg$c57;\n                    peg$currPos++;\n                  } else {\n                    s2 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c58); }\n                  }\n                  if (s2 !== peg$FAILED) {\n                    s1 = [s1, s2];\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n                if (s0 === peg$FAILED) {\n                  s0 = peg$currPos;\n                  if (input.charCodeAt(peg$currPos) === 55357) {\n                    s1 = peg$c35;\n                    peg$currPos++;\n                  } else {\n                    s1 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c36); }\n                  }\n                  if (s1 !== peg$FAILED) {\n                    if (peg$c59.test(input.charAt(peg$currPos))) {\n                      s2 = input.charAt(peg$currPos);\n                      peg$currPos++;\n                    } else {\n                      s2 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c60); }\n                    }\n                    if (s2 !== peg$FAILED) {\n                      s1 = [s1, s2];\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                  if (s0 === peg$FAILED) {\n                    s0 = peg$currPos;\n                    if (input.charCodeAt(peg$currPos) === 55357) {\n                      s1 = peg$c35;\n                      peg$currPos++;\n                    } else {\n                      s1 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c36); }\n                    }\n                    if (s1 !== peg$FAILED) {\n                      if (input.charCodeAt(peg$currPos) === 56444) {\n                        s2 = peg$c61;\n                        peg$currPos++;\n                      } else {\n                        s2 = peg$FAILED;\n                        if (peg$silentFails === 0) { peg$fail(peg$c62); }\n                      }\n                      if (s2 !== peg$FAILED) {\n                        s1 = [s1, s2];\n                        s0 = s1;\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                    if (s0 === peg$FAILED) {\n                      s0 = peg$currPos;\n                      if (input.charCodeAt(peg$currPos) === 55357) {\n                        s1 = peg$c35;\n                        peg$currPos++;\n                      } else {\n                        s1 = peg$FAILED;\n                        if (peg$silentFails === 0) { peg$fail(peg$c36); }\n                      }\n                      if (s1 !== peg$FAILED) {\n                        if (peg$c63.test(input.charAt(peg$currPos))) {\n                          s2 = input.charAt(peg$currPos);\n                          peg$currPos++;\n                        } else {\n                          s2 = peg$FAILED;\n                          if (peg$silentFails === 0) { peg$fail(peg$c64); }\n                        }\n                        if (s2 !== peg$FAILED) {\n                          s1 = [s1, s2];\n                          s0 = s1;\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                      if (s0 === peg$FAILED) {\n                        s0 = peg$currPos;\n                        if (input.charCodeAt(peg$currPos) === 55357) {\n                          s1 = peg$c35;\n                          peg$currPos++;\n                        } else {\n                          s1 = peg$FAILED;\n                          if (peg$silentFails === 0) { peg$fail(peg$c36); }\n                        }\n                        if (s1 !== peg$FAILED) {\n                          if (peg$c65.test(input.charAt(peg$currPos))) {\n                            s2 = input.charAt(peg$currPos);\n                            peg$currPos++;\n                          } else {\n                            s2 = peg$FAILED;\n                            if (peg$silentFails === 0) { peg$fail(peg$c66); }\n                          }\n                          if (s2 !== peg$FAILED) {\n                            s1 = [s1, s2];\n                            s0 = s1;\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                        if (s0 === peg$FAILED) {\n                          s0 = peg$currPos;\n                          if (input.charCodeAt(peg$currPos) === 55357) {\n                            s1 = peg$c35;\n                            peg$currPos++;\n                          } else {\n                            s1 = peg$FAILED;\n                            if (peg$silentFails === 0) { peg$fail(peg$c36); }\n                          }\n                          if (s1 !== peg$FAILED) {\n                            if (input.charCodeAt(peg$currPos) === 56490) {\n                              s2 = peg$c67;\n                              peg$currPos++;\n                            } else {\n                              s2 = peg$FAILED;\n                              if (peg$silentFails === 0) { peg$fail(peg$c68); }\n                            }\n                            if (s2 !== peg$FAILED) {\n                              s1 = [s1, s2];\n                              s0 = s1;\n                            } else {\n                              peg$currPos = s0;\n                              s0 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                          if (s0 === peg$FAILED) {\n                            s0 = peg$currPos;\n                            if (input.charCodeAt(peg$currPos) === 55357) {\n                              s1 = peg$c35;\n                              peg$currPos++;\n                            } else {\n                              s1 = peg$FAILED;\n                              if (peg$silentFails === 0) { peg$fail(peg$c36); }\n                            }\n                            if (s1 !== peg$FAILED) {\n                              if (input.charCodeAt(peg$currPos) === 56693) {\n                                s2 = peg$c69;\n                                peg$currPos++;\n                              } else {\n                                s2 = peg$FAILED;\n                                if (peg$silentFails === 0) { peg$fail(peg$c70); }\n                              }\n                              if (s2 !== peg$FAILED) {\n                                s1 = [s1, s2];\n                                s0 = s1;\n                              } else {\n                                peg$currPos = s0;\n                                s0 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s0;\n                              s0 = peg$FAILED;\n                            }\n                            if (s0 === peg$FAILED) {\n                              s0 = peg$currPos;\n                              if (input.charCodeAt(peg$currPos) === 55357) {\n                                s1 = peg$c35;\n                                peg$currPos++;\n                              } else {\n                                s1 = peg$FAILED;\n                                if (peg$silentFails === 0) { peg$fail(peg$c36); }\n                              }\n                              if (s1 !== peg$FAILED) {\n                                if (input.charCodeAt(peg$currPos) === 56720) {\n                                  s2 = peg$c71;\n                                  peg$currPos++;\n                                } else {\n                                  s2 = peg$FAILED;\n                                  if (peg$silentFails === 0) { peg$fail(peg$c72); }\n                                }\n                                if (s2 !== peg$FAILED) {\n                                  s1 = [s1, s2];\n                                  s0 = s1;\n                                } else {\n                                  peg$currPos = s0;\n                                  s0 = peg$FAILED;\n                                }\n                              } else {\n                                peg$currPos = s0;\n                                s0 = peg$FAILED;\n                              }\n                              if (s0 === peg$FAILED) {\n                                s0 = peg$currPos;\n                                if (input.charCodeAt(peg$currPos) === 55357) {\n                                  s1 = peg$c35;\n                                  peg$currPos++;\n                                } else {\n                                  s1 = peg$FAILED;\n                                  if (peg$silentFails === 0) { peg$fail(peg$c36); }\n                                }\n                                if (s1 !== peg$FAILED) {\n                                  if (input.charCodeAt(peg$currPos) === 56725) {\n                                    s2 = peg$c73;\n                                    peg$currPos++;\n                                  } else {\n                                    s2 = peg$FAILED;\n                                    if (peg$silentFails === 0) { peg$fail(peg$c74); }\n                                  }\n                                  if (s2 === peg$FAILED) {\n                                    if (input.charCodeAt(peg$currPos) === 56726) {\n                                      s2 = peg$c75;\n                                      peg$currPos++;\n                                    } else {\n                                      s2 = peg$FAILED;\n                                      if (peg$silentFails === 0) { peg$fail(peg$c76); }\n                                    }\n                                  }\n                                  if (s2 !== peg$FAILED) {\n                                    s1 = [s1, s2];\n                                    s0 = s1;\n                                  } else {\n                                    peg$currPos = s0;\n                                    s0 = peg$FAILED;\n                                  }\n                                } else {\n                                  peg$currPos = s0;\n                                  s0 = peg$FAILED;\n                                }\n                              }\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseSupplemental_Symbols_and_Pictographs() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parseSupplemental_Symbols_and_Pictographs_Diversity();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseFitzpatrick_Modifier();\n      if (s2 !== peg$FAILED) {\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 55358) {\n        s1 = peg$c77;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c78); }\n      }\n      if (s1 !== peg$FAILED) {\n        if (peg$c79.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c80); }\n        }\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseSupplemental_Symbols_and_Pictographs_Diversity() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 55358) {\n      s1 = peg$c77;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c78); }\n    }\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 56600) {\n        s2 = peg$c81;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c82); }\n      }\n      if (s2 !== peg$FAILED) {\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseEmoticons() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parseEmoticons_Diversity();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseFitzpatrick_Modifier();\n      if (s2 !== peg$FAILED) {\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 55357) {\n        s1 = peg$c35;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c36); }\n      }\n      if (s1 !== peg$FAILED) {\n        if (peg$c83.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c84); }\n        }\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseEmoticons_Diversity() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 55357) {\n      s1 = peg$c35;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c36); }\n    }\n    if (s1 !== peg$FAILED) {\n      if (peg$c85.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c86); }\n      }\n      if (s2 !== peg$FAILED) {\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 55357) {\n        s1 = peg$c35;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c36); }\n      }\n      if (s1 !== peg$FAILED) {\n        if (peg$c87.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c88); }\n        }\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseTransport_and_Map_Symbols() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parseTransport_and_Map_Symbols_Diversity();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseFitzpatrick_Modifier();\n      if (s2 !== peg$FAILED) {\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 55357) {\n        s1 = peg$c35;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c36); }\n      }\n      if (s1 !== peg$FAILED) {\n        if (peg$c89.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c90); }\n        }\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 55357) {\n          s1 = peg$c35;\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c36); }\n        }\n        if (s1 !== peg$FAILED) {\n          if (peg$c91.test(input.charAt(peg$currPos))) {\n            s2 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c92); }\n          }\n          if (s2 !== peg$FAILED) {\n            s1 = [s1, s2];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          if (input.charCodeAt(peg$currPos) === 55357) {\n            s1 = peg$c35;\n            peg$currPos++;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c36); }\n          }\n          if (s1 !== peg$FAILED) {\n            if (peg$c93.test(input.charAt(peg$currPos))) {\n              s2 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s2 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c94); }\n            }\n            if (s2 !== peg$FAILED) {\n              s1 = [s1, s2];\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            if (input.charCodeAt(peg$currPos) === 55357) {\n              s1 = peg$c35;\n              peg$currPos++;\n            } else {\n              s1 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c36); }\n            }\n            if (s1 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 57065) {\n                s2 = peg$c95;\n                peg$currPos++;\n              } else {\n                s2 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c96); }\n              }\n              if (s2 !== peg$FAILED) {\n                s1 = [s1, s2];\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n            if (s0 === peg$FAILED) {\n              s0 = peg$currPos;\n              if (input.charCodeAt(peg$currPos) === 55357) {\n                s1 = peg$c35;\n                peg$currPos++;\n              } else {\n                s1 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c36); }\n              }\n              if (s1 !== peg$FAILED) {\n                if (peg$c97.test(input.charAt(peg$currPos))) {\n                  s2 = input.charAt(peg$currPos);\n                  peg$currPos++;\n                } else {\n                  s2 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c98); }\n                }\n                if (s2 !== peg$FAILED) {\n                  s1 = [s1, s2];\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n              if (s0 === peg$FAILED) {\n                s0 = peg$currPos;\n                if (input.charCodeAt(peg$currPos) === 55357) {\n                  s1 = peg$c35;\n                  peg$currPos++;\n                } else {\n                  s1 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c36); }\n                }\n                if (s1 !== peg$FAILED) {\n                  if (input.charCodeAt(peg$currPos) === 57072) {\n                    s2 = peg$c99;\n                    peg$currPos++;\n                  } else {\n                    s2 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c100); }\n                  }\n                  if (s2 !== peg$FAILED) {\n                    s1 = [s1, s2];\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n                if (s0 === peg$FAILED) {\n                  s0 = peg$currPos;\n                  if (input.charCodeAt(peg$currPos) === 55357) {\n                    s1 = peg$c35;\n                    peg$currPos++;\n                  } else {\n                    s1 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c36); }\n                  }\n                  if (s1 !== peg$FAILED) {\n                    if (input.charCodeAt(peg$currPos) === 57075) {\n                      s2 = peg$c101;\n                      peg$currPos++;\n                    } else {\n                      s2 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c102); }\n                    }\n                    if (s2 !== peg$FAILED) {\n                      s1 = [s1, s2];\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseTransport_and_Map_Symbols_Diversity() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 55357) {\n      s1 = peg$c35;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c36); }\n    }\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 56995) {\n        s2 = peg$c103;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c104); }\n      }\n      if (s2 !== peg$FAILED) {\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 55357) {\n        s1 = peg$c35;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c36); }\n      }\n      if (s1 !== peg$FAILED) {\n        if (peg$c105.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c106); }\n        }\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 55357) {\n          s1 = peg$c35;\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c36); }\n        }\n        if (s1 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 57024) {\n            s2 = peg$c107;\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c108); }\n          }\n          if (s2 !== peg$FAILED) {\n            s1 = [s1, s2];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseMiscellaneous_Symbols() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parseMiscellaneous_Symbols_Diversity();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseFitzpatrick_Modifier();\n      if (s2 !== peg$FAILED) {\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      if (peg$c109.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c110); }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseMiscellaneous_Symbols_Diversity() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 9757) {\n      s0 = peg$c111;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c112); }\n    }\n    if (s0 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 9977) {\n        s0 = peg$c113;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c114); }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseDingbats() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parseDingbats_Diversity();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseFitzpatrick_Modifier();\n      if (s2 !== peg$FAILED) {\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 10002) {\n        s0 = peg$c115;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c116); }\n      }\n      if (s0 === peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 10004) {\n          s0 = peg$c117;\n          peg$currPos++;\n        } else {\n          s0 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c118); }\n        }\n        if (s0 === peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 10006) {\n            s0 = peg$c119;\n            peg$currPos++;\n          } else {\n            s0 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c120); }\n          }\n          if (s0 === peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 10013) {\n              s0 = peg$c121;\n              peg$currPos++;\n            } else {\n              s0 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c122); }\n            }\n            if (s0 === peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 10017) {\n                s0 = peg$c123;\n                peg$currPos++;\n              } else {\n                s0 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c124); }\n              }\n              if (s0 === peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 10024) {\n                  s0 = peg$c125;\n                  peg$currPos++;\n                } else {\n                  s0 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c126); }\n                }\n                if (s0 === peg$FAILED) {\n                  if (peg$c127.test(input.charAt(peg$currPos))) {\n                    s0 = input.charAt(peg$currPos);\n                    peg$currPos++;\n                  } else {\n                    s0 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c128); }\n                  }\n                  if (s0 === peg$FAILED) {\n                    if (input.charCodeAt(peg$currPos) === 10052) {\n                      s0 = peg$c129;\n                      peg$currPos++;\n                    } else {\n                      s0 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c130); }\n                    }\n                    if (s0 === peg$FAILED) {\n                      if (input.charCodeAt(peg$currPos) === 10055) {\n                        s0 = peg$c131;\n                        peg$currPos++;\n                      } else {\n                        s0 = peg$FAILED;\n                        if (peg$silentFails === 0) { peg$fail(peg$c132); }\n                      }\n                      if (s0 === peg$FAILED) {\n                        if (input.charCodeAt(peg$currPos) === 10060) {\n                          s0 = peg$c133;\n                          peg$currPos++;\n                        } else {\n                          s0 = peg$FAILED;\n                          if (peg$silentFails === 0) { peg$fail(peg$c134); }\n                        }\n                        if (s0 === peg$FAILED) {\n                          if (input.charCodeAt(peg$currPos) === 10062) {\n                            s0 = peg$c135;\n                            peg$currPos++;\n                          } else {\n                            s0 = peg$FAILED;\n                            if (peg$silentFails === 0) { peg$fail(peg$c136); }\n                          }\n                          if (s0 === peg$FAILED) {\n                            if (peg$c137.test(input.charAt(peg$currPos))) {\n                              s0 = input.charAt(peg$currPos);\n                              peg$currPos++;\n                            } else {\n                              s0 = peg$FAILED;\n                              if (peg$silentFails === 0) { peg$fail(peg$c138); }\n                            }\n                            if (s0 === peg$FAILED) {\n                              if (input.charCodeAt(peg$currPos) === 10071) {\n                                s0 = peg$c139;\n                                peg$currPos++;\n                              } else {\n                                s0 = peg$FAILED;\n                                if (peg$silentFails === 0) { peg$fail(peg$c140); }\n                              }\n                              if (s0 === peg$FAILED) {\n                                if (peg$c141.test(input.charAt(peg$currPos))) {\n                                  s0 = input.charAt(peg$currPos);\n                                  peg$currPos++;\n                                } else {\n                                  s0 = peg$FAILED;\n                                  if (peg$silentFails === 0) { peg$fail(peg$c142); }\n                                }\n                                if (s0 === peg$FAILED) {\n                                  if (peg$c143.test(input.charAt(peg$currPos))) {\n                                    s0 = input.charAt(peg$currPos);\n                                    peg$currPos++;\n                                  } else {\n                                    s0 = peg$FAILED;\n                                    if (peg$silentFails === 0) { peg$fail(peg$c144); }\n                                  }\n                                  if (s0 === peg$FAILED) {\n                                    if (input.charCodeAt(peg$currPos) === 10145) {\n                                      s0 = peg$c145;\n                                      peg$currPos++;\n                                    } else {\n                                      s0 = peg$FAILED;\n                                      if (peg$silentFails === 0) { peg$fail(peg$c146); }\n                                    }\n                                    if (s0 === peg$FAILED) {\n                                      if (input.charCodeAt(peg$currPos) === 10160) {\n                                        s0 = peg$c147;\n                                        peg$currPos++;\n                                      } else {\n                                        s0 = peg$FAILED;\n                                        if (peg$silentFails === 0) { peg$fail(peg$c148); }\n                                      }\n                                      if (s0 === peg$FAILED) {\n                                        if (input.charCodeAt(peg$currPos) === 10175) {\n                                          s0 = peg$c149;\n                                          peg$currPos++;\n                                        } else {\n                                          s0 = peg$FAILED;\n                                          if (peg$silentFails === 0) { peg$fail(peg$c150); }\n                                        }\n                                        if (s0 === peg$FAILED) {\n                                          if (input.charCodeAt(peg$currPos) === 9986) {\n                                            s0 = peg$c151;\n                                            peg$currPos++;\n                                          } else {\n                                            s0 = peg$FAILED;\n                                            if (peg$silentFails === 0) { peg$fail(peg$c152); }\n                                          }\n                                          if (s0 === peg$FAILED) {\n                                            if (input.charCodeAt(peg$currPos) === 9989) {\n                                              s0 = peg$c153;\n                                              peg$currPos++;\n                                            } else {\n                                              s0 = peg$FAILED;\n                                              if (peg$silentFails === 0) { peg$fail(peg$c154); }\n                                            }\n                                            if (s0 === peg$FAILED) {\n                                              if (peg$c155.test(input.charAt(peg$currPos))) {\n                                                s0 = input.charAt(peg$currPos);\n                                                peg$currPos++;\n                                              } else {\n                                                s0 = peg$FAILED;\n                                                if (peg$silentFails === 0) { peg$fail(peg$c156); }\n                                              }\n                                              if (s0 === peg$FAILED) {\n                                                if (input.charCodeAt(peg$currPos) === 9999) {\n                                                  s0 = peg$c157;\n                                                  peg$currPos++;\n                                                } else {\n                                                  s0 = peg$FAILED;\n                                                  if (peg$silentFails === 0) { peg$fail(peg$c158); }\n                                                }\n                                              }\n                                            }\n                                          }\n                                        }\n                                      }\n                                    }\n                                  }\n                                }\n                              }\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseDingbats_Diversity() {\n    var s0;\n\n    if (peg$c159.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c160); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseArrows() {\n    var s0;\n\n    if (peg$c161.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c162); }\n    }\n    if (s0 === peg$FAILED) {\n      if (peg$c163.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c164); }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseCJK_Symbols_and_Punctuation() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 12336) {\n      s0 = peg$c165;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c166); }\n    }\n    if (s0 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 12349) {\n        s0 = peg$c167;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c168); }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseEnclosed_Alphanumeric_Supplement() {\n    var s0, s1, s2;\n\n    s0 = peg$parseRegional_Indicator_Symbol();\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 55356) {\n        s1 = peg$c31;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c32); }\n      }\n      if (s1 !== peg$FAILED) {\n        if (peg$c169.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c170); }\n        }\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 55356) {\n          s1 = peg$c31;\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c32); }\n        }\n        if (s1 !== peg$FAILED) {\n          if (peg$c171.test(input.charAt(peg$currPos))) {\n            s2 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c172); }\n          }\n          if (s2 !== peg$FAILED) {\n            s1 = [s1, s2];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          if (input.charCodeAt(peg$currPos) === 55356) {\n            s1 = peg$c31;\n            peg$currPos++;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c32); }\n          }\n          if (s1 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 56718) {\n              s2 = peg$c173;\n              peg$currPos++;\n            } else {\n              s2 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c174); }\n            }\n            if (s2 !== peg$FAILED) {\n              s1 = [s1, s2];\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            if (input.charCodeAt(peg$currPos) === 55356) {\n              s1 = peg$c31;\n              peg$currPos++;\n            } else {\n              s1 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c32); }\n            }\n            if (s1 !== peg$FAILED) {\n              if (peg$c175.test(input.charAt(peg$currPos))) {\n                s2 = input.charAt(peg$currPos);\n                peg$currPos++;\n              } else {\n                s2 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c176); }\n              }\n              if (s2 !== peg$FAILED) {\n                s1 = [s1, s2];\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n            if (s0 === peg$FAILED) {\n              s0 = peg$currPos;\n              if (input.charCodeAt(peg$currPos) === 55356) {\n                s1 = peg$c31;\n                peg$currPos++;\n              } else {\n                s1 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c32); }\n              }\n              if (s1 !== peg$FAILED) {\n                if (peg$c177.test(input.charAt(peg$currPos))) {\n                  s2 = input.charAt(peg$currPos);\n                  peg$currPos++;\n                } else {\n                  s2 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c178); }\n                }\n                if (s2 !== peg$FAILED) {\n                  s1 = [s1, s2];\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseRegional_Indicator_Symbol() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 55356) {\n      s1 = peg$c31;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c32); }\n    }\n    if (s1 !== peg$FAILED) {\n      if (peg$c177.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c178); }\n      }\n      if (s2 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 55356) {\n          s3 = peg$c31;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c32); }\n        }\n        if (s3 !== peg$FAILED) {\n          if (peg$c177.test(input.charAt(peg$currPos))) {\n            s4 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c178); }\n          }\n          if (s4 !== peg$FAILED) {\n            s1 = [s1, s2, s3, s4];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseEnclosed_Alphanumerics() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 9410) {\n      s0 = peg$c179;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c180); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseEnclosed_CJK_Letters_and_Months() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 12951) {\n      s0 = peg$c181;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c182); }\n    }\n    if (s0 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 12953) {\n        s0 = peg$c183;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c184); }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseEnclosed_Ideographic_Supplement() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 55356) {\n      s1 = peg$c31;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c32); }\n    }\n    if (s1 !== peg$FAILED) {\n      if (peg$c185.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c186); }\n      }\n      if (s2 !== peg$FAILED) {\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 55356) {\n        s1 = peg$c31;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c32); }\n      }\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 56858) {\n          s2 = peg$c187;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c188); }\n        }\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 55356) {\n          s1 = peg$c31;\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c32); }\n        }\n        if (s1 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 56879) {\n            s2 = peg$c189;\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c190); }\n          }\n          if (s2 !== peg$FAILED) {\n            s1 = [s1, s2];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          if (input.charCodeAt(peg$currPos) === 55356) {\n            s1 = peg$c31;\n            peg$currPos++;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c32); }\n          }\n          if (s1 !== peg$FAILED) {\n            if (peg$c191.test(input.charAt(peg$currPos))) {\n              s2 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s2 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c192); }\n            }\n            if (s2 !== peg$FAILED) {\n              s1 = [s1, s2];\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            if (input.charCodeAt(peg$currPos) === 55356) {\n              s1 = peg$c31;\n              peg$currPos++;\n            } else {\n              s1 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c32); }\n            }\n            if (s1 !== peg$FAILED) {\n              if (peg$c193.test(input.charAt(peg$currPos))) {\n                s2 = input.charAt(peg$currPos);\n                peg$currPos++;\n              } else {\n                s2 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c194); }\n              }\n              if (s2 !== peg$FAILED) {\n                s1 = [s1, s2];\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseGeneral_Punctuation() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 8252) {\n      s0 = peg$c195;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c196); }\n    }\n    if (s0 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 8265) {\n        s0 = peg$c197;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c198); }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseGeometric_Shapes() {\n    var s0;\n\n    if (peg$c199.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c200); }\n    }\n    if (s0 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 9654) {\n        s0 = peg$c201;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c202); }\n      }\n      if (s0 === peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 9664) {\n          s0 = peg$c203;\n          peg$currPos++;\n        } else {\n          s0 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c204); }\n        }\n        if (s0 === peg$FAILED) {\n          if (peg$c205.test(input.charAt(peg$currPos))) {\n            s0 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s0 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c206); }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseLetterlike_Symbols() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 8482) {\n      s0 = peg$c207;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c208); }\n    }\n    if (s0 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 8505) {\n        s0 = peg$c209;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c210); }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseMahjong_Tiles() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 55356) {\n      s1 = peg$c31;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c32); }\n    }\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 56324) {\n        s2 = peg$c211;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c212); }\n      }\n      if (s2 !== peg$FAILED) {\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseMiscellaneous_Symbols_and_Arrows() {\n    var s0;\n\n    if (peg$c213.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c214); }\n    }\n    if (s0 === peg$FAILED) {\n      if (peg$c215.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c216); }\n      }\n      if (s0 === peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 11088) {\n          s0 = peg$c217;\n          peg$currPos++;\n        } else {\n          s0 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c218); }\n        }\n        if (s0 === peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 11093) {\n            s0 = peg$c219;\n            peg$currPos++;\n          } else {\n            s0 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c220); }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseMiscellaneous_Technical() {\n    var s0;\n\n    if (peg$c221.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c222); }\n    }\n    if (s0 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 9000) {\n        s0 = peg$c223;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c224); }\n      }\n      if (s0 === peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 9167) {\n          s0 = peg$c225;\n          peg$currPos++;\n        } else {\n          s0 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c226); }\n        }\n        if (s0 === peg$FAILED) {\n          if (peg$c227.test(input.charAt(peg$currPos))) {\n            s0 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s0 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c228); }\n          }\n          if (s0 === peg$FAILED) {\n            if (peg$c229.test(input.charAt(peg$currPos))) {\n              s0 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s0 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c230); }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsePlaying_cards() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 55356) {\n      s1 = peg$c31;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c32); }\n    }\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 56527) {\n        s2 = peg$c231;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c232); }\n      }\n      if (s2 !== peg$FAILED) {\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseSupplemental_ArrowsB() {\n    var s0;\n\n    if (peg$c233.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c234); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseFitzpatrick_Modifier() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 55356) {\n      s1 = peg$c31;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c32); }\n    }\n    if (s1 !== peg$FAILED) {\n      if (peg$c235.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c236); }\n      }\n      if (s2 !== peg$FAILED) {\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsezero() {\n    var s0, s1;\n\n    peg$silentFails++;\n    if (input.charCodeAt(peg$currPos) === 8205) {\n      s0 = peg$c238;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c239); }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c237); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseText_Variant() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 65038) {\n      s0 = peg$c240;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c241); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseEmoji_Variant() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 65039) {\n      s0 = peg$c242;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c243); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseManOrWoman() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 55357) {\n      s1 = peg$c35;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c36); }\n    }\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 56424) {\n        s2 = peg$c244;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c245); }\n      }\n      if (s2 === peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 56425) {\n          s2 = peg$c246;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c247); }\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseFitzpatrick_Modifier();\n        if (s3 === peg$FAILED) {\n          s3 = null;\n        }\n        if (s3 !== peg$FAILED) {\n          s1 = [s1, s2, s3];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseBoyOrGirl() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 55357) {\n      s1 = peg$c35;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c36); }\n    }\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 56422) {\n        s2 = peg$c248;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c249); }\n      }\n      if (s2 === peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 56423) {\n          s2 = peg$c250;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c251); }\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseFitzpatrick_Modifier();\n        if (s3 === peg$FAILED) {\n          s3 = null;\n        }\n        if (s3 !== peg$FAILED) {\n          s1 = [s1, s2, s3];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseHeart() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 10084) {\n      s1 = peg$c252;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c253); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseEmoji_Variant();\n      if (s2 !== peg$FAILED) {\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseKiss() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 55357) {\n      s1 = peg$c35;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c36); }\n    }\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 56459) {\n        s2 = peg$c254;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c255); }\n      }\n      if (s2 !== peg$FAILED) {\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseKiss_Sequence() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    s1 = peg$parseManOrWoman();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsezero();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseHeart();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsezero();\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parseKiss();\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parsezero();\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parseManOrWoman();\n                if (s7 !== peg$FAILED) {\n                  s1 = [s1, s2, s3, s4, s5, s6, s7];\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseCouple_With_Heart_Sequence() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parseManOrWoman();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsezero();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseHeart();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsezero();\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parseManOrWoman();\n            if (s5 !== peg$FAILED) {\n              s1 = [s1, s2, s3, s4, s5];\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseFamily_Sequence() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    s1 = peg$parseManOrWoman();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$currPos;\n      s3 = peg$parsezero();\n      if (s3 !== peg$FAILED) {\n        s4 = peg$parseManOrWoman();\n        if (s4 !== peg$FAILED) {\n          s3 = [s3, s4];\n          s2 = s3;\n        } else {\n          peg$currPos = s2;\n          s2 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s2;\n        s2 = peg$FAILED;\n      }\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsezero();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parseBoyOrGirl();\n          if (s4 !== peg$FAILED) {\n            s5 = peg$currPos;\n            s6 = peg$parsezero();\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parseBoyOrGirl();\n              if (s7 !== peg$FAILED) {\n                s6 = [s6, s7];\n                s5 = s6;\n              } else {\n                peg$currPos = s5;\n                s5 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s5;\n              s5 = peg$FAILED;\n            }\n            if (s5 === peg$FAILED) {\n              s5 = null;\n            }\n            if (s5 !== peg$FAILED) {\n              s1 = [s1, s2, s3, s4, s5];\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseLeft_Eye_Speech_Bubble_Sequence() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 55357) {\n      s1 = peg$c35;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c36); }\n    }\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 56385) {\n        s2 = peg$c256;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c257); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsezero();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 55357) {\n            s4 = peg$c35;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c36); }\n          }\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 56808) {\n              s5 = peg$c258;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c259); }\n            }\n            if (s5 !== peg$FAILED) {\n              s1 = [s1, s2, s3, s4, s5];\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsequestion() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 63) {\n      s0 = peg$c260;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c261); }\n    }\n\n    return s0;\n  }\n\n\n    var Fraction = require('fraction.js');\n\n    function parseToObject(body, start = new Fraction(0), end = new Fraction(1)){\n\n      let cycleBody = {};\n      let cycleSection = start;\n      let frac = new Fraction(end/body.length);\n\n      for( let i = 0; i < body.length; i++ ) {\n        cycleBody[cycleSection.toFraction(false)] = body[i];\n        cycleSection = new Fraction(cycleSection).add(frac);\n      }\n      return cycleBody;\n    }\n\n\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$fail(peg$endExpectation());\n    }\n\n    throw peg$buildStructuredError(\n      peg$maxFailExpected,\n      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n      peg$maxFailPos < input.length\n        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n    );\n  }\n}\n\nmodule.exports = {\n  SyntaxError: peg$SyntaxError,\n  parse:       peg$parse\n};\n","/* eslint-disable */\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Pattern = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n/*\n\n\"use strict\";\n*/\n\nfunction peg$subclass(child, parent) {\n  function ctor() { this.constructor = child; }\n  ctor.prototype = parent.prototype;\n  child.prototype = new ctor();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  this.message  = message;\n  this.expected = expected;\n  this.found    = found;\n  this.location = location;\n  this.name     = \"SyntaxError\";\n\n  if (typeof Error.captureStackTrace === \"function\") {\n    Error.captureStackTrace(this, peg$SyntaxError);\n  }\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n        literal: function(expectation) {\n          return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n        },\n\n        \"class\": function(expectation) {\n          var escapedParts = \"\",\n              i;\n\n          for (i = 0; i < expectation.parts.length; i++) {\n            escapedParts += expectation.parts[i] instanceof Array\n              ? classEscape(expectation.parts[i][0]) + \"-\" + classEscape(expectation.parts[i][1])\n              : classEscape(expectation.parts[i]);\n          }\n\n          return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts + \"]\";\n        },\n\n        any: function(expectation) {\n          return \"any character\";\n        },\n\n        end: function(expectation) {\n          return \"end of input\";\n        },\n\n        other: function(expectation) {\n          return expectation.description;\n        }\n      };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\"/g,  '\\\\\"')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\\]/g, '\\\\]')\n      .replace(/\\^/g, '\\\\^')\n      .replace(/-/g,  '\\\\-')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = new Array(expected.length),\n        i, j;\n\n    for (i = 0; i < expected.length; i++) {\n      descriptions[i] = describeExpectation(expected[i]);\n    }\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== void 0 ? options : {};\n\n  var peg$FAILED = {},\n\n      peg$startRuleFunctions = { pattern: peg$parsepattern },\n      peg$startRuleFunction  = peg$parsepattern,\n\n      peg$c0 = function(_valuesstart, _valuesend) {\n        _valuesend.unshift( _valuesstart )\n        const values = _valuesend\n\n        let out\n\n        if( values.type === undefined ) {\n          // getting nested arrays with feet...\n          out = {\n            values:Array.isArray( values[0] ) ? values[0] : values,\n            type:'group'\n          }\n        }else{\n          out = values\n          out.type = 'group'\n        }\n\n        addLoc( out, location() )\n\n        return out\n      },\n      peg$c1 = peg$otherExpectation(\"group\"),\n      peg$c2 = \"[\",\n      peg$c3 = peg$literalExpectation(\"[\", false),\n      peg$c4 = \"]\",\n      peg$c5 = peg$literalExpectation(\"]\", false),\n      peg$c6 = function(values) {\n        const out = {\n          values,\n          type:'group'\n        }\n\n        return addLoc( out, location() )\n      },\n      peg$c7 = peg$otherExpectation(\"term\"),\n      peg$c8 = function(body) {return body},\n      peg$c9 = \"(\",\n      peg$c10 = peg$literalExpectation(\"(\", false),\n      peg$c11 = \",\",\n      peg$c12 = peg$literalExpectation(\",\", false),\n      peg$c13 = \")\",\n      peg$c14 = peg$literalExpectation(\")\", false),\n      peg$c15 = function(value, pulses, slots, rotation) {\n        const result = {\n          type:'bjorklund',\n          pulses,\n          slots,\n          value,\n          'rotation': rotation.length > 0 ? rotation[ 0 ] : null\n        }\n\n        return result\n      },\n      peg$c16 = function(body) { return body },\n      peg$c17 = \"?\",\n      peg$c18 = peg$literalExpectation(\"?\", false),\n      peg$c19 = function(value) {\n        const out = { type:'degrade', value }\n        return addLoc( out, location() )\n      },\n      peg$c20 = function(value, operator, rate) {\n        const r =  { type:'repeat', operator, rate, value }\n\n        if( options.addLocations === true ) {\n          r.location = {\n            start:value.location.start,\n            end: rate.location.end\n          }\n        }\n\n        // not needed anymore\n        if( value.location !== undefined ) delete value.location\n        if( rate.location !== undefined )  delete rate.location\n\n        return r\n      },\n      peg$c21 = \"{\",\n      peg$c22 = peg$literalExpectation(\"{\", false),\n      peg$c23 = \"}\",\n      peg$c24 = peg$literalExpectation(\"}\", false),\n      peg$c25 = function(left, right) {\n        const result = {\n          'left':{\n            type:'group',\n            values:left\n          },\n          'right':{\n            type:'group',\n            values:right,\n          },\n          type: 'polymeter'\n        }\n\n        addLoc( result, location() )\n\n        return result\n      },\n      peg$c26 = \"~\",\n      peg$c27 = peg$literalExpectation(\"~\", false),\n      peg$c28 = function() {\n       return { type:'rest' }\n      },\n      peg$c29 = function(start, end) {\n        const out = {\n          type:'group',\n          values: start.map( grp => grp[0] )\n        }\n        out.values.push( end )\n\n        return addLoc( out, location() )\n      },\n      peg$c30 = function(value) {\n        return value\n      },\n      peg$c31 = function(body, end) {\n        const values = []\n\n        for( let i = 0; i < body.length; i++ ) {\n          let value = body[ i ][ 0 ]\n          if( value.type === 'number' || value.type === 'string' ) {\n            value = {\n              type:'group',\n              values:[ value ]\n            }\n          }else{\n            /*value.type = 'group'*/\n          }\n        \tvalues.push( value )\n        }\n\n        if( end.type === 'number' || end.type === 'string' ) {\n          end = { type:'group', values:[ end ] }\n        }else{\n          /*end.type = 'group'*/\n        }\n\n        values.push( end )\n\n        const result = {\n          type: 'layers',\n          values\n        }\n\n        return addLoc( result, location() )\n      },\n      peg$c32 = \"<\",\n      peg$c33 = peg$literalExpectation(\"<\", false),\n      peg$c34 = \">\",\n      peg$c35 = peg$literalExpectation(\">\", false),\n      peg$c36 = function(body, end) {\n        const onestep = {\n          type:'onestep',\n          values:[body]\n        }\n\n        if( end !== null ) {\n          onestep.values.push( end )\n        }\n\n        return addLoc( onestep, location() )\n      },\n      peg$c37 = peg$otherExpectation(\"word\"),\n      peg$c38 = /^[letter number]/,\n      peg$c39 = peg$classExpectation([\"l\", \"e\", \"t\", \"t\", \"e\", \"r\", \" \", \"n\", \"u\", \"m\", \"b\", \"e\", \"r\"], false, false),\n      peg$c40 = function(value) {\n        return addLoc( { type:typeof value, value, }, location() )\n      },\n      peg$c41 = function(l) {\n        return addLoc( { type:'string', value:text().trim() }, location() )\n      },\n      peg$c42 = /^[^ [\\] {} () \\t\\n\\r '*' '\\/' '.' '~' '?' ',' '>' '<' ]/,\n      peg$c43 = peg$classExpectation([\" \", \"[\", \"]\", \" \", \"{\", \"}\", \" \", \"(\", \")\", \" \", \"\\t\", \"\\n\", \"\\r\", \" \", \"'\", \"*\", \"'\", \" \", \"'\", \"/\", \"'\", \" \", \"'\", \".\", \"'\", \" \", \"'\", \"~\", \"'\", \" \", \"'\", \"?\", \"'\", \" \", \"'\", \",\", \"'\", \" \", \"'\", \">\", \"'\", \" \", \"'\", \"<\", \"'\", \" \"], true, false),\n      peg$c44 = function(value) {\n        return addLoc( {type:'string', value }, location() )\n      },\n      peg$c45 = \"*\",\n      peg$c46 = peg$literalExpectation(\"*\", false),\n      peg$c47 = \"/\",\n      peg$c48 = peg$literalExpectation(\"/\", false),\n      peg$c49 = \".\",\n      peg$c50 = peg$literalExpectation(\".\", false),\n      peg$c51 = \"-\",\n      peg$c52 = peg$literalExpectation(\"-\", false),\n      peg$c53 = /^[0-9]/,\n      peg$c54 = peg$classExpectation([[\"0\", \"9\"]], false, false),\n      peg$c55 = function() {\n        return addLoc( { type:'number', value:+text().trim() }, location() )\n      },\n      peg$c56 = peg$otherExpectation(\"whitespace\"),\n      peg$c57 = /^[ \\t\\n\\r ]/,\n      peg$c58 = peg$classExpectation([\" \", \"\\t\", \"\\n\", \"\\r\", \" \"], false, false),\n\n      peg$currPos          = 0,\n      peg$savedPos         = 0,\n      peg$posDetailsCache  = [{ line: 1, column: 1 }],\n      peg$maxFailPos       = 0,\n      peg$maxFailExpected  = [],\n      peg$silentFails      = 0,\n\n      peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos], p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line:   details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n      return details;\n    }\n  }\n\n  function peg$computeLocation(startPos, endPos) {\n    var startPosDetails = peg$computePosDetails(startPos),\n        endPosDetails   = peg$computePosDetails(endPos);\n\n    return {\n      start: {\n        offset: startPos,\n        line:   startPosDetails.line,\n        column: startPosDetails.column\n      },\n      end: {\n        offset: endPos,\n        line:   endPosDetails.line,\n        column: endPosDetails.column\n      }\n    };\n  }\n\n  function peg$fail(expected) {\n    if (peg$currPos < peg$maxFailPos) { return; }\n\n    if (peg$currPos > peg$maxFailPos) {\n      peg$maxFailPos = peg$currPos;\n      peg$maxFailExpected = [];\n    }\n\n    peg$maxFailExpected.push(expected);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$parsepattern() {\n    var s0;\n\n    s0 = peg$parsefeet();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parselist();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parserepeat();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parselayer();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseeuclid();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parsegroup();\n              if (s0 === peg$FAILED) {\n                s0 = peg$parseonestep();\n                if (s0 === peg$FAILED) {\n                  s0 = peg$parsepolymeter();\n                  if (s0 === peg$FAILED) {\n                    s0 = peg$parseterm();\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parselist() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseterm();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          s5 = peg$parseterm();\n          if (s5 !== peg$FAILED) {\n            while (s5 !== peg$FAILED) {\n              s4.push(s5);\n              s5 = peg$parseterm();\n            }\n          } else {\n            s4 = peg$FAILED;\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parse_();\n            if (s5 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c0(s2, s4);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsegroup() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 91) {\n        s2 = peg$c2;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c3); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          s5 = peg$parseterm();\n          if (s5 !== peg$FAILED) {\n            while (s5 !== peg$FAILED) {\n              s4.push(s5);\n              s5 = peg$parseterm();\n            }\n          } else {\n            s4 = peg$FAILED;\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parse_();\n            if (s5 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 93) {\n                s6 = peg$c4;\n                peg$currPos++;\n              } else {\n                s6 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c5); }\n              }\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parse_();\n                if (s7 !== peg$FAILED) {\n                  peg$savedPos = s0;\n                  s1 = peg$c6(s4);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c1); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseterm() {\n    var s0, s1, s2;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parserepeat();\n    if (s1 === peg$FAILED) {\n      s1 = peg$parsedegrade();\n      if (s1 === peg$FAILED) {\n        s1 = peg$parselayer();\n        if (s1 === peg$FAILED) {\n          s1 = peg$parsenumber();\n          if (s1 === peg$FAILED) {\n            s1 = peg$parseletters();\n            if (s1 === peg$FAILED) {\n              s1 = peg$parseword();\n              if (s1 === peg$FAILED) {\n                s1 = peg$parsepolymeter();\n                if (s1 === peg$FAILED) {\n                  s1 = peg$parsegroup();\n                  if (s1 === peg$FAILED) {\n                    s1 = peg$parseeuclid();\n                    if (s1 === peg$FAILED) {\n                      s1 = peg$parseletter();\n                      if (s1 === peg$FAILED) {\n                        s1 = peg$parserest();\n                        if (s1 === peg$FAILED) {\n                          s1 = peg$parseonestep();\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c8(s1);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c7); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseeuclid() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14, s15;\n\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenoteuclid();\n      if (s2 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 40) {\n          s3 = peg$c9;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c10); }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parseterm();\n            if (s5 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 44) {\n                s6 = peg$c11;\n                peg$currPos++;\n              } else {\n                s6 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c12); }\n              }\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parse_();\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parseterm();\n                  if (s8 !== peg$FAILED) {\n                    s9 = peg$parse_();\n                    if (s9 !== peg$FAILED) {\n                      if (input.charCodeAt(peg$currPos) === 41) {\n                        s10 = peg$c13;\n                        peg$currPos++;\n                      } else {\n                        s10 = peg$FAILED;\n                        if (peg$silentFails === 0) { peg$fail(peg$c14); }\n                      }\n                      if (s10 === peg$FAILED) {\n                        s10 = null;\n                      }\n                      if (s10 !== peg$FAILED) {\n                        if (input.charCodeAt(peg$currPos) === 44) {\n                          s11 = peg$c11;\n                          peg$currPos++;\n                        } else {\n                          s11 = peg$FAILED;\n                          if (peg$silentFails === 0) { peg$fail(peg$c12); }\n                        }\n                        if (s11 === peg$FAILED) {\n                          s11 = null;\n                        }\n                        if (s11 !== peg$FAILED) {\n                          s12 = peg$parse_();\n                          if (s12 !== peg$FAILED) {\n                            s13 = [];\n                            s14 = peg$parseterm();\n                            while (s14 !== peg$FAILED) {\n                              s13.push(s14);\n                              s14 = peg$parseterm();\n                            }\n                            if (s13 !== peg$FAILED) {\n                              s14 = peg$parse_();\n                              if (s14 !== peg$FAILED) {\n                                if (input.charCodeAt(peg$currPos) === 41) {\n                                  s15 = peg$c13;\n                                  peg$currPos++;\n                                } else {\n                                  s15 = peg$FAILED;\n                                  if (peg$silentFails === 0) { peg$fail(peg$c14); }\n                                }\n                                if (s15 === peg$FAILED) {\n                                  s15 = null;\n                                }\n                                if (s15 !== peg$FAILED) {\n                                  peg$savedPos = s0;\n                                  s1 = peg$c15(s2, s5, s8, s13);\n                                  s0 = s1;\n                                } else {\n                                  peg$currPos = s0;\n                                  s0 = peg$FAILED;\n                                }\n                              } else {\n                                peg$currPos = s0;\n                                s0 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s0;\n                              s0 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenoteuclid() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parsegroup();\n    if (s1 === peg$FAILED) {\n      s1 = peg$parsenumber();\n      if (s1 === peg$FAILED) {\n        s1 = peg$parseletter();\n        if (s1 === peg$FAILED) {\n          s1 = peg$parseword();\n          if (s1 === peg$FAILED) {\n            s1 = peg$parserest();\n            if (s1 === peg$FAILED) {\n              s1 = peg$parseonestep();\n            }\n          }\n        }\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c16(s1);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedegrade() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parsenotdegrade();\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 63) {\n        s2 = peg$c17;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c18); }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c19(s1);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenotdegrade() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parsenumber();\n    if (s1 === peg$FAILED) {\n      s1 = peg$parserepeat();\n      if (s1 === peg$FAILED) {\n        s1 = peg$parseeuclid();\n        if (s1 === peg$FAILED) {\n          s1 = peg$parsegroup();\n          if (s1 === peg$FAILED) {\n            s1 = peg$parseletter();\n            if (s1 === peg$FAILED) {\n              s1 = peg$parseonestep();\n            }\n          }\n        }\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c16(s1);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parserepeat() {\n    var s0, s1, s2, s3, s4, s5, s6;\n\n    s0 = peg$currPos;\n    s1 = peg$parsenotrepeat();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseop();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parsenotrepeat();\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parse_();\n              if (s6 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c20(s1, s3, s5);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenotrepeat() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parseeuclid();\n    if (s1 === peg$FAILED) {\n      s1 = peg$parsepolymeter();\n      if (s1 === peg$FAILED) {\n        s1 = peg$parsenumber();\n        if (s1 === peg$FAILED) {\n          s1 = peg$parselayer();\n          if (s1 === peg$FAILED) {\n            s1 = peg$parseletters();\n            if (s1 === peg$FAILED) {\n              s1 = peg$parsegroup();\n              if (s1 === peg$FAILED) {\n                s1 = peg$parseletter();\n                if (s1 === peg$FAILED) {\n                  s1 = peg$parserest();\n                  if (s1 === peg$FAILED) {\n                    s1 = peg$parseonestep();\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c16(s1);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsepolymeter() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10;\n\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 123) {\n        s2 = peg$c21;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c22); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          s5 = peg$parseterm();\n          if (s5 !== peg$FAILED) {\n            while (s5 !== peg$FAILED) {\n              s4.push(s5);\n              s5 = peg$parseterm();\n            }\n          } else {\n            s4 = peg$FAILED;\n          }\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 44) {\n              s5 = peg$c11;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c12); }\n            }\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parse_();\n              if (s6 !== peg$FAILED) {\n                s7 = [];\n                s8 = peg$parseterm();\n                if (s8 !== peg$FAILED) {\n                  while (s8 !== peg$FAILED) {\n                    s7.push(s8);\n                    s8 = peg$parseterm();\n                  }\n                } else {\n                  s7 = peg$FAILED;\n                }\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parse_();\n                  if (s8 !== peg$FAILED) {\n                    if (input.charCodeAt(peg$currPos) === 125) {\n                      s9 = peg$c23;\n                      peg$currPos++;\n                    } else {\n                      s9 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c24); }\n                    }\n                    if (s9 !== peg$FAILED) {\n                      s10 = peg$parse_();\n                      if (s10 !== peg$FAILED) {\n                        peg$savedPos = s0;\n                        s1 = peg$c25(s4, s7);\n                        s0 = s1;\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parserest() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 126) {\n      s1 = peg$c26;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c27); }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c28();\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsefeet() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsefoot();\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsefoot();\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenotfoot();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c29(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsefoot() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsenotfoot();\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsenotfoot();\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsedot();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c30(s1);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenotfoot() {\n    var s0;\n\n    s0 = peg$parselist();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsedegrade();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsepolymeter();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parserest();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parserepeat();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parseeuclid();\n              if (s0 === peg$FAILED) {\n                s0 = peg$parsenumber();\n                if (s0 === peg$FAILED) {\n                  s0 = peg$parseletter();\n                  if (s0 === peg$FAILED) {\n                    s0 = peg$parseletters();\n                    if (s0 === peg$FAILED) {\n                      s0 = peg$parseword();\n                      if (s0 === peg$FAILED) {\n                        s0 = peg$parseonestep();\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parselayer() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9;\n\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 91) {\n        s2 = peg$c2;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c3); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          s5 = peg$currPos;\n          s6 = peg$parsenotlayer();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parse_();\n            if (s7 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 44) {\n                s8 = peg$c11;\n                peg$currPos++;\n              } else {\n                s8 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c12); }\n              }\n              if (s8 !== peg$FAILED) {\n                s9 = peg$parse_();\n                if (s9 !== peg$FAILED) {\n                  s6 = [s6, s7, s8, s9];\n                  s5 = s6;\n                } else {\n                  peg$currPos = s5;\n                  s5 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s5;\n                s5 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s5;\n              s5 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s5;\n            s5 = peg$FAILED;\n          }\n          if (s5 !== peg$FAILED) {\n            while (s5 !== peg$FAILED) {\n              s4.push(s5);\n              s5 = peg$currPos;\n              s6 = peg$parsenotlayer();\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parse_();\n                if (s7 !== peg$FAILED) {\n                  if (input.charCodeAt(peg$currPos) === 44) {\n                    s8 = peg$c11;\n                    peg$currPos++;\n                  } else {\n                    s8 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c12); }\n                  }\n                  if (s8 !== peg$FAILED) {\n                    s9 = peg$parse_();\n                    if (s9 !== peg$FAILED) {\n                      s6 = [s6, s7, s8, s9];\n                      s5 = s6;\n                    } else {\n                      peg$currPos = s5;\n                      s5 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s5;\n                    s5 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s5;\n                  s5 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s5;\n                s5 = peg$FAILED;\n              }\n            }\n          } else {\n            s4 = peg$FAILED;\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parsenotlayer();\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parse_();\n              if (s6 !== peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 93) {\n                  s7 = peg$c4;\n                  peg$currPos++;\n                } else {\n                  s7 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c5); }\n                }\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parse_();\n                  if (s8 !== peg$FAILED) {\n                    peg$savedPos = s0;\n                    s1 = peg$c31(s4, s5);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenotlayer() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parserepeat();\n    if (s1 === peg$FAILED) {\n      s1 = peg$parselist();\n      if (s1 === peg$FAILED) {\n        s1 = peg$parsenumber();\n        if (s1 === peg$FAILED) {\n          s1 = peg$parseletters();\n          if (s1 === peg$FAILED) {\n            s1 = peg$parseeuclid();\n            if (s1 === peg$FAILED) {\n              s1 = peg$parsepolymeter();\n              if (s1 === peg$FAILED) {\n                s1 = peg$parsegroup();\n                if (s1 === peg$FAILED) {\n                  s1 = peg$parseletter();\n                  if (s1 === peg$FAILED) {\n                    s1 = peg$parserest();\n                    if (s1 === peg$FAILED) {\n                      s1 = peg$parseonestep();\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c16(s1);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseonestep() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 60) {\n      s1 = peg$c32;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c33); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsenotonestep();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 44) {\n            s4 = peg$c11;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c12); }\n          }\n          if (s4 === peg$FAILED) {\n            s4 = null;\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parsenotonestep();\n            if (s5 === peg$FAILED) {\n              s5 = null;\n            }\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parse_();\n              if (s6 !== peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 62) {\n                  s7 = peg$c34;\n                  peg$currPos++;\n                } else {\n                  s7 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c35); }\n                }\n                if (s7 !== peg$FAILED) {\n                  peg$savedPos = s0;\n                  s1 = peg$c36(s3, s5);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenotonestep() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parselist();\n    if (s1 === peg$FAILED) {\n      s1 = peg$parseeuclid();\n      if (s1 === peg$FAILED) {\n        s1 = peg$parsepolymeter();\n        if (s1 === peg$FAILED) {\n          s1 = peg$parseword();\n          if (s1 === peg$FAILED) {\n            s1 = peg$parsegroup();\n            if (s1 === peg$FAILED) {\n              s1 = peg$parsenumber();\n              if (s1 === peg$FAILED) {\n                s1 = peg$parseletter();\n                if (s1 === peg$FAILED) {\n                  s1 = peg$parserest();\n                  if (s1 === peg$FAILED) {\n                    s1 = peg$parselayer();\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c16(s1);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseword() {\n    var s0, s1, s2, s3, s4;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$currPos;\n      s3 = [];\n      if (peg$c38.test(input.charAt(peg$currPos))) {\n        s4 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s4 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c39); }\n      }\n      if (s4 !== peg$FAILED) {\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          if (peg$c38.test(input.charAt(peg$currPos))) {\n            s4 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c39); }\n          }\n        }\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s2 = input.substring(s2, peg$currPos);\n      } else {\n        s2 = s3;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c40(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c37); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseletters() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parseletter();\n      if (s3 !== peg$FAILED) {\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parseletter();\n        }\n      } else {\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c41(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseletter() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    if (peg$c42.test(input.charAt(peg$currPos))) {\n      s2 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c43); }\n    }\n    if (s2 !== peg$FAILED) {\n      s1 = input.substring(s1, peg$currPos);\n    } else {\n      s1 = s2;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c44(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseop() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 42) {\n      s0 = peg$c45;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c46); }\n    }\n    if (s0 === peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 47) {\n        s0 = peg$c47;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c48); }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsedot() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 46) {\n      s0 = peg$c49;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c50); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsequestion() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 63) {\n      s0 = peg$c17;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c18); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsenumber() {\n    var s0, s1, s2, s3, s4, s5, s6;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 45) {\n      s1 = peg$c51;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c52); }\n    }\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$currPos;\n      s3 = [];\n      if (peg$c53.test(input.charAt(peg$currPos))) {\n        s4 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s4 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c54); }\n      }\n      if (s4 !== peg$FAILED) {\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          if (peg$c53.test(input.charAt(peg$currPos))) {\n            s4 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c54); }\n          }\n        }\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s4 = peg$c49;\n          peg$currPos++;\n        } else {\n          s4 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c50); }\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = [];\n          if (peg$c53.test(input.charAt(peg$currPos))) {\n            s6 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s6 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c54); }\n          }\n          while (s6 !== peg$FAILED) {\n            s5.push(s6);\n            if (peg$c53.test(input.charAt(peg$currPos))) {\n              s6 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s6 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c54); }\n            }\n          }\n          if (s5 !== peg$FAILED) {\n            s3 = [s3, s4, s5];\n            s2 = s3;\n          } else {\n            peg$currPos = s2;\n            s2 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s2;\n          s2 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s2;\n        s2 = peg$FAILED;\n      }\n      if (s2 === peg$FAILED) {\n        s2 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s3 = peg$c49;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c50); }\n        }\n        if (s3 === peg$FAILED) {\n          s3 = null;\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          if (peg$c53.test(input.charAt(peg$currPos))) {\n            s5 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c54); }\n          }\n          if (s5 !== peg$FAILED) {\n            while (s5 !== peg$FAILED) {\n              s4.push(s5);\n              if (peg$c53.test(input.charAt(peg$currPos))) {\n                s5 = input.charAt(peg$currPos);\n                peg$currPos++;\n              } else {\n                s5 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c54); }\n              }\n            }\n          } else {\n            s4 = peg$FAILED;\n          }\n          if (s4 !== peg$FAILED) {\n            s3 = [s3, s4];\n            s2 = s3;\n          } else {\n            peg$currPos = s2;\n            s2 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s2;\n          s2 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c55();\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parse_() {\n    var s0, s1;\n\n    peg$silentFails++;\n    s0 = [];\n    if (peg$c57.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c58); }\n    }\n    while (s1 !== peg$FAILED) {\n      s0.push(s1);\n      if (peg$c57.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c58); }\n      }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c56); }\n    }\n\n    return s0;\n  }\n\n\n    const addLocations = options.addLocations\n\n    let uid = 0\n    const addLoc = function( value, location ) {\n      if( addLocations === true ) {\n        value.location = location\n      }\n\n      if( options.addUID === true ) {\n        value.uid = uid++\n      }\n\n      return value\n    }\n\n\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$fail(peg$endExpectation());\n    }\n\n    throw peg$buildStructuredError(\n      peg$maxFailExpected,\n      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n      peg$maxFailPos < input.length\n        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n    );\n  }\n}\n\nmodule.exports = {\n  SyntaxError: peg$SyntaxError,\n  parse:       peg$parse\n};\n\n},{}],2:[function(require,module,exports){\nfunction bjorklund(slots, pulses){\n  var pattern = [],\n      count = [],\n      remainder = [pulses],\n      divisor = slots - pulses,\n      level = 0,\n      build_pattern = function(lv){\n        if( lv == -1 ){ pattern.push(0); }\n        else if( lv == -2 ){ pattern.push(1); }\n        else{\n          for(var x=0; x<count[lv]; x++){\n            build_pattern(lv-1);\n          }\n\n          if(remainder[lv]){\n            build_pattern(lv-2);\n          }\n        }\n      }\n  ;\n\n  while(remainder[level] > 1){\n    count.push(Math.floor(divisor/remainder[level]));\n    remainder.push(divisor%remainder[level]);\n    divisor = remainder[level];\n    level++;\n  }\n  count.push(divisor);\n\n  build_pattern(level);\n\n  return pattern.reverse();\n}\n\n\nmodule.exports = function(m, k){\n  if(m > k) return bjorklund(m, k);\n  else return bjorklund(k, m);\n};\n\n},{}],3:[function(require,module,exports){\n/**\n * @license Fraction.js v4.0.12 09/09/2015\n * http://www.xarg.org/2014/03/rational-numbers-in-javascript/\n *\n * Copyright (c) 2015, Robert Eisele (robert@xarg.org)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n **/\n\n\n/**\n *\n * This class offers the possibility to calculate fractions.\n * You can pass a fraction in different formats. Either as array, as double, as string or as an integer.\n *\n * Array/Object form\n * [ 0 => <nominator>, 1 => <denominator> ]\n * [ n => <nominator>, d => <denominator> ]\n *\n * Integer form\n * - Single integer value\n *\n * Double form\n * - Single double value\n *\n * String form\n * 123.456 - a simple double\n * 123/456 - a string fraction\n * 123.'456' - a double with repeating decimal places\n * 123.(456) - synonym\n * 123.45'6' - a double with repeating last place\n * 123.45(6) - synonym\n *\n * Example:\n *\n * var f = new Fraction(\"9.4'31'\");\n * f.mul([-4, 3]).div(4.9);\n *\n */\n\n(function(root) {\n\n  \"use strict\";\n\n  // Maximum search depth for cyclic rational numbers. 2000 should be more than enough.\n  // Example: 1/7 = 0.(142857) has 6 repeating decimal places.\n  // If MAX_CYCLE_LEN gets reduced, long cycles will not be detected and toString() only gets the first 10 digits\n  var MAX_CYCLE_LEN = 2000;\n\n  // Parsed data to avoid calling \"new\" all the time\n  var P = {\n    \"s\": 1,\n    \"n\": 0,\n    \"d\": 1\n  };\n\n  function createError(name) {\n\n    function errorConstructor() {\n      var temp = Error.apply(this, arguments);\n      temp['name'] = this['name'] = name;\n      this['stack'] = temp['stack'];\n      this['message'] = temp['message'];\n    }\n\n    /**\n     * Error constructor\n     *\n     * @constructor\n     */\n    function IntermediateInheritor() {}\n    IntermediateInheritor.prototype = Error.prototype;\n    errorConstructor.prototype = new IntermediateInheritor();\n\n    return errorConstructor;\n  }\n\n  var DivisionByZero = Fraction['DivisionByZero'] = createError('DivisionByZero');\n  var InvalidParameter = Fraction['InvalidParameter'] = createError('InvalidParameter');\n\n  function assign(n, s) {\n\n    if (isNaN(n = parseInt(n, 10))) {\n      throwInvalidParam();\n    }\n    return n * s;\n  }\n\n  function throwInvalidParam() {\n    throw new InvalidParameter();\n  }\n\n  var parse = function(p1, p2) {\n\n    var n = 0, d = 1, s = 1;\n    var v = 0, w = 0, x = 0, y = 1, z = 1;\n\n    var A = 0, B = 1;\n    var C = 1, D = 1;\n\n    var N = 10000000;\n    var M;\n\n    if (p1 === undefined || p1 === null) {\n      /* void */\n    } else if (p2 !== undefined) {\n      n = p1;\n      d = p2;\n      s = n * d;\n    } else\n      switch (typeof p1) {\n\n        case \"object\":\n        {\n          if (\"d\" in p1 && \"n\" in p1) {\n            n = p1[\"n\"];\n            d = p1[\"d\"];\n            if (\"s\" in p1)\n              n *= p1[\"s\"];\n          } else if (0 in p1) {\n            n = p1[0];\n            if (1 in p1)\n              d = p1[1];\n          } else {\n            throwInvalidParam();\n          }\n          s = n * d;\n          break;\n        }\n        case \"number\":\n        {\n          if (p1 < 0) {\n            s = p1;\n            p1 = -p1;\n          }\n\n          if (p1 % 1 === 0) {\n            n = p1;\n          } else if (p1 > 0) { // check for != 0, scale would become NaN (log(0)), which converges really slow\n\n            if (p1 >= 1) {\n              z = Math.pow(10, Math.floor(1 + Math.log(p1) / Math.LN10));\n              p1 /= z;\n            }\n\n            // Using Farey Sequences\n            // http://www.johndcook.com/blog/2010/10/20/best-rational-approximation/\n\n            while (B <= N && D <= N) {\n              M = (A + C) / (B + D);\n\n              if (p1 === M) {\n                if (B + D <= N) {\n                  n = A + C;\n                  d = B + D;\n                } else if (D > B) {\n                  n = C;\n                  d = D;\n                } else {\n                  n = A;\n                  d = B;\n                }\n                break;\n\n              } else {\n\n                if (p1 > M) {\n                  A += C;\n                  B += D;\n                } else {\n                  C += A;\n                  D += B;\n                }\n\n                if (B > N) {\n                  n = C;\n                  d = D;\n                } else {\n                  n = A;\n                  d = B;\n                }\n              }\n            }\n            n *= z;\n          } else if (isNaN(p1) || isNaN(p2)) {\n            d = n = NaN;\n          }\n          break;\n        }\n        case \"string\":\n        {\n          B = p1.match(/\\d+|./g);\n\n          if (B === null)\n            throwInvalidParam();\n\n          if (B[A] === '-') {// Check for minus sign at the beginning\n            s = -1;\n            A++;\n          } else if (B[A] === '+') {// Check for plus sign at the beginning\n            A++;\n          }\n\n          if (B.length === A + 1) { // Check if it's just a simple number \"1234\"\n            w = assign(B[A++], s);\n          } else if (B[A + 1] === '.' || B[A] === '.') { // Check if it's a decimal number\n\n            if (B[A] !== '.') { // Handle 0.5 and .5\n              v = assign(B[A++], s);\n            }\n            A++;\n\n            // Check for decimal places\n            if (A + 1 === B.length || B[A + 1] === '(' && B[A + 3] === ')' || B[A + 1] === \"'\" && B[A + 3] === \"'\") {\n              w = assign(B[A], s);\n              y = Math.pow(10, B[A].length);\n              A++;\n            }\n\n            // Check for repeating places\n            if (B[A] === '(' && B[A + 2] === ')' || B[A] === \"'\" && B[A + 2] === \"'\") {\n              x = assign(B[A + 1], s);\n              z = Math.pow(10, B[A + 1].length) - 1;\n              A += 3;\n            }\n\n          } else if (B[A + 1] === '/' || B[A + 1] === ':') { // Check for a simple fraction \"123/456\" or \"123:456\"\n            w = assign(B[A], s);\n            y = assign(B[A + 2], 1);\n            A += 3;\n          } else if (B[A + 3] === '/' && B[A + 1] === ' ') { // Check for a complex fraction \"123 1/2\"\n            v = assign(B[A], s);\n            w = assign(B[A + 2], s);\n            y = assign(B[A + 4], 1);\n            A += 5;\n          }\n\n          if (B.length <= A) { // Check for more tokens on the stack\n            d = y * z;\n            s = /* void */\n                    n = x + d * v + z * w;\n            break;\n          }\n\n          /* Fall through on error */\n        }\n        default:\n          throwInvalidParam();\n      }\n\n    if (d === 0) {\n      throw new DivisionByZero();\n    }\n\n    P[\"s\"] = s < 0 ? -1 : 1;\n    P[\"n\"] = Math.abs(n);\n    P[\"d\"] = Math.abs(d);\n  };\n\n  function modpow(b, e, m) {\n\n    var r = 1;\n    for (; e > 0; b = (b * b) % m, e >>= 1) {\n\n      if (e & 1) {\n        r = (r * b) % m;\n      }\n    }\n    return r;\n  }\n\n\n  function cycleLen(n, d) {\n\n    for (; d % 2 === 0;\n            d /= 2) {\n    }\n\n    for (; d % 5 === 0;\n            d /= 5) {\n    }\n\n    if (d === 1) // Catch non-cyclic numbers\n      return 0;\n\n    // If we would like to compute really large numbers quicker, we could make use of Fermat's little theorem:\n    // 10^(d-1) % d == 1\n    // However, we don't need such large numbers and MAX_CYCLE_LEN should be the capstone,\n    // as we want to translate the numbers to strings.\n\n    var rem = 10 % d;\n    var t = 1;\n\n    for (; rem !== 1; t++) {\n      rem = rem * 10 % d;\n\n      if (t > MAX_CYCLE_LEN)\n        return 0; // Returning 0 here means that we don't print it as a cyclic number. It's likely that the answer is `d-1`\n    }\n    return t;\n  }\n\n\n     function cycleStart(n, d, len) {\n\n    var rem1 = 1;\n    var rem2 = modpow(10, len, d);\n\n    for (var t = 0; t < 300; t++) { // s < ~log10(Number.MAX_VALUE)\n      // Solve 10^s == 10^(s+t) (mod d)\n\n      if (rem1 === rem2)\n        return t;\n\n      rem1 = rem1 * 10 % d;\n      rem2 = rem2 * 10 % d;\n    }\n    return 0;\n  }\n\n  function gcd(a, b) {\n\n    if (!a)\n      return b;\n    if (!b)\n      return a;\n\n    while (1) {\n      a %= b;\n      if (!a)\n        return b;\n      b %= a;\n      if (!b)\n        return a;\n    }\n  };\n\n  /**\n   * Module constructor\n   *\n   * @constructor\n   * @param {number|Fraction=} a\n   * @param {number=} b\n   */\n  function Fraction(a, b) {\n\n    if (!(this instanceof Fraction)) {\n      return new Fraction(a, b);\n    }\n\n    parse(a, b);\n\n    if (Fraction['REDUCE']) {\n      a = gcd(P[\"d\"], P[\"n\"]); // Abuse a\n    } else {\n      a = 1;\n    }\n\n    this[\"s\"] = P[\"s\"];\n    this[\"n\"] = P[\"n\"] / a;\n    this[\"d\"] = P[\"d\"] / a;\n  }\n\n  /**\n   * Boolean global variable to be able to disable automatic reduction of the fraction\n   *\n   */\n  Fraction['REDUCE'] = 1;\n\n  Fraction.prototype = {\n\n    \"s\": 1,\n    \"n\": 0,\n    \"d\": 1,\n\n    /**\n     * Calculates the absolute value\n     *\n     * Ex: new Fraction(-4).abs() => 4\n     **/\n    \"abs\": function() {\n\n      return new Fraction(this[\"n\"], this[\"d\"]);\n    },\n\n    /**\n     * Inverts the sign of the current fraction\n     *\n     * Ex: new Fraction(-4).neg() => 4\n     **/\n    \"neg\": function() {\n\n      return new Fraction(-this[\"s\"] * this[\"n\"], this[\"d\"]);\n    },\n\n    /**\n     * Adds two rational numbers\n     *\n     * Ex: new Fraction({n: 2, d: 3}).add(\"14.9\") => 467 / 30\n     **/\n    \"add\": function(a, b) {\n\n      parse(a, b);\n      return new Fraction(\n              this[\"s\"] * this[\"n\"] * P[\"d\"] + P[\"s\"] * this[\"d\"] * P[\"n\"],\n              this[\"d\"] * P[\"d\"]\n              );\n    },\n\n    /**\n     * Subtracts two rational numbers\n     *\n     * Ex: new Fraction({n: 2, d: 3}).add(\"14.9\") => -427 / 30\n     **/\n    \"sub\": function(a, b) {\n\n      parse(a, b);\n      return new Fraction(\n              this[\"s\"] * this[\"n\"] * P[\"d\"] - P[\"s\"] * this[\"d\"] * P[\"n\"],\n              this[\"d\"] * P[\"d\"]\n              );\n    },\n\n    /**\n     * Multiplies two rational numbers\n     *\n     * Ex: new Fraction(\"-17.(345)\").mul(3) => 5776 / 111\n     **/\n    \"mul\": function(a, b) {\n\n      parse(a, b);\n      return new Fraction(\n              this[\"s\"] * P[\"s\"] * this[\"n\"] * P[\"n\"],\n              this[\"d\"] * P[\"d\"]\n              );\n    },\n\n    /**\n     * Divides two rational numbers\n     *\n     * Ex: new Fraction(\"-17.(345)\").inverse().div(3)\n     **/\n    \"div\": function(a, b) {\n\n      parse(a, b);\n      return new Fraction(\n              this[\"s\"] * P[\"s\"] * this[\"n\"] * P[\"d\"],\n              this[\"d\"] * P[\"n\"]\n              );\n    },\n\n    /**\n     * Clones the actual object\n     *\n     * Ex: new Fraction(\"-17.(345)\").clone()\n     **/\n    \"clone\": function() {\n      return new Fraction(this);\n    },\n\n    /**\n     * Calculates the modulo of two rational numbers - a more precise fmod\n     *\n     * Ex: new Fraction('4.(3)').mod([7, 8]) => (13/3) % (7/8) = (5/6)\n     **/\n    \"mod\": function(a, b) {\n\n      if (isNaN(this['n']) || isNaN(this['d'])) {\n        return new Fraction(NaN);\n      }\n\n      if (a === undefined) {\n        return new Fraction(this[\"s\"] * this[\"n\"] % this[\"d\"], 1);\n      }\n\n      parse(a, b);\n      if (0 === P[\"n\"] && 0 === this[\"d\"]) {\n        Fraction(0, 0); // Throw DivisionByZero\n      }\n\n      /*\n       * First silly attempt, kinda slow\n       *\n       return that[\"sub\"]({\n       \"n\": num[\"n\"] * Math.floor((this.n / this.d) / (num.n / num.d)),\n       \"d\": num[\"d\"],\n       \"s\": this[\"s\"]\n       });*/\n\n      /*\n       * New attempt: a1 / b1 = a2 / b2 * q + r\n       * => b2 * a1 = a2 * b1 * q + b1 * b2 * r\n       * => (b2 * a1 % a2 * b1) / (b1 * b2)\n       */\n      return new Fraction(\n              this[\"s\"] * (P[\"d\"] * this[\"n\"]) % (P[\"n\"] * this[\"d\"]),\n              P[\"d\"] * this[\"d\"]\n              );\n    },\n\n    /**\n     * Calculates the fractional gcd of two rational numbers\n     *\n     * Ex: new Fraction(5,8).gcd(3,7) => 1/56\n     */\n    \"gcd\": function(a, b) {\n\n      parse(a, b);\n\n      // gcd(a / b, c / d) = gcd(a, c) / lcm(b, d)\n\n      return new Fraction(gcd(P[\"n\"], this[\"n\"]) * gcd(P[\"d\"], this[\"d\"]), P[\"d\"] * this[\"d\"]);\n    },\n\n    /**\n     * Calculates the fractional lcm of two rational numbers\n     *\n     * Ex: new Fraction(5,8).lcm(3,7) => 15\n     */\n    \"lcm\": function(a, b) {\n\n      parse(a, b);\n\n      // lcm(a / b, c / d) = lcm(a, c) / gcd(b, d)\n\n      if (P[\"n\"] === 0 && this[\"n\"] === 0) {\n        return new Fraction;\n      }\n      return new Fraction(P[\"n\"] * this[\"n\"], gcd(P[\"n\"], this[\"n\"]) * gcd(P[\"d\"], this[\"d\"]));\n    },\n\n    /**\n     * Calculates the ceil of a rational number\n     *\n     * Ex: new Fraction('4.(3)').ceil() => (5 / 1)\n     **/\n    \"ceil\": function(places) {\n\n      places = Math.pow(10, places || 0);\n\n      if (isNaN(this[\"n\"]) || isNaN(this[\"d\"])) {\n        return new Fraction(NaN);\n      }\n      return new Fraction(Math.ceil(places * this[\"s\"] * this[\"n\"] / this[\"d\"]), places);\n    },\n\n    /**\n     * Calculates the floor of a rational number\n     *\n     * Ex: new Fraction('4.(3)').floor() => (4 / 1)\n     **/\n    \"floor\": function(places) {\n\n      places = Math.pow(10, places || 0);\n\n      if (isNaN(this[\"n\"]) || isNaN(this[\"d\"])) {\n        return new Fraction(NaN);\n      }\n      return new Fraction(Math.floor(places * this[\"s\"] * this[\"n\"] / this[\"d\"]), places);\n    },\n\n    /**\n     * Rounds a rational numbers\n     *\n     * Ex: new Fraction('4.(3)').round() => (4 / 1)\n     **/\n    \"round\": function(places) {\n\n      places = Math.pow(10, places || 0);\n\n      if (isNaN(this[\"n\"]) || isNaN(this[\"d\"])) {\n        return new Fraction(NaN);\n      }\n      return new Fraction(Math.round(places * this[\"s\"] * this[\"n\"] / this[\"d\"]), places);\n    },\n\n    /**\n     * Gets the inverse of the fraction, means numerator and denumerator are exchanged\n     *\n     * Ex: new Fraction([-3, 4]).inverse() => -4 / 3\n     **/\n    \"inverse\": function() {\n\n      return new Fraction(this[\"s\"] * this[\"d\"], this[\"n\"]);\n    },\n\n    /**\n     * Calculates the fraction to some integer exponent\n     *\n     * Ex: new Fraction(-1,2).pow(-3) => -8\n     */\n    \"pow\": function(m) {\n\n      if (m < 0) {\n        return new Fraction(Math.pow(this['s'] * this[\"d\"], -m), Math.pow(this[\"n\"], -m));\n      } else {\n        return new Fraction(Math.pow(this['s'] * this[\"n\"], m), Math.pow(this[\"d\"], m));\n      }\n    },\n\n    /**\n     * Check if two rational numbers are the same\n     *\n     * Ex: new Fraction(19.6).equals([98, 5]);\n     **/\n    \"equals\": function(a, b) {\n\n      parse(a, b);\n      return this[\"s\"] * this[\"n\"] * P[\"d\"] === P[\"s\"] * P[\"n\"] * this[\"d\"]; // Same as compare() === 0\n    },\n\n    /**\n     * Check if two rational numbers are the same\n     *\n     * Ex: new Fraction(19.6).equals([98, 5]);\n     **/\n    \"compare\": function(a, b) {\n\n      parse(a, b);\n      var t = (this[\"s\"] * this[\"n\"] * P[\"d\"] - P[\"s\"] * P[\"n\"] * this[\"d\"]);\n      return (0 < t) - (t < 0);\n    },\n\n    \"simplify\": function(eps) {\n\n      // First naive implementation, needs improvement\n\n      if (isNaN(this['n']) || isNaN(this['d'])) {\n        return this;\n      }\n\n      var cont = this['abs']()['toContinued']();\n\n      eps = eps || 0.001;\n\n      function rec(a) {\n        if (a.length === 1)\n          return new Fraction(a[0]);\n        return rec(a.slice(1))['inverse']()['add'](a[0]);\n      }\n\n      for (var i = 0; i < cont.length; i++) {\n        var tmp = rec(cont.slice(0, i + 1));\n        if (tmp['sub'](this['abs']())['abs']().valueOf() < eps) {\n          return tmp['mul'](this['s']);\n        }\n      }\n      return this;\n    },\n\n    /**\n     * Check if two rational numbers are divisible\n     *\n     * Ex: new Fraction(19.6).divisible(1.5);\n     */\n    \"divisible\": function(a, b) {\n\n      parse(a, b);\n      return !(!(P[\"n\"] * this[\"d\"]) || ((this[\"n\"] * P[\"d\"]) % (P[\"n\"] * this[\"d\"])));\n    },\n\n    /**\n     * Returns a decimal representation of the fraction\n     *\n     * Ex: new Fraction(\"100.'91823'\").valueOf() => 100.91823918239183\n     **/\n    'valueOf': function() {\n\n      return this[\"s\"] * this[\"n\"] / this[\"d\"];\n    },\n\n    /**\n     * Returns a string-fraction representation of a Fraction object\n     *\n     * Ex: new Fraction(\"1.'3'\").toFraction() => \"4 1/3\"\n     **/\n    'toFraction': function(excludeWhole) {\n\n      var whole, str = \"\";\n      var n = this[\"n\"];\n      var d = this[\"d\"];\n      if (this[\"s\"] < 0) {\n        str += '-';\n      }\n\n      if (d === 1) {\n        str += n;\n      } else {\n\n        if (excludeWhole && (whole = Math.floor(n / d)) > 0) {\n          str += whole;\n          str += \" \";\n          n %= d;\n        }\n\n        str += n;\n        str += '/';\n        str += d;\n      }\n      return str;\n    },\n\n    /**\n     * Returns a latex representation of a Fraction object\n     *\n     * Ex: new Fraction(\"1.'3'\").toLatex() => \"\\frac{4}{3}\"\n     **/\n    'toLatex': function(excludeWhole) {\n\n      var whole, str = \"\";\n      var n = this[\"n\"];\n      var d = this[\"d\"];\n      if (this[\"s\"] < 0) {\n        str += '-';\n      }\n\n      if (d === 1) {\n        str += n;\n      } else {\n\n        if (excludeWhole && (whole = Math.floor(n / d)) > 0) {\n          str += whole;\n          n %= d;\n        }\n\n        str += \"\\\\frac{\";\n        str += n;\n        str += '}{';\n        str += d;\n        str += '}';\n      }\n      return str;\n    },\n\n    /**\n     * Returns an array of continued fraction elements\n     *\n     * Ex: new Fraction(\"7/8\").toContinued() => [0,1,7]\n     */\n    'toContinued': function() {\n\n      var t;\n      var a = this['n'];\n      var b = this['d'];\n      var res = [];\n\n      if (isNaN(this['n']) || isNaN(this['d'])) {\n        return res;\n      }\n\n      do {\n        res.push(Math.floor(a / b));\n        t = a % b;\n        a = b;\n        b = t;\n      } while (a !== 1);\n\n      return res;\n    },\n\n    /**\n     * Creates a string representation of a fraction with all digits\n     *\n     * Ex: new Fraction(\"100.'91823'\").toString() => \"100.(91823)\"\n     **/\n    'toString': function(dec) {\n\n      var g;\n      var N = this[\"n\"];\n      var D = this[\"d\"];\n\n      if (isNaN(N) || isNaN(D)) {\n        return \"NaN\";\n      }\n\n      if (!Fraction['REDUCE']) {\n        g = gcd(N, D);\n        N /= g;\n        D /= g;\n      }\n\n      dec = dec || 15; // 15 = decimal places when no repitation\n\n      var cycLen = cycleLen(N, D); // Cycle length\n      var cycOff = cycleStart(N, D, cycLen); // Cycle start\n\n      var str = this['s'] === -1 ? \"-\" : \"\";\n\n      str += N / D | 0;\n\n      N %= D;\n      N *= 10;\n\n      if (N)\n        str += \".\";\n\n      if (cycLen) {\n\n        for (var i = cycOff; i--; ) {\n          str += N / D | 0;\n          N %= D;\n          N *= 10;\n        }\n        str += \"(\";\n        for (var i = cycLen; i--; ) {\n          str += N / D | 0;\n          N %= D;\n          N *= 10;\n        }\n        str += \")\";\n      } else {\n        for (var i = dec; N && i--; ) {\n          str += N / D | 0;\n          N %= D;\n          N *= 10;\n        }\n      }\n      return str;\n    }\n  };\n\n  if (typeof define === \"function\" && define[\"amd\"]) {\n    define([], function() {\n      return Fraction;\n    });\n  } else if (typeof exports === \"object\") {\n    Object.defineProperty(exports, \"__esModule\", {'value': true});\n    Fraction['default'] = Fraction;\n    Fraction['Fraction'] = Fraction;\n    module['exports'] = Fraction;\n  } else {\n    root['Fraction'] = Fraction;\n  }\n\n})(this);\n\n},{}],4:[function(require,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n},{}],5:[function(require,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],6:[function(require,module,exports){\nmodule.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n},{}],7:[function(require,module,exports){\n(function (process,global){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./support/isBuffer\":6,\"_process\":5,\"inherits\":4}],8:[function(require,module,exports){\nconst parse = require('../dist/tidal.js').parse\nconst query = require('./queryArc.js' ).queryArc\nconst Fraction = require( 'fraction.js' )\n\n/* The Pattern object is used to parse a pattern\n * a single time and then query it repeatedly, assuming\n * different start and end times for each query. A priority\n * queue is used to sort the events...\n*/\nconst Pattern = ( patternString, opts ) => {\n  if( typeof patternString !== 'string' )\n    throw 'You must provide a string to generate the pattern from'\n\n  let __data\n  try{\n    __data = parse( patternString, opts )\n  }catch( e ) {\n    throw `We were unable to parse the pattern ${patternString}. ${e.toString()}`\n  }\n\n  const ptrn = {\n    __rawString: patternString,\n    __data,\n\n    events: null,\n\n    __sort( a,b ) { return a.arc.start.compare( b.arc.start ) },\n    query( start, duration ) {\n      if( typeof start !== 'object' ) start = Fraction( start )\n      if( typeof duration !== 'object' ) duration = Fraction( duration )\n\n      ptrn.events = query(\n        ptrn.__data,\n        start,\n        duration\n      )\n      .sort( ptrn.__sort )\n\n      return ptrn.events\n    },\n\n    print() {\n      if( ptrn.events !== null ) {\n        ptrn.events.forEach( v =>\n          console.log(\n            `${v.arc.start.toFraction()} - ${v.arc.end.toFraction()}: [ ${v.value.toString()} ]`\n          )\n        )\n      }else{\n        console.log( 'No events have been generated from the pattern; have you queried it yet?' )\n      }\n    }\n  }\n\n  return ptrn\n}\n\nmodule.exports = Pattern\n\n},{\"../dist/tidal.js\":1,\"./queryArc.js\":9,\"fraction.js\":3}],9:[function(require,module,exports){\nconst Fraction = require( 'fraction.js' )\nconst util     = require( 'util' )\nconst bjork    = require( 'bjork' )\nconst log      = util.inspect\n\n/* queryArc\n *\n * Generates events for provided pattern, starting at\n * an initial phase, subdivides queries in individual\n * cycles if duration of query is greater than 1 cycle.\n * Filters events outside of the the intended range.\n * Remaps events to be relative to the initial phase.\n */\nconst queryArc = function( pattern, phase, duration ) {\n  const start         = phase.clone(),\n        end           = start.add( duration ),\n        // get phase offset if scheduling begins in middle of event arc\n        adjustedPhase = adjustPhase( phase, getPhaseIncr( pattern ), end )\n\n  let eventList\n\n  // if we're querying an arc that is less than or equal to one cycle in length..\n  if( duration.valueOf() <= 1 ) {\n    eventList = processPattern(\n      pattern,\n      duration,\n      adjustedPhase,\n      null,\n      null,\n      false//shouldRemap( pattern )\n    )\n  }else{\n    // for longer arcs we need to query one cycle at a time\n    eventList = []\n    let count = 0\n    for( let i = adjustedPhase.valueOf(); i < adjustedPhase.add( duration ).valueOf(); i++ ) {\n      eventList = eventList.concat(\n        processPattern(\n          pattern,\n          Fraction(1),\n          adjustedPhase.add( count++ ),\n          null,\n          null,\n          false\n        )\n      )\n    }\n  }\n\n  // prune any events that fall before our start phase or after our end phase\n  eventList = eventList.filter( evt => {\n    return evt.arc.start.valueOf() >= start.valueOf()\n        && evt.arc.start.valueOf() <  end.valueOf()\n  })\n  // remap events to make their arcs relative to initial phase argument\n  .map( evt => {\n    evt.arc.start = evt.arc.start.sub( start )\n    evt.arc.end   = evt.arc.end.sub( start )\n    return evt\n  })\n\n  //console.log( 'eventList:', log(eventList,{depth:4}) )\n  return eventList\n}\n\n// if an event is found that represents a pattern (as opposed to a constant) this function\n// is called to query the pattern and map any generated events to the appropriate timespan\nconst processPattern = ( pattern, duration, phase, phaseIncr=null, override = null, shouldRemapArcs=true ) => {\n  //if( phaseIncr !== null ) debugger\n  let events = handlers[ pattern.type ](\n    [],\n    pattern,\n    shouldReset( pattern ) === true ? Fraction(0) : phase.clone(),\n    // XXX this is confusing. we are getting around a problem\n    // with polymeters where duplicate events are generated by\n    // not passing a phaseIncr... it's not needed since there's an\n    // override. But this doesn't seem like correct way to solve\n    // this problem and will probably cause future problems...\n    phaseIncr !== null ? duration.div( phaseIncr ) : duration,\n    override\n  )\n\n  // if needed, remap arcs for events\n  if( shouldRemapArcs === true ) {\n    if( phaseIncr === null ) phaseIncr = getPhaseIncr( pattern )\n    events = events.map( v => ({\n      value: v.value,\n      arc: getMappedArc( v.arc, phase.clone(), phaseIncr )\n    }) )\n  }\n\n  return events\n}\n// placeholder for potentially adding more goodies (parent arc etc.) later\nconst Arc = ( start, end ) => ({ start, end })\n\nconst shouldNotRemap = ['polymeter', 'onestep']\nconst shouldRemap = pattern => shouldNotRemap.indexOf( pattern.type ) === -1\n\n// XXX seems like getMappedArc should be changed to what onestep and group are now using?\n// would that change work with how getMappedArc is used in processPattern?\n\n// map arc time values to appropriate durations\nconst getMappedArc = ( arc, phase, phaseIncr ) => {\n  let mappedArc\n\n  if( phase.mod( phaseIncr ).valueOf() !== 0 ) {\n    mappedArc = Arc(\n      arc.start.mul( phaseIncr ).add( phase ),\n      arc.end.mul( phaseIncr ).add( phaseIncr.mod( phase ) )\n    )\n  }else{\n    mappedArc = Arc(\n      arc.start.mul( phaseIncr ).add( phase ),\n      arc.end.mul( phaseIncr ).add( phase )\n    )\n  }\n\n  return mappedArc\n}\n\n// if initial phase is in the middle of an arc, advance to the end by calculating the difference\n// between the current phase and the start of the next arc, and increasing phase accordingly.\nconst adjustPhase = ( phase, phaseIncr, end ) => phase.valueOf() === 0\n  ? Fraction(0)\n  : phase.sub( phase.mod( phaseIncr ) )\n\n// check to see if phase should advance to next event, or, if next event is too far in the future, to the\n// end of the current duration being requested.\nconst advancePhase = ( phase, phaseIncr, end ) => phase + phaseIncr <= end ? phase.add( phaseIncr ) : end\n\n// calculate the duration of the current event being processed.\nconst calculateDuration = ( phase, phaseIncr, end ) => phase + phaseIncr <= end ? phaseIncr : end.sub( phase )\n\n// get an index number for a pattern for a particular phase\nconst getIndex = ( pattern, phase ) => {\n  let idx = 0\n  if( pattern.options !== undefined ) {\n    if( pattern.options.overrideIncr === true ) {\n      idx = phase.div( pattern.options.incr ).mod( pattern.values.length ).floor()\n    }\n  }else{\n    // default list behavior\n    idx = phase.mul( Fraction( pattern.values.length ) ).mod( pattern.values.length ).floor()\n  }\n\n  return idx.valueOf()\n}\n\n// in addition to 'fast', phase resets are also necessary when indexing subpatterns,\n// which are currently arrays with no defined .type property, hence the inclusion of\n// undefined in the array below\nconst shouldResetPhase = [ 'repeat', undefined, 'group', 'layers' ]\n\n// XXX does these need to look at all parents recursively? Right now we're only using one generation...\nconst shouldReset = pattern => {\n  const reset = shouldResetPhase.indexOf( pattern.type ) > -1\n  const parent = pattern.parent !== undefined && shouldResetPhase.indexOf( pattern.parent.type ) > -1\n\n  return reset && parent\n}\n\n// I assume this will need to be a switch on pattern.type in the future...\nconst getPhaseIncr = pattern => {\n  let incr\n\n  switch( pattern.type ) {\n    case 'polymeter': incr = Fraction( 1, pattern.left.values.length ); break;\n    case 'number': case 'string': incr = Fraction( 1 ); break;\n    case 'onestep': incr = null; break;\n    default: incr = pattern.values !== undefined ? Fraction( 1, pattern.values.length ) : Fraction(1); break;\n  }\n\n  return incr\n}\n\nconst handlers = {\n  rest( state ) { return state },\n\n  // standard lists e.g. '0 1 2 3' or '[0 1 2]'\n  group( state, pattern, phase, duration, overrideIncr=null ) {\n    const start     = phase.clone(),\n          end       = start.add( duration ),\n          phaseIncr = overrideIncr === null\n            ? getPhaseIncr( pattern )\n            : overrideIncr\n\n    let eventList = []\n\n    //console.log(\n    //  'type:',  pattern.type,\n    //  'phase:', phase.toFraction(),\n    //  'incr:',  phaseIncr.toFraction(),\n    //  'dur:',   duration.toFraction()\n    //)\n\n    while( phase.compare( end ) < 0 ) {\n      // if pattern is a list, read using current phase, else read directly\n      const member = Array.isArray( pattern.values ) === true\n        ? pattern.values[ getIndex( pattern, phase ) ]\n        : pattern.value\n\n      // get duration of current event being processed\n      const dur = calculateDuration( phase, phaseIncr, end )\n\n      // if value is not a numeric or string constant (if it's a pattern)...\n      if( member === undefined || (isNaN( member.value ) && typeof member.value !== 'string') ) {\n        // query the pattern and remap time values appropriately\n        if( member !== undefined ) member.parent = pattern\n        //const events = processPattern( member, dur, phase.clone(), getPhaseIncr( member ), null, shouldRemap( member ) )\n        //console.log( 'processing ', pattern.type, member.type, dur.toFraction(),  phaseIncr.toFraction() )\n        const events = processPattern(\n          member,\n          Fraction(1),\n          Fraction(0),\n          null, //getPhaseIncr(member),\n          null,\n          false//shouldRemap( member )\n        )\n        .map( evt => {\n          evt.arc.start = evt.arc.start.mul( dur ).add( phase )\n          evt.arc.end   = evt.arc.end.mul( dur ).add( phase )\n          return evt\n        })\n\n        eventList = eventList.concat( events )\n      }else{\n        // XXX shouldn't we just process all patterns???\n        // member does not need further processing, so add to event list\n        const evt = {\n          value:member.value,\n          arc:Arc( phase, phase.add( dur ) ),\n        }\n        if( member.uid !== undefined ) evt.uid = member.uid\n\n        eventList.push( evt )\n      }\n\n      // assuming we are starting / ending at a regular phase increment value...\n      if( phase.mod( phaseIncr ).valueOf() === 0 ) {\n        phase = advancePhase( phase, phaseIncr, end )\n      }else{\n        // advance phase to next phase increment\n        phase = phase.add( phaseIncr.sub( phase.mod( phaseIncr ) ) )\n      }\n    }\n\n    // prune any events that fall before our start phase or after our end phase\n    eventList = eventList.filter( evt => {\n      return evt.arc.start.valueOf() >= start.valueOf() && evt.arc.start.valueOf() < end.valueOf()\n    })\n\n    return state.concat( eventList )\n  },\n\n  bjorklund( state, pattern, phase, duration ) {\n    const onesAndZeros = bjork( pattern.pulses.value, pattern.slots.value )\n    let rotation = pattern.rotation !== null ? pattern.rotation.value : 0\n\n    // rotate right\n    if( rotation > 0 ) {\n      while( rotation > 0 ) {\n        const right = onesAndZeros.pop()\n        onesAndZeros.unshift( right )\n        rotation--\n      }\n    } else if( rotation < 0 ) {\n      // rotate left\n      while( rotation < 0 ) {\n        const left = onesAndZeros.shift()\n        onesAndZeros.push( left )\n        rotation++\n      }\n    }\n\n    const slotDuration = duration.div( pattern.slots.value )\n    const valueIsValue = pattern.value.type === 'number' || pattern.value.type === 'string'\n\n    const events = onesAndZeros.map( ( shouldInclude, i, arr ) => {\n      let evt\n      // don't process unless an actual event will be included...\n      if( shouldInclude === 1 ) {\n        const startPhase = phase.add( slotDuration.mul( i ) )\n        evt = {\n          shouldInclude,\n          // XXX is there a case where we should use more than\n          // the first value by querying the value pattern?\n          value:valueIsValue ? pattern.value : processPattern( pattern.value, slotDuration, startPhase )[0].value,\n          arc:Arc( startPhase, startPhase.add( slotDuration ) )\n        }\n      }else{\n        evt = { shouldInclude }\n      }\n\n      return evt\n    })\n    .filter( evt => {\n      let shouldInclude = evt.shouldInclude\n\n      // needed to pass tests and is also cleaner...\n      delete evt.shouldInclude\n      return shouldInclude === 1\n    })\n\n    events.forEach( evt => state.push( evt ) )\n\n    return state\n  },\n\n  onestep( state, pattern, phase, duration ) {\n    pattern.values.forEach( group => {\n      // initialize, then increment. this assumes that the pattern will be parsed once,\n      // and then the resulting data structure will be queried repeatedly, enabling the use\n      // of state.\n      group.count = group.count === undefined ? 0 : group.count + 1\n\n      const subpattern = group.values[ group.count % group.values.length ]\n      const dur = duration.valueOf() <= 1 ? Fraction(1) : duration\n      const durDiff = duration.mul( dur )\n\n      const events = processPattern(\n        subpattern,\n        dur,\n        Fraction(0),\n        null,\n        null,null,true\n      ).map( evt => {\n        evt.arc.start = evt.arc.start.mul( duration ).add( phase )\n        evt.arc.end = evt.arc.end.mul( duration ).add( phase )\n\n        return evt\n      })\n\n      state.push( ...events )\n    })\n\n    return state\n  },\n\n  number( state, pattern, phase, duration ) {\n    const evt = { arc:Arc( phase, phase.add( duration ) ), value:pattern.value }\n    if( pattern.uid !== undefined ) evt.uid = pattern.uid\n    state.push(evt)\n    return state\n  },\n\n  string( state, pattern, phase, duration ) {\n    const evt = { arc:Arc( phase, phase.add( duration ) ), value:pattern.value }\n    if( pattern.uid !== undefined ) evt.uid = pattern.uid\n    state.push(evt)\n    return state\n  },\n\n  degrade( state, pattern, phase, duration ) {\n    if( Math.random() > .5 ) {\n      const evt = {\n        arc:Arc( phase, phase.add( duration ) ),\n        value:pattern.value\n      }\n\n      if( pattern.uid !== undefined ) evt.uid = pattern.uid\n\n      state.push( evt )\n    }\n\n    return state\n  },\n\n  polymeter( state, pattern, phase, duration ) {\n    pattern.left.parent = pattern.right.parent = pattern\n\n    const incr  = Fraction( 1, pattern.left.values.length )\n    const left  = processPattern( pattern.left, duration, phase.clone(), duration, incr, false )\n\n    pattern.right.options = { overrideIncr: true, incr }\n    const right = processPattern( pattern.right, duration, phase.clone(), duration, incr, false )\n\n    return state.concat( left ).concat( right )\n  },\n\n  layers( state, pattern, phase, duration ) {\n    //pattern.left.parent = pattern.right.parent = pattern\n    for( const group of pattern.values ) {\n      const incr = getPhaseIncr( group )\n      const events = processPattern( group, duration.clone(), phase.clone(), duration, null, false)\n      // not sure why excess events are generated, but they need to be filtered...\n      .filter( evt =>\n        evt.arc.start.valueOf() >= phase.valueOf()\n        && evt.arc.start.valueOf() < phase.add( duration ).valueOf()\n      )\n\n      //console.log( 'group:', util.inspect( group, { depth:3 }) )\n      //console.log( 'state:', util.inspect( events, { depth:3 }))\n      state = state.concat( events )\n    }\n\n    return state\n  },\n\n//const processPattern = ( pattern, duration, phase, phaseIncr=null, override = null, shouldRemapArcs=true ) => {\n  repeat( state, pattern, phase, duration ) {\n    // the general process of increasing the speed of a pattern is to query\n    // for a longer duration according to the speed, and the scale the resulting\n    // events.\n\n    // following explanation from yaxu for how subpatterns work with rates...\n    // https://talk.lurk.org/channel/tidal?msg=z5ck73H9EvxQwMqq6\n    // re: pattern a*[2 4 8]\n    // \"Anyway what happens in this kind of situation is that it splits the cycle in three,\n    // each a window on what would have happened if you'd have sped things up by the given number\n    // so for the first third you'd get a third of two a's\n    // for the second third you'd get the second third of four a's...\"\n\n    const speed = pattern.rate.value\n    const events = queryArc(\n        pattern.value,\n        Fraction(0),\n        duration.mul( speed )\n      ).map( evt => {\n        evt.arc.start = evt.arc.start.div( speed ).add( phase )\n        evt.arc.end   = evt.arc.end.div( speed ).add( phase )\n        return evt\n      })\n    // XXX account for having a speeds pattern!!!!\n    /*\n\n    const incr = Fraction(1, speeds.length)\n    const speeds = queryArc( pattern.rate, Fraction(0), Fraction(1) )\n\n    for( let i = 0; i < speeds.length; i++ ) {\n      let speed = speeds[ i ].value\n\n      if( pattern.operator === '*' ) {\n        //events = queryArc(\n        //  pattern.value,\n        //  phase.clone(), //Fraction( 0 ),\n        //  Fraction( speed ).mul( duration )\n        //)\n        events = processPattern(\n          pattern.value,\n          duration.mul( speed ),\n          phase.clone()//Fraction( speed ).mul( duration )\n          //phase.clone()\n        )\n\n        // remap events to correct time spans\n        .map( evt => {\n          evt.arc.start = evt.arc.start.div( speed )//.add( phase )\n          evt.arc.end   = evt.arc.end.div( speed )//.add( phase )\n          return evt\n        })\n        //.filter( evt =>\n        //  evt.arc.start.compare( incr.mul( i ) ) >= 0\n        //    && evt.arc.start.compare( incr.mul( i+1 ) ) < 0\n        //))\n        // add to previous events\n        .concat( events )\n      }else{\n        speed = 1/speed\n        //console.log( 'phase:', phase.mul( speed ) )\n        events = processPattern(\n          pattern.value,\n          duration.mul( Fraction( speed ) ),\n          phase.mul( speed ),\n          getPhaseIncr( pattern ).mul( speed ), null, false\n        )\n        //console.log( 'events:', log( events, { depth:4 } ) )\n        // remap events to correct time spans\n        events.map( evt => {\n          if( evt.arc.start.valueOf() !== 0 ) {\n            // XXX I don't know why this is necessary but it gets rid of a off-by-one error\n            evt.arc.start = evt.arc.start.sub( phase.div( 1/speed ) )\n          }\n\n          // also, does the event length need to be adjusted? might as well...\n          //console.log( 'end:', evt.arc.end.toFraction(), phase.toFraction(), speed )\n          evt.arc.end = evt.arc.end.mul( 1/speed )//.mul( 1/speed )\n          //evt.arc.end.sub( phase.div( 1/speed ) ).add( 1/speed - 1)\n\n          return evt\n        })\n        // remove events don't fall in the current window\n        .filter( evt =>\n          evt.arc.start.compare( incr.mul(i) ) >= 0 &&\n          evt.arc.start.compare( incr.mul(i+1) ) <= 0\n        )\n        // add to previous events\n        .concat( events )\n      }\n    }*/\n\n    return state.concat( events )\n  },\n}\n\nmodule.exports.queryArc = queryArc\n\n},{\"bjork\":2,\"fraction.js\":3,\"util\":7}]},{},[8])(8)\n});\n"],"sourceRoot":""}